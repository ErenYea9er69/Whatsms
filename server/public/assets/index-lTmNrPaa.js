import{a as Xv,b as Zv,r as A,c as Qv,R as em,A as Fv,C as tm,X as nm,Y as am,T as sm,d as fd,B as Kv,e as hd,f as tr,i as Iv,g as rm,h as Jv,j as im,k as Wv,l as Pv,m as fo,n as gd,u as e1}from"./recharts-CLtLozKo.js";import{X as bt,I as t1,C as Ca,a as Tx,b as Td,L as _x,c as n1,U as a1,d as gn,e as Fd,M as s1,H as r1,f as Ci,G as yo,g as gi,S as _d,h as lm,i as i1,j as l1,k as To,l as mi,R as _o,m as xi,P as ka,n as ui,o as an,p as o1,q as Mx,T as om,A as cm,r as Md,s as c1,F as cr,t as hn,u as Dx,v as Kd,w as Mo,x as Ei,y as u1,z as sn,B as um,D as Ox,E as d1,J as f1,K as h1,N as g1,W as md,O as m1,Q as Id,V as pi,Y as Lx,Z as Ps,_ as x1,$ as p1,a0 as y1,a1 as zi,a2 as b1,a3 as v1,a4 as N1,a5 as j1,a6 as w1,a7 as Rx,a8 as dm,a9 as Hx,aa as Ux,ab as S1,ac as Bx,ad as Vx,ae as Jd,af as qx,ag as k1,ah as C1,ai as E1,aj as z1,ak as A1}from"./icons-DhOyLYQ6.js";import{u as $x,N as T1,a as ss,b as ao,O as _1,L as ho,c as Yx,B as M1,R as D1,d as yt}from"./router-BJ1N55rV.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();var xd={exports:{}},ai={};var fm;function O1(){if(fm)return ai;fm=1;var n=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function i(o,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:n,type:o,key:f,ref:c!==void 0?c:null,props:d}}return ai.Fragment=s,ai.jsx=i,ai.jsxs=i,ai}var hm;function L1(){return hm||(hm=1,xd.exports=O1()),xd.exports}var r=L1(),pd={exports:{}},si={},yd={exports:{}},bd={};var gm;function R1(){return gm||(gm=1,(function(n){function s(C,O){var U=C.length;C.push(O);e:for(;0<U;){var Z=U-1>>>1,X=C[Z];if(0<c(X,O))C[Z]=O,C[U]=X,U=Z;else break e}}function i(C){return C.length===0?null:C[0]}function o(C){if(C.length===0)return null;var O=C[0],U=C.pop();if(U!==O){C[0]=U;e:for(var Z=0,X=C.length,P=X>>>1;Z<P;){var W=2*(Z+1)-1,se=C[W],le=W+1,fe=C[le];if(0>c(se,U))le<X&&0>c(fe,se)?(C[Z]=fe,C[le]=U,Z=le):(C[Z]=se,C[W]=U,Z=W);else if(le<X&&0>c(fe,U))C[Z]=fe,C[le]=U,Z=le;else break e}}return O}function c(C,O){var U=C.sortIndex-O.sortIndex;return U!==0?U:C.id-O.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var f=Date,g=f.now();n.unstable_now=function(){return f.now()-g}}var m=[],x=[],y=1,p=null,v=3,j=!1,N=!1,k=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function z(C){for(var O=i(x);O!==null;){if(O.callback===null)o(x);else if(O.startTime<=C)o(x),O.sortIndex=O.expirationTime,s(m,O);else break;O=i(x)}}function L(C){if(k=!1,z(C),!N)if(i(m)!==null)N=!0,B||(B=!0,F());else{var O=i(x);O!==null&&D(L,O.startTime-C)}}var B=!1,$=-1,V=5,q=-1;function te(){return T?!0:!(n.unstable_now()-q<V)}function G(){if(T=!1,B){var C=n.unstable_now();q=C;var O=!0;try{e:{N=!1,k&&(k=!1,M($),$=-1),j=!0;var U=v;try{t:{for(z(C),p=i(m);p!==null&&!(p.expirationTime>C&&te());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,v=p.priorityLevel;var X=Z(p.expirationTime<=C);if(C=n.unstable_now(),typeof X=="function"){p.callback=X,z(C),O=!0;break t}p===i(m)&&o(m),z(C)}else o(m);p=i(m)}if(p!==null)O=!0;else{var P=i(x);P!==null&&D(L,P.startTime-C),O=!1}}break e}finally{p=null,v=U,j=!1}O=void 0}}finally{O?F():B=!1}}}var F;if(typeof w=="function")F=function(){w(G)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,_=H.port2;H.port1.onmessage=G,F=function(){_.postMessage(null)}}else F=function(){E(G,0)};function D(C,O){$=E(function(){C(n.unstable_now())},O)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(C){C.callback=null},n.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<C?Math.floor(1e3/C):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(C){switch(v){case 1:case 2:case 3:var O=3;break;default:O=v}var U=v;v=O;try{return C()}finally{v=U}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(C,O){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var U=v;v=C;try{return O()}finally{v=U}},n.unstable_scheduleCallback=function(C,O,U){var Z=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,C){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=U+X,C={id:y++,callback:O,priorityLevel:C,startTime:U,expirationTime:X,sortIndex:-1},U>Z?(C.sortIndex=U,s(x,C),i(m)===null&&C===i(x)&&(k?(M($),$=-1):k=!0,D(L,U-Z))):(C.sortIndex=X,s(m,C),N||j||(N=!0,B||(B=!0,F()))),C},n.unstable_shouldYield=te,n.unstable_wrapCallback=function(C){var O=v;return function(){var U=v;v=O;try{return C.apply(this,arguments)}finally{v=U}}}})(bd)),bd}var mm;function H1(){return mm||(mm=1,yd.exports=R1()),yd.exports}var xm;function U1(){if(xm)return si;xm=1;var n=H1(),s=Xv(),i=Zv();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(d(e)!==e)throw Error(o(188))}function x(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,l=t;;){var u=a.return;if(u===null)break;var h=u.alternate;if(h===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===a)return m(u),e;if(h===l)return m(u),t;h=h.sibling}throw Error(o(188))}if(a.return!==l.return)a=u,l=h;else{for(var b=!1,S=u.child;S;){if(S===a){b=!0,a=u,l=h;break}if(S===l){b=!0,l=u,a=h;break}S=S.sibling}if(!b){for(S=h.child;S;){if(S===a){b=!0,a=h,l=u;break}if(S===l){b=!0,l=h,a=u;break}S=S.sibling}if(!b)throw Error(o(189))}}if(a.alternate!==l)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),w=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function F(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var H=Symbol.for("react.client.reference");function _(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===H?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case E:return"Profiler";case T:return"StrictMode";case L:return"Suspense";case B:return"SuspenseList";case q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case w:return e.displayName||"Context";case M:return(e._context.displayName||"Context")+".Consumer";case z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return t=e.displayName||null,t!==null?t:_(e.type)||"Memo";case V:t=e._payload,e=e._init;try{return _(e(t))}catch{}}return null}var D=Array.isArray,C=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},Z=[],X=-1;function P(e){return{current:e}}function W(e){0>X||(e.current=Z[X],Z[X]=null,X--)}function se(e,t){X++,Z[X]=e.current,e.current=t}var le=P(null),fe=P(null),be=P(null),me=P(null);function oe(e,t){switch(se(be,t),se(fe,e),se(le,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?w0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=w0(t),e=S0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(le),se(le,e)}function ue(){W(le),W(fe),W(be)}function ke(e){e.memoizedState!==null&&se(me,e);var t=le.current,a=S0(t,e.type);t!==a&&(se(fe,e),se(le,a))}function we(e){fe.current===e&&(W(le),W(fe)),me.current===e&&(W(me),Pr._currentValue=U)}var pe,Ne;function ie(e){if(pe===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);pe=t&&t[1]||"",Ne=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+e+Ne}var ye=!1;function Se(e,t){if(!e||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(ee){var J=ee}Reflect.construct(e,[],re)}else{try{re.call()}catch(ee){J=ee}e.call(re.prototype)}}else{try{throw Error()}catch(ee){J=ee}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),b=h[0],S=h[1];if(b&&S){var R=b.split(`
`),I=S.split(`
`);for(u=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;if(l===R.length||u===I.length)for(l=R.length-1,u=I.length-1;1<=l&&0<=u&&R[l]!==I[u];)u--;for(;1<=l&&0<=u;l--,u--)if(R[l]!==I[u]){if(l!==1||u!==1)do if(l--,u--,0>u||R[l]!==I[u]){var ne=`
`+R[l].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=l&&0<=u);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ie(a):""}function Ye(e,t){switch(e.tag){case 26:case 27:case 5:return ie(e.type);case 16:return ie("Lazy");case 13:return e.child!==t&&t!==null?ie("Suspense Fallback"):ie("Suspense");case 19:return ie("SuspenseList");case 0:case 15:return Se(e.type,!1);case 11:return Se(e.type.render,!1);case 1:return Se(e.type,!0);case 31:return ie("Activity");default:return""}}function Ft(e){try{var t="",a=null;do t+=Ye(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var At=Object.prototype.hasOwnProperty,Kt=n.unstable_scheduleCallback,bn=n.unstable_cancelCallback,Ea=n.unstable_shouldYield,za=n.unstable_requestPaint,ct=n.unstable_now,rs=n.unstable_getCurrentPriorityLevel,vn=n.unstable_ImmediatePriority,Zn=n.unstable_UserBlockingPriority,Aa=n.unstable_NormalPriority,Ko=n.unstable_LowPriority,is=n.unstable_IdlePriority,Io=n.log,Jo=n.unstable_setDisableYieldValue,Ta=null,mt=null;function ln(e){if(typeof Io=="function"&&Jo(e),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(Ta,e)}catch{}}var xt=Math.clz32?Math.clz32:ec,Wo=Math.log,Po=Math.LN2;function ec(e){return e>>>=0,e===0?32:31-(Wo(e)/Po|0)|0}var ls=256,os=262144,cs=4194304;function Nn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function us(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var u=0,h=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~h,l!==0?u=Nn(l):(b&=S,b!==0?u=Nn(b):a||(a=S&~e,a!==0&&(u=Nn(a))))):(S=l&~h,S!==0?u=Nn(S):b!==0?u=Nn(b):a||(a=l&~e,a!==0&&(u=Nn(a)))),u===0?0:t!==0&&t!==u&&(t&h)===0&&(h=u&-u,a=t&-t,h>=a||h===32&&(a&4194048)!==0)?t:u}function _a(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function tc(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oi(){var e=cs;return cs<<=1,(cs&62914560)===0&&(cs=4194304),e}function ur(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ma(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nc(e,t,a,l,u,h){var b=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,R=e.expirationTimes,I=e.hiddenUpdates;for(a=b&~a;0<a;){var ne=31-xt(a),re=1<<ne;S[ne]=0,R[ne]=-1;var J=I[ne];if(J!==null)for(I[ne]=null,ne=0;ne<J.length;ne++){var ee=J[ne];ee!==null&&(ee.lane&=-536870913)}a&=~re}l!==0&&Li(e,l,0),h!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=h&~(b&~t))}function Li(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-xt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Ri(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-xt(a),u=1<<l;u&t|e[l]&t&&(e[l]|=t),a&=~u}}function Hi(e,t){var a=t&-t;return a=(a&42)!==0?1:dr(a),(a&(e.suspendedLanes|t))!==0?0:a}function dr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function fr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ui(){var e=O.p;return e!==0?e:(e=window.event,e===void 0?32:Q0(e.type))}function Bi(e,t){var a=O.p;try{return O.p=e,t()}finally{O.p=a}}var on=Math.random().toString(36).slice(2),rt="__reactFiber$"+on,gt="__reactProps$"+on,jn="__reactContainer$"+on,ds="__reactEvents$"+on,Vi="__reactListeners$"+on,ac="__reactHandles$"+on,qi="__reactResources$"+on,Da="__reactMarker$"+on;function hr(e){delete e[rt],delete e[gt],delete e[ds],delete e[Vi],delete e[ac]}function Qn(e){var t=e[rt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[jn]||a[rt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=_0(e);e!==null;){if(a=e[rt])return a;e=_0(e)}return t}e=a,a=e.parentNode}return null}function Fn(e){if(e=e[rt]||e[jn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Kn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function In(e){var t=e[qi];return t||(t=e[qi]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Pe(e){e[Da]=!0}var $i=new Set,Yi={};function wn(e,t){Jn(e,t),Jn(e+"Capture",t)}function Jn(e,t){for(Yi[e]=t,e=0;e<t.length;e++)$i.add(t[e])}var sc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gr={},Gi={};function rc(e){return At.call(Gi,e)?!0:At.call(gr,e)?!1:sc.test(e)?Gi[e]=!0:(gr[e]=!0,!1)}function fs(e,t,a){if(rc(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function hs(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function It(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Nt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xi(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ic(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,h=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(b){a=""+b,h.call(this,b)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gs(e){if(!e._valueTracker){var t=Xi(e)?"checked":"value";e._valueTracker=ic(e,t,""+e[t])}}function Zi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Xi(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Oa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lc=/[\n"\\]/g;function jt(e){return e.replace(lc,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function La(e,t,a,l,u,h,b,S){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),t!=null?b==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Nt(t)):e.value!==""+Nt(t)&&(e.value=""+Nt(t)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),t!=null?mr(e,b,Nt(t)):a!=null?mr(e,b,Nt(a)):l!=null&&e.removeAttribute("value"),u==null&&h!=null&&(e.defaultChecked=!!h),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Nt(S):e.removeAttribute("name")}function Qi(e,t,a,l,u,h,b,S){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){gs(e);return}a=a!=null?""+Nt(a):"",t=t!=null?""+Nt(t):a,S||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),gs(e)}function mr(e,t,a){t==="number"&&Oa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Sn(e,t,a,l){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Nt(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function yf(e,t,a){if(t!=null&&(t=""+Nt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Nt(a):""}function bf(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(o(92));if(D(l)){if(1<l.length)throw Error(o(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Nt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),gs(e)}function ms(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Vy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vf(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Vy.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Nf(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&a[u]!==l&&vf(e,u,l)}else for(var h in t)t.hasOwnProperty(h)&&vf(e,h,t[h])}function oc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$y=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fi(e){return $y.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function kn(){}var cc=null;function uc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xs=null,ps=null;function jf(e){var t=Fn(e);if(t&&(e=t.stateNode)){var a=e[gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(La(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+jt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var u=l[gt]||null;if(!u)throw Error(o(90));La(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Zi(l)}break e;case"textarea":yf(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Sn(e,!!a.multiple,t,!1)}}}var dc=!1;function wf(e,t,a){if(dc)return e(t,a);dc=!0;try{var l=e(t);return l}finally{if(dc=!1,(xs!==null||ps!==null)&&(Ll(),xs&&(t=xs,e=ps,ps=xs=null,jf(t),e)))for(t=0;t<e.length;t++)jf(e[t])}}function xr(e,t){var a=e.stateNode;if(a===null)return null;var l=a[gt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fc=!1;if(Cn)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){fc=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{fc=!1}var Wn=null,hc=null,Ki=null;function Sf(){if(Ki)return Ki;var e,t=hc,a=t.length,l,u="value"in Wn?Wn.value:Wn.textContent,h=u.length;for(e=0;e<a&&t[e]===u[e];e++);var b=a-e;for(l=1;l<=b&&t[a-l]===u[h-l];l++);return Ki=u.slice(e,1<l?1-l:void 0)}function Ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ji(){return!0}function kf(){return!1}function wt(e){function t(a,l,u,h,b){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=h,this.target=b,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ji:kf,this.isPropagationStopped=kf,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),t}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=wt(Ra),yr=p({},Ra,{view:0,detail:0}),Yy=wt(yr),gc,mc,br,Pi=p({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==br&&(br&&e.type==="mousemove"?(gc=e.screenX-br.screenX,mc=e.screenY-br.screenY):mc=gc=0,br=e),gc)},movementY:function(e){return"movementY"in e?e.movementY:mc}}),Cf=wt(Pi),Gy=p({},Pi,{dataTransfer:0}),Xy=wt(Gy),Zy=p({},yr,{relatedTarget:0}),xc=wt(Zy),Qy=p({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),Fy=wt(Qy),Ky=p({},Ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Iy=wt(Ky),Jy=p({},Ra,{data:0}),Ef=wt(Jy),Wy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Py={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=eb[e])?!!t[e]:!1}function pc(){return tb}var nb=p({},yr,{key:function(e){if(e.key){var t=Wy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Py[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pc,charCode:function(e){return e.type==="keypress"?Ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ab=wt(nb),sb=p({},Pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zf=wt(sb),rb=p({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pc}),ib=wt(rb),lb=p({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),ob=wt(lb),cb=p({},Pi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ub=wt(cb),db=p({},Ra,{newState:0,oldState:0}),fb=wt(db),hb=[9,13,27,32],yc=Cn&&"CompositionEvent"in window,vr=null;Cn&&"documentMode"in document&&(vr=document.documentMode);var gb=Cn&&"TextEvent"in window&&!vr,Af=Cn&&(!yc||vr&&8<vr&&11>=vr),Tf=" ",_f=!1;function Mf(e,t){switch(e){case"keyup":return hb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Df(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function mb(e,t){switch(e){case"compositionend":return Df(t);case"keypress":return t.which!==32?null:(_f=!0,Tf);case"textInput":return e=t.data,e===Tf&&_f?null:e;default:return null}}function xb(e,t){if(ys)return e==="compositionend"||!yc&&Mf(e,t)?(e=Sf(),Ki=hc=Wn=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Af&&t.locale!=="ko"?null:t.data;default:return null}}var pb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Of(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pb[e.type]:t==="textarea"}function Lf(e,t,a,l){xs?ps?ps.push(l):ps=[l]:xs=l,t=$l(t,"onChange"),0<t.length&&(a=new Wi("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Nr=null,jr=null;function yb(e){p0(e,0)}function el(e){var t=Kn(e);if(Zi(t))return e}function Rf(e,t){if(e==="change")return t}var Hf=!1;if(Cn){var bc;if(Cn){var vc="oninput"in document;if(!vc){var Uf=document.createElement("div");Uf.setAttribute("oninput","return;"),vc=typeof Uf.oninput=="function"}bc=vc}else bc=!1;Hf=bc&&(!document.documentMode||9<document.documentMode)}function Bf(){Nr&&(Nr.detachEvent("onpropertychange",Vf),jr=Nr=null)}function Vf(e){if(e.propertyName==="value"&&el(jr)){var t=[];Lf(t,jr,e,uc(e)),wf(yb,t)}}function bb(e,t,a){e==="focusin"?(Bf(),Nr=t,jr=a,Nr.attachEvent("onpropertychange",Vf)):e==="focusout"&&Bf()}function vb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return el(jr)}function Nb(e,t){if(e==="click")return el(t)}function jb(e,t){if(e==="input"||e==="change")return el(t)}function wb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:wb;function wr(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!At.call(t,u)||!Tt(e[u],t[u]))return!1}return!0}function qf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $f(e,t){var a=qf(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qf(a)}}function Yf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Oa(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Oa(e.document)}return t}function Nc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Sb=Cn&&"documentMode"in document&&11>=document.documentMode,bs=null,jc=null,Sr=null,wc=!1;function Xf(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wc||bs==null||bs!==Oa(l)||(l=bs,"selectionStart"in l&&Nc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Sr&&wr(Sr,l)||(Sr=l,l=$l(jc,"onSelect"),0<l.length&&(t=new Wi("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=bs)))}function Ha(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var vs={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionrun:Ha("Transition","TransitionRun"),transitionstart:Ha("Transition","TransitionStart"),transitioncancel:Ha("Transition","TransitionCancel"),transitionend:Ha("Transition","TransitionEnd")},Sc={},Zf={};Cn&&(Zf=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Ua(e){if(Sc[e])return Sc[e];if(!vs[e])return e;var t=vs[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Zf)return Sc[e]=t[a];return e}var Qf=Ua("animationend"),Ff=Ua("animationiteration"),Kf=Ua("animationstart"),kb=Ua("transitionrun"),Cb=Ua("transitionstart"),Eb=Ua("transitioncancel"),If=Ua("transitionend"),Jf=new Map,kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kc.push("scrollEnd");function Jt(e,t){Jf.set(e,t),wn(t,[e])}var tl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bt=[],Ns=0,Cc=0;function nl(){for(var e=Ns,t=Cc=Ns=0;t<e;){var a=Bt[t];Bt[t++]=null;var l=Bt[t];Bt[t++]=null;var u=Bt[t];Bt[t++]=null;var h=Bt[t];if(Bt[t++]=null,l!==null&&u!==null){var b=l.pending;b===null?u.next=u:(u.next=b.next,b.next=u),l.pending=u}h!==0&&Wf(a,u,h)}}function al(e,t,a,l){Bt[Ns++]=e,Bt[Ns++]=t,Bt[Ns++]=a,Bt[Ns++]=l,Cc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ec(e,t,a,l){return al(e,t,a,l),sl(e)}function Ba(e,t){return al(e,null,null,t),sl(e)}function Wf(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var u=!1,h=e.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(u=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,u&&t!==null&&(u=31-xt(a),e=h.hiddenUpdates,l=e[u],l===null?e[u]=[t]:l.push(t),t.lane=a|536870912),h):null}function sl(e){if(50<Zr)throw Zr=0,Ru=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var js={};function zb(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,a,l){return new zb(e,t,a,l)}function zc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function En(e,t){var a=e.alternate;return a===null?(a=_t(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Pf(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function rl(e,t,a,l,u,h){var b=0;if(l=e,typeof e=="function")zc(e)&&(b=1);else if(typeof e=="string")b=Dv(e,a,le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case q:return e=_t(31,a,t,u),e.elementType=q,e.lanes=h,e;case k:return Va(a.children,u,h,t);case T:b=8,u|=24;break;case E:return e=_t(12,a,t,u|2),e.elementType=E,e.lanes=h,e;case L:return e=_t(13,a,t,u),e.elementType=L,e.lanes=h,e;case B:return e=_t(19,a,t,u),e.elementType=B,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w:b=10;break e;case M:b=9;break e;case z:b=11;break e;case $:b=14;break e;case V:b=16,l=null;break e}b=29,a=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=_t(b,a,t,u),t.elementType=e,t.type=l,t.lanes=h,t}function Va(e,t,a,l){return e=_t(7,e,l,t),e.lanes=a,e}function Ac(e,t,a){return e=_t(6,e,null,t),e.lanes=a,e}function eh(e){var t=_t(18,null,null,0);return t.stateNode=e,t}function Tc(e,t,a){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var th=new WeakMap;function Vt(e,t){if(typeof e=="object"&&e!==null){var a=th.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Ft(t)},th.set(e,t),t)}return{value:e,source:t,stack:Ft(t)}}var ws=[],Ss=0,il=null,kr=0,qt=[],$t=0,Pn=null,cn=1,un="";function zn(e,t){ws[Ss++]=kr,ws[Ss++]=il,il=e,kr=t}function nh(e,t,a){qt[$t++]=cn,qt[$t++]=un,qt[$t++]=Pn,Pn=e;var l=cn;e=un;var u=32-xt(l)-1;l&=~(1<<u),a+=1;var h=32-xt(t)+u;if(30<h){var b=u-u%5;h=(l&(1<<b)-1).toString(32),l>>=b,u-=b,cn=1<<32-xt(t)+u|a<<u|l,un=h+e}else cn=1<<h|a<<u|l,un=e}function _c(e){e.return!==null&&(zn(e,1),nh(e,1,0))}function Mc(e){for(;e===il;)il=ws[--Ss],ws[Ss]=null,kr=ws[--Ss],ws[Ss]=null;for(;e===Pn;)Pn=qt[--$t],qt[$t]=null,un=qt[--$t],qt[$t]=null,cn=qt[--$t],qt[$t]=null}function ah(e,t){qt[$t++]=cn,qt[$t++]=un,qt[$t++]=Pn,cn=t.id,un=t.overflow,Pn=e}var ut=null,Ge=null,Me=!1,ea=null,Yt=!1,Dc=Error(o(519));function ta(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cr(Vt(t,e)),Dc}function sh(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[rt]=e,t[gt]=l,a){case"dialog":Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":case"embed":Ae("load",t);break;case"video":case"audio":for(a=0;a<Fr.length;a++)Ae(Fr[a],t);break;case"source":Ae("error",t);break;case"img":case"image":case"link":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"input":Ae("invalid",t),Qi(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ae("invalid",t);break;case"textarea":Ae("invalid",t),bf(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||N0(t.textContent,a)?(l.popover!=null&&(Ae("beforetoggle",t),Ae("toggle",t)),l.onScroll!=null&&Ae("scroll",t),l.onScrollEnd!=null&&Ae("scrollend",t),l.onClick!=null&&(t.onclick=kn),t=!0):t=!1,t||ta(e,!0)}function rh(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:Yt=!1;return;case 27:case 3:Yt=!0;return;default:ut=ut.return}}function ks(e){if(e!==ut)return!1;if(!Me)return rh(e),Me=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ju(e.type,e.memoizedProps)),a=!a),a&&Ge&&ta(e),rh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ge=T0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ge=T0(e)}else t===27?(t=Ge,ma(e.type)?(e=nd,nd=null,Ge=e):Ge=t):Ge=ut?Xt(e.stateNode.nextSibling):null;return!0}function qa(){Ge=ut=null,Me=!1}function Oc(){var e=ea;return e!==null&&(Et===null?Et=e:Et.push.apply(Et,e),ea=null),e}function Cr(e){ea===null?ea=[e]:ea.push(e)}var Lc=P(null),$a=null,An=null;function na(e,t,a){se(Lc,t._currentValue),t._currentValue=a}function Tn(e){e._currentValue=Lc.current,W(Lc)}function Rc(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Hc(e,t,a,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var h=u.dependencies;if(h!==null){var b=u.child;h=h.firstContext;e:for(;h!==null;){var S=h;h=u;for(var R=0;R<t.length;R++)if(S.context===t[R]){h.lanes|=a,S=h.alternate,S!==null&&(S.lanes|=a),Rc(h.return,a,e),l||(b=null);break e}h=S.next}}else if(u.tag===18){if(b=u.return,b===null)throw Error(o(341));b.lanes|=a,h=b.alternate,h!==null&&(h.lanes|=a),Rc(b,a,e),b=null}else b=u.child;if(b!==null)b.return=u;else for(b=u;b!==null;){if(b===e){b=null;break}if(u=b.sibling,u!==null){u.return=b.return,b=u;break}b=b.return}u=b}}function Cs(e,t,a,l){e=null;for(var u=t,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var b=u.alternate;if(b===null)throw Error(o(387));if(b=b.memoizedProps,b!==null){var S=u.type;Tt(u.pendingProps.value,b.value)||(e!==null?e.push(S):e=[S])}}else if(u===me.current){if(b=u.alternate,b===null)throw Error(o(387));b.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Pr):e=[Pr])}u=u.return}e!==null&&Hc(t,e,a,l),t.flags|=262144}function ll(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ya(e){$a=e,An=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dt(e){return ih($a,e)}function ol(e,t){return $a===null&&Ya(e),ih(e,t)}function ih(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},An===null){if(e===null)throw Error(o(308));An=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else An=An.next=t;return a}var Ab=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Tb=n.unstable_scheduleCallback,_b=n.unstable_NormalPriority,et={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uc(){return{controller:new Ab,data:new Map,refCount:0}}function Er(e){e.refCount--,e.refCount===0&&Tb(_b,function(){e.controller.abort()})}var zr=null,Bc=0,Es=0,zs=null;function Mb(e,t){if(zr===null){var a=zr=[];Bc=0,Es=$u(),zs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Bc++,t.then(lh,lh),t}function lh(){if(--Bc===0&&zr!==null){zs!==null&&(zs.status="fulfilled");var e=zr;zr=null,Es=0,zs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Db(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),l}var oh=C.S;C.S=function(e,t){Xg=ct(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Mb(e,t),oh!==null&&oh(e,t)};var Ga=P(null);function Vc(){var e=Ga.current;return e!==null?e:$e.pooledCache}function cl(e,t){t===null?se(Ga,Ga.current):se(Ga,t.pool)}function ch(){var e=Vc();return e===null?null:{parent:et._currentValue,pool:e}}var As=Error(o(460)),qc=Error(o(474)),ul=Error(o(542)),dl={then:function(){}};function uh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(kn,kn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hh(e),e;default:if(typeof t.status=="string")t.then(kn,kn);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hh(e),e}throw Za=t,As}}function Xa(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Za=a,As):a}}var Za=null;function fh(){if(Za===null)throw Error(o(459));var e=Za;return Za=null,e}function hh(e){if(e===As||e===ul)throw Error(o(483))}var Ts=null,Ar=0;function fl(e){var t=Ar;return Ar+=1,Ts===null&&(Ts=[]),dh(Ts,e,t)}function Tr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function hl(e,t){throw t.$$typeof===v?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gh(e){function t(Q,Y){if(e){var K=Q.deletions;K===null?(Q.deletions=[Y],Q.flags|=16):K.push(Y)}}function a(Q,Y){if(!e)return null;for(;Y!==null;)t(Q,Y),Y=Y.sibling;return null}function l(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function u(Q,Y){return Q=En(Q,Y),Q.index=0,Q.sibling=null,Q}function h(Q,Y,K){return Q.index=K,e?(K=Q.alternate,K!==null?(K=K.index,K<Y?(Q.flags|=67108866,Y):K):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function b(Q){return e&&Q.alternate===null&&(Q.flags|=67108866),Q}function S(Q,Y,K,ae){return Y===null||Y.tag!==6?(Y=Ac(K,Q.mode,ae),Y.return=Q,Y):(Y=u(Y,K),Y.return=Q,Y)}function R(Q,Y,K,ae){var xe=K.type;return xe===k?ne(Q,Y,K.props.children,ae,K.key):Y!==null&&(Y.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===V&&Xa(xe)===Y.type)?(Y=u(Y,K.props),Tr(Y,K),Y.return=Q,Y):(Y=rl(K.type,K.key,K.props,null,Q.mode,ae),Tr(Y,K),Y.return=Q,Y)}function I(Q,Y,K,ae){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==K.containerInfo||Y.stateNode.implementation!==K.implementation?(Y=Tc(K,Q.mode,ae),Y.return=Q,Y):(Y=u(Y,K.children||[]),Y.return=Q,Y)}function ne(Q,Y,K,ae,xe){return Y===null||Y.tag!==7?(Y=Va(K,Q.mode,ae,xe),Y.return=Q,Y):(Y=u(Y,K),Y.return=Q,Y)}function re(Q,Y,K){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Ac(""+Y,Q.mode,K),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:return K=rl(Y.type,Y.key,Y.props,null,Q.mode,K),Tr(K,Y),K.return=Q,K;case N:return Y=Tc(Y,Q.mode,K),Y.return=Q,Y;case V:return Y=Xa(Y),re(Q,Y,K)}if(D(Y)||F(Y))return Y=Va(Y,Q.mode,K,null),Y.return=Q,Y;if(typeof Y.then=="function")return re(Q,fl(Y),K);if(Y.$$typeof===w)return re(Q,ol(Q,Y),K);hl(Q,Y)}return null}function J(Q,Y,K,ae){var xe=Y!==null?Y.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return xe!==null?null:S(Q,Y,""+K,ae);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case j:return K.key===xe?R(Q,Y,K,ae):null;case N:return K.key===xe?I(Q,Y,K,ae):null;case V:return K=Xa(K),J(Q,Y,K,ae)}if(D(K)||F(K))return xe!==null?null:ne(Q,Y,K,ae,null);if(typeof K.then=="function")return J(Q,Y,fl(K),ae);if(K.$$typeof===w)return J(Q,Y,ol(Q,K),ae);hl(Q,K)}return null}function ee(Q,Y,K,ae,xe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Q=Q.get(K)||null,S(Y,Q,""+ae,xe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case j:return Q=Q.get(ae.key===null?K:ae.key)||null,R(Y,Q,ae,xe);case N:return Q=Q.get(ae.key===null?K:ae.key)||null,I(Y,Q,ae,xe);case V:return ae=Xa(ae),ee(Q,Y,K,ae,xe)}if(D(ae)||F(ae))return Q=Q.get(K)||null,ne(Y,Q,ae,xe,null);if(typeof ae.then=="function")return ee(Q,Y,K,fl(ae),xe);if(ae.$$typeof===w)return ee(Q,Y,K,ol(Y,ae),xe);hl(Y,ae)}return null}function de(Q,Y,K,ae){for(var xe=null,Oe=null,he=Y,Ee=Y=0,_e=null;he!==null&&Ee<K.length;Ee++){he.index>Ee?(_e=he,he=null):_e=he.sibling;var Le=J(Q,he,K[Ee],ae);if(Le===null){he===null&&(he=_e);break}e&&he&&Le.alternate===null&&t(Q,he),Y=h(Le,Y,Ee),Oe===null?xe=Le:Oe.sibling=Le,Oe=Le,he=_e}if(Ee===K.length)return a(Q,he),Me&&zn(Q,Ee),xe;if(he===null){for(;Ee<K.length;Ee++)he=re(Q,K[Ee],ae),he!==null&&(Y=h(he,Y,Ee),Oe===null?xe=he:Oe.sibling=he,Oe=he);return Me&&zn(Q,Ee),xe}for(he=l(he);Ee<K.length;Ee++)_e=ee(he,Q,Ee,K[Ee],ae),_e!==null&&(e&&_e.alternate!==null&&he.delete(_e.key===null?Ee:_e.key),Y=h(_e,Y,Ee),Oe===null?xe=_e:Oe.sibling=_e,Oe=_e);return e&&he.forEach(function(va){return t(Q,va)}),Me&&zn(Q,Ee),xe}function ve(Q,Y,K,ae){if(K==null)throw Error(o(151));for(var xe=null,Oe=null,he=Y,Ee=Y=0,_e=null,Le=K.next();he!==null&&!Le.done;Ee++,Le=K.next()){he.index>Ee?(_e=he,he=null):_e=he.sibling;var va=J(Q,he,Le.value,ae);if(va===null){he===null&&(he=_e);break}e&&he&&va.alternate===null&&t(Q,he),Y=h(va,Y,Ee),Oe===null?xe=va:Oe.sibling=va,Oe=va,he=_e}if(Le.done)return a(Q,he),Me&&zn(Q,Ee),xe;if(he===null){for(;!Le.done;Ee++,Le=K.next())Le=re(Q,Le.value,ae),Le!==null&&(Y=h(Le,Y,Ee),Oe===null?xe=Le:Oe.sibling=Le,Oe=Le);return Me&&zn(Q,Ee),xe}for(he=l(he);!Le.done;Ee++,Le=K.next())Le=ee(he,Q,Ee,Le.value,ae),Le!==null&&(e&&Le.alternate!==null&&he.delete(Le.key===null?Ee:Le.key),Y=h(Le,Y,Ee),Oe===null?xe=Le:Oe.sibling=Le,Oe=Le);return e&&he.forEach(function(Gv){return t(Q,Gv)}),Me&&zn(Q,Ee),xe}function qe(Q,Y,K,ae){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case j:e:{for(var xe=K.key;Y!==null;){if(Y.key===xe){if(xe=K.type,xe===k){if(Y.tag===7){a(Q,Y.sibling),ae=u(Y,K.props.children),ae.return=Q,Q=ae;break e}}else if(Y.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===V&&Xa(xe)===Y.type){a(Q,Y.sibling),ae=u(Y,K.props),Tr(ae,K),ae.return=Q,Q=ae;break e}a(Q,Y);break}else t(Q,Y);Y=Y.sibling}K.type===k?(ae=Va(K.props.children,Q.mode,ae,K.key),ae.return=Q,Q=ae):(ae=rl(K.type,K.key,K.props,null,Q.mode,ae),Tr(ae,K),ae.return=Q,Q=ae)}return b(Q);case N:e:{for(xe=K.key;Y!==null;){if(Y.key===xe)if(Y.tag===4&&Y.stateNode.containerInfo===K.containerInfo&&Y.stateNode.implementation===K.implementation){a(Q,Y.sibling),ae=u(Y,K.children||[]),ae.return=Q,Q=ae;break e}else{a(Q,Y);break}else t(Q,Y);Y=Y.sibling}ae=Tc(K,Q.mode,ae),ae.return=Q,Q=ae}return b(Q);case V:return K=Xa(K),qe(Q,Y,K,ae)}if(D(K))return de(Q,Y,K,ae);if(F(K)){if(xe=F(K),typeof xe!="function")throw Error(o(150));return K=xe.call(K),ve(Q,Y,K,ae)}if(typeof K.then=="function")return qe(Q,Y,fl(K),ae);if(K.$$typeof===w)return qe(Q,Y,ol(Q,K),ae);hl(Q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,Y!==null&&Y.tag===6?(a(Q,Y.sibling),ae=u(Y,K),ae.return=Q,Q=ae):(a(Q,Y),ae=Ac(K,Q.mode,ae),ae.return=Q,Q=ae),b(Q)):a(Q,Y)}return function(Q,Y,K,ae){try{Ar=0;var xe=qe(Q,Y,K,ae);return Ts=null,xe}catch(he){if(he===As||he===ul)throw he;var Oe=_t(29,he,null,Q.mode);return Oe.lanes=ae,Oe.return=Q,Oe}}}var Qa=gh(!0),mh=gh(!1),aa=!1;function $c(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ra(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Re&2)!==0){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=sl(e),Wf(e,null,a),t}return al(e,l,t,a),sl(e)}function _r(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Ri(e,a)}}function Gc(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?u=h=b:h=h.next=b,a=a.next}while(a!==null);h===null?u=h=t:h=h.next=t}else u=h=t;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Xc=!1;function Mr(){if(Xc){var e=zs;if(e!==null)throw e}}function Dr(e,t,a,l){Xc=!1;var u=e.updateQueue;aa=!1;var h=u.firstBaseUpdate,b=u.lastBaseUpdate,S=u.shared.pending;if(S!==null){u.shared.pending=null;var R=S,I=R.next;R.next=null,b===null?h=I:b.next=I,b=R;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==b&&(S===null?ne.firstBaseUpdate=I:S.next=I,ne.lastBaseUpdate=R))}if(h!==null){var re=u.baseState;b=0,ne=I=R=null,S=h;do{var J=S.lane&-536870913,ee=J!==S.lane;if(ee?(Te&J)===J:(l&J)===J){J!==0&&J===Es&&(Xc=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var de=e,ve=S;J=t;var qe=a;switch(ve.tag){case 1:if(de=ve.payload,typeof de=="function"){re=de.call(qe,re,J);break e}re=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ve.payload,J=typeof de=="function"?de.call(qe,re,J):de,J==null)break e;re=p({},re,J);break e;case 2:aa=!0}}J=S.callback,J!==null&&(e.flags|=64,ee&&(e.flags|=8192),ee=u.callbacks,ee===null?u.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(I=ne=ee,R=re):ne=ne.next=ee,b|=J;if(S=S.next,S===null){if(S=u.shared.pending,S===null)break;ee=S,S=ee.next,ee.next=null,u.lastBaseUpdate=ee,u.shared.pending=null}}while(!0);ne===null&&(R=re),u.baseState=R,u.firstBaseUpdate=I,u.lastBaseUpdate=ne,h===null&&(u.shared.lanes=0),ua|=b,e.lanes=b,e.memoizedState=re}}function xh(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function ph(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)xh(a[e],t)}var _s=P(null),gl=P(0);function yh(e,t){e=Bn,se(gl,e),se(_s,t),Bn=e|t.baseLanes}function Zc(){se(gl,Bn),se(_s,_s.current)}function Qc(){Bn=gl.current,W(_s),W(gl)}var Mt=P(null),Gt=null;function ia(e){var t=e.alternate;se(Je,Je.current&1),se(Mt,e),Gt===null&&(t===null||_s.current!==null||t.memoizedState!==null)&&(Gt=e)}function Fc(e){se(Je,Je.current),se(Mt,e),Gt===null&&(Gt=e)}function bh(e){e.tag===22?(se(Je,Je.current),se(Mt,e),Gt===null&&(Gt=e)):la()}function la(){se(Je,Je.current),se(Mt,Mt.current)}function Dt(e){W(Mt),Gt===e&&(Gt=null),W(Je)}var Je=P(0);function ml(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ed(a)||td(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _n=0,Ce=null,Be=null,tt=null,xl=!1,Ms=!1,Fa=!1,pl=0,Or=0,Ds=null,Ob=0;function Ke(){throw Error(o(321))}function Kc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Tt(e[a],t[a]))return!1;return!0}function Ic(e,t,a,l,u,h){return _n=h,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?ng:du,Fa=!1,h=a(l,u),Fa=!1,Ms&&(h=Nh(t,a,l,u)),vh(e),h}function vh(e){C.H=Hr;var t=Be!==null&&Be.next!==null;if(_n=0,tt=Be=Ce=null,xl=!1,Or=0,Ds=null,t)throw Error(o(300));e===null||nt||(e=e.dependencies,e!==null&&ll(e)&&(nt=!0))}function Nh(e,t,a,l){Ce=e;var u=0;do{if(Ms&&(Ds=null),Or=0,Ms=!1,25<=u)throw Error(o(301));if(u+=1,tt=Be=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}C.H=ag,h=t(a,l)}while(Ms);return h}function Lb(){var e=C.H,t=e.useState()[0];return t=typeof t.then=="function"?Lr(t):t,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(Ce.flags|=1024),t}function Jc(){var e=pl!==0;return pl=0,e}function Wc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Pc(e){if(xl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}xl=!1}_n=0,tt=Be=Ce=null,Ms=!1,Or=pl=0,Ds=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Ce.memoizedState=tt=e:tt=tt.next=e,tt}function We(){if(Be===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=tt===null?Ce.memoizedState:tt.next;if(t!==null)tt=t,Be=e;else{if(e===null)throw Ce.alternate===null?Error(o(467)):Error(o(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},tt===null?Ce.memoizedState=tt=e:tt=tt.next=e}return tt}function yl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lr(e){var t=Or;return Or+=1,Ds===null&&(Ds=[]),e=dh(Ds,e,t),t=Ce,(tt===null?t.memoizedState:tt.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?ng:du),e}function bl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Lr(e);if(e.$$typeof===w)return dt(e)}throw Error(o(438,String(e)))}function eu(e){var t=null,a=Ce.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=yl(),Ce.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=te;return t.index++,a}function Mn(e,t){return typeof t=="function"?t(e):t}function vl(e){var t=We();return tu(t,Be,e)}function tu(e,t,a){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=a;var u=e.baseQueue,h=l.pending;if(h!==null){if(u!==null){var b=u.next;u.next=h.next,h.next=b}t.baseQueue=u=h,l.pending=null}if(h=e.baseState,u===null)e.memoizedState=h;else{t=u.next;var S=b=null,R=null,I=t,ne=!1;do{var re=I.lane&-536870913;if(re!==I.lane?(Te&re)===re:(_n&re)===re){var J=I.revertLane;if(J===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),re===Es&&(ne=!0);else if((_n&J)===J){I=I.next,J===Es&&(ne=!0);continue}else re={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},R===null?(S=R=re,b=h):R=R.next=re,Ce.lanes|=J,ua|=J;re=I.action,Fa&&a(h,re),h=I.hasEagerState?I.eagerState:a(h,re)}else J={lane:re,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},R===null?(S=R=J,b=h):R=R.next=J,Ce.lanes|=re,ua|=re;I=I.next}while(I!==null&&I!==t);if(R===null?b=h:R.next=S,!Tt(h,e.memoizedState)&&(nt=!0,ne&&(a=zs,a!==null)))throw a;e.memoizedState=h,e.baseState=b,e.baseQueue=R,l.lastRenderedState=h}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function nu(e){var t=We(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var l=a.dispatch,u=a.pending,h=t.memoizedState;if(u!==null){a.pending=null;var b=u=u.next;do h=e(h,b.action),b=b.next;while(b!==u);Tt(h,t.memoizedState)||(nt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),a.lastRenderedState=h}return[h,l]}function jh(e,t,a){var l=Ce,u=We(),h=Me;if(h){if(a===void 0)throw Error(o(407));a=a()}else a=t();var b=!Tt((Be||u).memoizedState,a);if(b&&(u.memoizedState=a,nt=!0),u=u.queue,ru(kh.bind(null,l,u,e),[e]),u.getSnapshot!==t||b||tt!==null&&tt.memoizedState.tag&1){if(l.flags|=2048,Os(9,{destroy:void 0},Sh.bind(null,l,u,a,t),null),$e===null)throw Error(o(349));h||(_n&127)!==0||wh(l,t,a)}return a}function wh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ce.updateQueue,t===null?(t=yl(),Ce.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Sh(e,t,a,l){t.value=a,t.getSnapshot=l,Ch(t)&&Eh(e)}function kh(e,t,a){return a(function(){Ch(t)&&Eh(e)})}function Ch(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Tt(e,a)}catch{return!0}}function Eh(e){var t=Ba(e,2);t!==null&&zt(t,e,2)}function au(e){var t=pt();if(typeof e=="function"){var a=e;if(e=a(),Fa){ln(!0);try{a()}finally{ln(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:e},t}function zh(e,t,a,l){return e.baseState=a,tu(e,Be,typeof l=="function"?l:Mn)}function Rb(e,t,a,l,u){if(wl(e))throw Error(o(485));if(e=t.action,e!==null){var h={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){h.listeners.push(b)}};C.T!==null?a(!0):h.isTransition=!1,l(h),a=t.pending,a===null?(h.next=t.pending=h,Ah(t,h)):(h.next=a.next,t.pending=a.next=h)}}function Ah(e,t){var a=t.action,l=t.payload,u=e.state;if(t.isTransition){var h=C.T,b={};C.T=b;try{var S=a(u,l),R=C.S;R!==null&&R(b,S),Th(e,t,S)}catch(I){su(e,t,I)}finally{h!==null&&b.types!==null&&(h.types=b.types),C.T=h}}else try{h=a(u,l),Th(e,t,h)}catch(I){su(e,t,I)}}function Th(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_h(e,t,l)},function(l){return su(e,t,l)}):_h(e,t,a)}function _h(e,t,a){t.status="fulfilled",t.value=a,Mh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Ah(e,a)))}function su(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Mh(t),t=t.next;while(t!==l)}e.action=null}function Mh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Dh(e,t){return t}function Oh(e,t){if(Me){var a=$e.formState;if(a!==null){e:{var l=Ce;if(Me){if(Ge){t:{for(var u=Ge,h=Yt;u.nodeType!==8;){if(!h){u=null;break t}if(u=Xt(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){Ge=Xt(u.nextSibling),l=u.data==="F!";break e}}ta(l)}l=!1}l&&(t=a[0])}}return a=pt(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dh,lastRenderedState:t},a.queue=l,a=Ph.bind(null,Ce,l),l.dispatch=a,l=au(!1),h=uu.bind(null,Ce,!1,l.queue),l=pt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,a=Rb.bind(null,Ce,u,h,a),u.dispatch=a,l.memoizedState=e,[t,a,!1]}function Lh(e){var t=We();return Rh(t,Be,e)}function Rh(e,t,a){if(t=tu(e,t,Dh)[0],e=vl(Mn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Lr(t)}catch(b){throw b===As?ul:b}else l=t;t=We();var u=t.queue,h=u.dispatch;return a!==t.memoizedState&&(Ce.flags|=2048,Os(9,{destroy:void 0},Hb.bind(null,u,a),null)),[l,h,e]}function Hb(e,t){e.action=t}function Hh(e){var t=We(),a=Be;if(a!==null)return Rh(t,a,e);We(),t=t.memoizedState,a=We();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Os(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=Ce.updateQueue,t===null&&(t=yl(),Ce.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function Uh(){return We().memoizedState}function Nl(e,t,a,l){var u=pt();Ce.flags|=e,u.memoizedState=Os(1|t,{destroy:void 0},a,l===void 0?null:l)}function jl(e,t,a,l){var u=We();l=l===void 0?null:l;var h=u.memoizedState.inst;Be!==null&&l!==null&&Kc(l,Be.memoizedState.deps)?u.memoizedState=Os(t,h,a,l):(Ce.flags|=e,u.memoizedState=Os(1|t,h,a,l))}function Bh(e,t){Nl(8390656,8,e,t)}function ru(e,t){jl(2048,8,e,t)}function Ub(e){Ce.flags|=4;var t=Ce.updateQueue;if(t===null)t=yl(),Ce.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Vh(e){var t=We().memoizedState;return Ub({ref:t,nextImpl:e}),function(){if((Re&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function qh(e,t){return jl(4,2,e,t)}function $h(e,t){return jl(4,4,e,t)}function Yh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gh(e,t,a){a=a!=null?a.concat([e]):null,jl(4,4,Yh.bind(null,t,e),a)}function iu(){}function Xh(e,t){var a=We();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Kc(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Zh(e,t){var a=We();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Kc(t,l[1]))return l[0];if(l=e(),Fa){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[l,t],l}function lu(e,t,a){return a===void 0||(_n&1073741824)!==0&&(Te&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Qg(),Ce.lanes|=e,ua|=e,a)}function Qh(e,t,a,l){return Tt(a,t)?a:_s.current!==null?(e=lu(e,a,l),Tt(e,t)||(nt=!0),e):(_n&42)===0||(_n&1073741824)!==0&&(Te&261930)===0?(nt=!0,e.memoizedState=a):(e=Qg(),Ce.lanes|=e,ua|=e,t)}function Fh(e,t,a,l,u){var h=O.p;O.p=h!==0&&8>h?h:8;var b=C.T,S={};C.T=S,uu(e,!1,t,a);try{var R=u(),I=C.S;if(I!==null&&I(S,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var ne=Db(R,l);Rr(e,t,ne,Rt(e))}else Rr(e,t,l,Rt(e))}catch(re){Rr(e,t,{then:function(){},status:"rejected",reason:re},Rt())}finally{O.p=h,b!==null&&S.types!==null&&(b.types=S.types),C.T=b}}function Bb(){}function ou(e,t,a,l){if(e.tag!==5)throw Error(o(476));var u=Kh(e).queue;Fh(e,u,t,U,a===null?Bb:function(){return Ih(e),a(l)})}function Kh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:U},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ih(e){var t=Kh(e);t.next===null&&(t=e.alternate.memoizedState),Rr(e,t.next.queue,{},Rt())}function cu(){return dt(Pr)}function Jh(){return We().memoizedState}function Wh(){return We().memoizedState}function Vb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Rt();e=sa(a);var l=ra(t,e,a);l!==null&&(zt(l,t,a),_r(l,t,a)),t={cache:Uc()},e.payload=t;return}t=t.return}}function qb(e,t,a){var l=Rt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wl(e)?eg(t,a):(a=Ec(e,t,a,l),a!==null&&(zt(a,e,l),tg(a,t,l)))}function Ph(e,t,a){var l=Rt();Rr(e,t,a,l)}function Rr(e,t,a,l){var u={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wl(e))eg(t,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var b=t.lastRenderedState,S=h(b,a);if(u.hasEagerState=!0,u.eagerState=S,Tt(S,b))return al(e,t,u,0),$e===null&&nl(),!1}catch{}if(a=Ec(e,t,u,l),a!==null)return zt(a,e,l),tg(a,t,l),!0}return!1}function uu(e,t,a,l){if(l={lane:2,revertLane:$u(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wl(e)){if(t)throw Error(o(479))}else t=Ec(e,a,l,2),t!==null&&zt(t,e,2)}function wl(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function eg(e,t){Ms=xl=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function tg(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Ri(e,a)}}var Hr={readContext:dt,use:bl,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};Hr.useEffectEvent=Ke;var ng={readContext:dt,use:bl,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:Bh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Nl(4194308,4,Yh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Nl(4194308,4,e,t)},useInsertionEffect:function(e,t){Nl(4,2,e,t)},useMemo:function(e,t){var a=pt();t=t===void 0?null:t;var l=e();if(Fa){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=pt();if(a!==void 0){var u=a(t);if(Fa){ln(!0);try{a(t)}finally{ln(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=qb.bind(null,Ce,e),[l.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=au(e);var t=e.queue,a=Ph.bind(null,Ce,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:iu,useDeferredValue:function(e,t){var a=pt();return lu(a,e,t)},useTransition:function(){var e=au(!1);return e=Fh.bind(null,Ce,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=Ce,u=pt();if(Me){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),$e===null)throw Error(o(349));(Te&127)!==0||wh(l,t,a)}u.memoizedState=a;var h={value:a,getSnapshot:t};return u.queue=h,Bh(kh.bind(null,l,h,e),[e]),l.flags|=2048,Os(9,{destroy:void 0},Sh.bind(null,l,h,a,t),null),a},useId:function(){var e=pt(),t=$e.identifierPrefix;if(Me){var a=un,l=cn;a=(l&~(1<<32-xt(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=pl++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Ob++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:cu,useFormState:Oh,useActionState:Oh,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=uu.bind(null,Ce,!0,a),a.dispatch=t,[e,t]},useMemoCache:eu,useCacheRefresh:function(){return pt().memoizedState=Vb.bind(null,Ce)},useEffectEvent:function(e){var t=pt(),a={impl:e};return t.memoizedState=a,function(){if((Re&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},du={readContext:dt,use:bl,useCallback:Xh,useContext:dt,useEffect:ru,useImperativeHandle:Gh,useInsertionEffect:qh,useLayoutEffect:$h,useMemo:Zh,useReducer:vl,useRef:Uh,useState:function(){return vl(Mn)},useDebugValue:iu,useDeferredValue:function(e,t){var a=We();return Qh(a,Be.memoizedState,e,t)},useTransition:function(){var e=vl(Mn)[0],t=We().memoizedState;return[typeof e=="boolean"?e:Lr(e),t]},useSyncExternalStore:jh,useId:Jh,useHostTransitionStatus:cu,useFormState:Lh,useActionState:Lh,useOptimistic:function(e,t){var a=We();return zh(a,Be,e,t)},useMemoCache:eu,useCacheRefresh:Wh};du.useEffectEvent=Vh;var ag={readContext:dt,use:bl,useCallback:Xh,useContext:dt,useEffect:ru,useImperativeHandle:Gh,useInsertionEffect:qh,useLayoutEffect:$h,useMemo:Zh,useReducer:nu,useRef:Uh,useState:function(){return nu(Mn)},useDebugValue:iu,useDeferredValue:function(e,t){var a=We();return Be===null?lu(a,e,t):Qh(a,Be.memoizedState,e,t)},useTransition:function(){var e=nu(Mn)[0],t=We().memoizedState;return[typeof e=="boolean"?e:Lr(e),t]},useSyncExternalStore:jh,useId:Jh,useHostTransitionStatus:cu,useFormState:Hh,useActionState:Hh,useOptimistic:function(e,t){var a=We();return Be!==null?zh(a,Be,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:eu,useCacheRefresh:Wh};ag.useEffectEvent=Vh;function fu(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:p({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var hu={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Rt(),u=sa(l);u.payload=t,a!=null&&(u.callback=a),t=ra(e,u,l),t!==null&&(zt(t,e,l),_r(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Rt(),u=sa(l);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=ra(e,u,l),t!==null&&(zt(t,e,l),_r(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Rt(),l=sa(a);l.tag=2,t!=null&&(l.callback=t),t=ra(e,l,a),t!==null&&(zt(t,e,a),_r(t,e,a))}};function sg(e,t,a,l,u,h,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,b):t.prototype&&t.prototype.isPureReactComponent?!wr(a,l)||!wr(u,h):!0}function rg(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&hu.enqueueReplaceState(t,t.state,null)}function Ka(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=p({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function ig(e){tl(e)}function lg(e){console.error(e)}function og(e){tl(e)}function Sl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function cg(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function gu(e,t,a){return a=sa(a),a.tag=3,a.payload={element:null},a.callback=function(){Sl(e,t)},a}function ug(e){return e=sa(e),e.tag=3,e}function dg(e,t,a,l){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var h=l.value;e.payload=function(){return u(h)},e.callback=function(){cg(t,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){cg(t,a,l),typeof u!="function"&&(da===null?da=new Set([this]):da.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function $b(e,t,a,l,u){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Cs(t,a,u,!0),a=Mt.current,a!==null){switch(a.tag){case 31:case 13:return Gt===null?Rl():a.alternate===null&&Ie===0&&(Ie=3),a.flags&=-257,a.flags|=65536,a.lanes=u,l===dl?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Bu(e,l,u)),!1;case 22:return a.flags|=65536,l===dl?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Bu(e,l,u)),!1}throw Error(o(435,a.tag))}return Bu(e,l,u),Rl(),!1}if(Me)return t=Mt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==Dc&&(e=Error(o(422),{cause:l}),Cr(Vt(e,a)))):(l!==Dc&&(t=Error(o(423),{cause:l}),Cr(Vt(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Vt(l,a),u=gu(e.stateNode,l,u),Gc(e,u),Ie!==4&&(Ie=2)),!1;var h=Error(o(520),{cause:l});if(h=Vt(h,a),Xr===null?Xr=[h]:Xr.push(h),Ie!==4&&(Ie=2),t===null)return!0;l=Vt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=gu(a.stateNode,l,e),Gc(a,e),!1;case 1:if(t=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(da===null||!da.has(h))))return a.flags|=65536,u&=-u,a.lanes|=u,u=ug(u),dg(u,e,a,l),Gc(a,u),!1}a=a.return}while(a!==null);return!1}var mu=Error(o(461)),nt=!1;function ft(e,t,a,l){t.child=e===null?mh(t,null,a,l):Qa(t,e.child,a,l)}function fg(e,t,a,l,u){a=a.render;var h=t.ref;if("ref"in l){var b={};for(var S in l)S!=="ref"&&(b[S]=l[S])}else b=l;return Ya(t),l=Ic(e,t,a,b,h,u),S=Jc(),e!==null&&!nt?(Wc(e,t,u),Dn(e,t,u)):(Me&&S&&_c(t),t.flags|=1,ft(e,t,l,u),t.child)}function hg(e,t,a,l,u){if(e===null){var h=a.type;return typeof h=="function"&&!zc(h)&&h.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=h,gg(e,t,h,l,u)):(e=rl(a.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!wu(e,u)){var b=h.memoizedProps;if(a=a.compare,a=a!==null?a:wr,a(b,l)&&e.ref===t.ref)return Dn(e,t,u)}return t.flags|=1,e=En(h,l),e.ref=t.ref,e.return=t,t.child=e}function gg(e,t,a,l,u){if(e!==null){var h=e.memoizedProps;if(wr(h,l)&&e.ref===t.ref)if(nt=!1,t.pendingProps=l=h,wu(e,u))(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,Dn(e,t,u)}return xu(e,t,a,l,u)}function mg(e,t,a,l){var u=l.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,e!==null){for(l=t.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~h}else l=0,t.child=null;return xg(e,t,h,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&cl(t,h!==null?h.cachePool:null),h!==null?yh(t,h):Zc(),bh(t);else return l=t.lanes=536870912,xg(e,t,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(cl(t,h.cachePool),yh(t,h),la(),t.memoizedState=null):(e!==null&&cl(t,null),Zc(),la());return ft(e,t,u,a),t.child}function Ur(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function xg(e,t,a,l,u){var h=Vc();return h=h===null?null:{parent:et._currentValue,pool:h},t.memoizedState={baseLanes:a,cachePool:h},e!==null&&cl(t,null),Zc(),bh(t),e!==null&&Cs(e,t,l,!0),t.childLanes=u,null}function kl(e,t){return t=El({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function pg(e,t,a){return Qa(t,e.child,null,a),e=kl(t,t.pendingProps),e.flags|=2,Dt(t),t.memoizedState=null,e}function Yb(e,t,a){var l=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Me){if(l.mode==="hidden")return e=kl(t,l),t.lanes=536870912,Ur(null,e);if(Fc(t),(e=Ge)?(e=A0(e,Yt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Pn!==null?{id:cn,overflow:un}:null,retryLane:536870912,hydrationErrors:null},a=eh(e),a.return=t,t.child=a,ut=t,Ge=null)):e=null,e===null)throw ta(t);return t.lanes=536870912,null}return kl(t,l)}var h=e.memoizedState;if(h!==null){var b=h.dehydrated;if(Fc(t),u)if(t.flags&256)t.flags&=-257,t=pg(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(nt||Cs(e,t,a,!1),u=(a&e.childLanes)!==0,nt||u){if(l=$e,l!==null&&(b=Hi(l,a),b!==0&&b!==h.retryLane))throw h.retryLane=b,Ba(e,b),zt(l,e,b),mu;Rl(),t=pg(e,t,a)}else e=h.treeContext,Ge=Xt(b.nextSibling),ut=t,Me=!0,ea=null,Yt=!1,e!==null&&ah(t,e),t=kl(t,l),t.flags|=4096;return t}return e=En(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Cl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function xu(e,t,a,l,u){return Ya(t),a=Ic(e,t,a,l,void 0,u),l=Jc(),e!==null&&!nt?(Wc(e,t,u),Dn(e,t,u)):(Me&&l&&_c(t),t.flags|=1,ft(e,t,a,u),t.child)}function yg(e,t,a,l,u,h){return Ya(t),t.updateQueue=null,a=Nh(t,l,a,u),vh(e),l=Jc(),e!==null&&!nt?(Wc(e,t,h),Dn(e,t,h)):(Me&&l&&_c(t),t.flags|=1,ft(e,t,a,h),t.child)}function bg(e,t,a,l,u){if(Ya(t),t.stateNode===null){var h=js,b=a.contextType;typeof b=="object"&&b!==null&&(h=dt(b)),h=new a(l,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=hu,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=l,h.state=t.memoizedState,h.refs={},$c(t),b=a.contextType,h.context=typeof b=="object"&&b!==null?dt(b):js,h.state=t.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(fu(t,a,b,l),h.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(b=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),b!==h.state&&hu.enqueueReplaceState(h,h.state,null),Dr(t,l,h,u),Mr(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){h=t.stateNode;var S=t.memoizedProps,R=Ka(a,S);h.props=R;var I=h.context,ne=a.contextType;b=js,typeof ne=="object"&&ne!==null&&(b=dt(ne));var re=a.getDerivedStateFromProps;ne=typeof re=="function"||typeof h.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,ne||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S||I!==b)&&rg(t,h,l,b),aa=!1;var J=t.memoizedState;h.state=J,Dr(t,l,h,u),Mr(),I=t.memoizedState,S||J!==I||aa?(typeof re=="function"&&(fu(t,a,re,l),I=t.memoizedState),(R=aa||sg(t,a,R,l,J,I,b))?(ne||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=I),h.props=l,h.state=I,h.context=b,l=R):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{h=t.stateNode,Yc(e,t),b=t.memoizedProps,ne=Ka(a,b),h.props=ne,re=t.pendingProps,J=h.context,I=a.contextType,R=js,typeof I=="object"&&I!==null&&(R=dt(I)),S=a.getDerivedStateFromProps,(I=typeof S=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==re||J!==R)&&rg(t,h,l,R),aa=!1,J=t.memoizedState,h.state=J,Dr(t,l,h,u),Mr();var ee=t.memoizedState;b!==re||J!==ee||aa||e!==null&&e.dependencies!==null&&ll(e.dependencies)?(typeof S=="function"&&(fu(t,a,S,l),ee=t.memoizedState),(ne=aa||sg(t,a,ne,l,J,ee,R)||e!==null&&e.dependencies!==null&&ll(e.dependencies))?(I||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,ee,R),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,ee,R)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ee),h.props=l,h.state=ee,h.context=R,l=ne):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&J===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&J===e.memoizedState||(t.flags|=1024),l=!1)}return h=l,Cl(e,t),l=(t.flags&128)!==0,h||l?(h=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&l?(t.child=Qa(t,e.child,null,u),t.child=Qa(t,null,a,u)):ft(e,t,a,u),t.memoizedState=h.state,e=t.child):e=Dn(e,t,u),e}function vg(e,t,a,l){return qa(),t.flags|=256,ft(e,t,a,l),t.child}var pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yu(e){return{baseLanes:e,cachePool:ch()}}function bu(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Lt),e}function Ng(e,t,a){var l=t.pendingProps,u=!1,h=(t.flags&128)!==0,b;if((b=h)||(b=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),b&&(u=!0,t.flags&=-129),b=(t.flags&32)!==0,t.flags&=-33,e===null){if(Me){if(u?ia(t):la(),(e=Ge)?(e=A0(e,Yt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Pn!==null?{id:cn,overflow:un}:null,retryLane:536870912,hydrationErrors:null},a=eh(e),a.return=t,t.child=a,ut=t,Ge=null)):e=null,e===null)throw ta(t);return td(e)?t.lanes=32:t.lanes=536870912,null}var S=l.children;return l=l.fallback,u?(la(),u=t.mode,S=El({mode:"hidden",children:S},u),l=Va(l,u,a,null),S.return=t,l.return=t,S.sibling=l,t.child=S,l=t.child,l.memoizedState=yu(a),l.childLanes=bu(e,b,a),t.memoizedState=pu,Ur(null,l)):(ia(t),vu(t,S))}var R=e.memoizedState;if(R!==null&&(S=R.dehydrated,S!==null)){if(h)t.flags&256?(ia(t),t.flags&=-257,t=Nu(e,t,a)):t.memoizedState!==null?(la(),t.child=e.child,t.flags|=128,t=null):(la(),S=l.fallback,u=t.mode,l=El({mode:"visible",children:l.children},u),S=Va(S,u,a,null),S.flags|=2,l.return=t,S.return=t,l.sibling=S,t.child=l,Qa(t,e.child,null,a),l=t.child,l.memoizedState=yu(a),l.childLanes=bu(e,b,a),t.memoizedState=pu,t=Ur(null,l));else if(ia(t),td(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var I=b.dgst;b=I,l=Error(o(419)),l.stack="",l.digest=b,Cr({value:l,source:null,stack:null}),t=Nu(e,t,a)}else if(nt||Cs(e,t,a,!1),b=(a&e.childLanes)!==0,nt||b){if(b=$e,b!==null&&(l=Hi(b,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,Ba(e,l),zt(b,e,l),mu;ed(S)||Rl(),t=Nu(e,t,a)}else ed(S)?(t.flags|=192,t.child=e.child,t=null):(e=R.treeContext,Ge=Xt(S.nextSibling),ut=t,Me=!0,ea=null,Yt=!1,e!==null&&ah(t,e),t=vu(t,l.children),t.flags|=4096);return t}return u?(la(),S=l.fallback,u=t.mode,R=e.child,I=R.sibling,l=En(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,I!==null?S=En(I,S):(S=Va(S,u,a,null),S.flags|=2),S.return=t,l.return=t,l.sibling=S,t.child=l,Ur(null,l),l=t.child,S=e.child.memoizedState,S===null?S=yu(a):(u=S.cachePool,u!==null?(R=et._currentValue,u=u.parent!==R?{parent:R,pool:R}:u):u=ch(),S={baseLanes:S.baseLanes|a,cachePool:u}),l.memoizedState=S,l.childLanes=bu(e,b,a),t.memoizedState=pu,Ur(e.child,l)):(ia(t),a=e.child,e=a.sibling,a=En(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(b=t.deletions,b===null?(t.deletions=[e],t.flags|=16):b.push(e)),t.child=a,t.memoizedState=null,a)}function vu(e,t){return t=El({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function El(e,t){return e=_t(22,e,null,t),e.lanes=0,e}function Nu(e,t,a){return Qa(t,e.child,null,a),e=vu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jg(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Rc(e.return,t,a)}function ju(e,t,a,l,u,h){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u,treeForkCount:h}:(b.isBackwards=t,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=a,b.tailMode=u,b.treeForkCount=h)}function wg(e,t,a){var l=t.pendingProps,u=l.revealOrder,h=l.tail;l=l.children;var b=Je.current,S=(b&2)!==0;if(S?(b=b&1|2,t.flags|=128):b&=1,se(Je,b),ft(e,t,l,a),l=Me?kr:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jg(e,a,t);else if(e.tag===19)jg(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&ml(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),ju(t,!1,u,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&ml(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}ju(t,!0,a,null,h,l);break;case"together":ju(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Dn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ua|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Cs(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=En(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=En(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function wu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ll(e)))}function Gb(e,t,a){switch(t.tag){case 3:oe(t,t.stateNode.containerInfo),na(t,et,e.memoizedState.cache),qa();break;case 27:case 5:ke(t);break;case 4:oe(t,t.stateNode.containerInfo);break;case 10:na(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Fc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(ia(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Ng(e,t,a):(ia(t),e=Dn(e,t,a),e!==null?e.sibling:null);ia(t);break;case 19:var u=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Cs(e,t,a,!1),l=(a&t.childLanes)!==0),u){if(l)return wg(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),se(Je,Je.current),l)break;return null;case 22:return t.lanes=0,mg(e,t,a,t.pendingProps);case 24:na(t,et,e.memoizedState.cache)}return Dn(e,t,a)}function Sg(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)nt=!0;else{if(!wu(e,a)&&(t.flags&128)===0)return nt=!1,Gb(e,t,a);nt=(e.flags&131072)!==0}else nt=!1,Me&&(t.flags&1048576)!==0&&nh(t,kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Xa(t.elementType),t.type=e,typeof e=="function")zc(e)?(l=Ka(e,l),t.tag=1,t=bg(null,t,e,l,a)):(t.tag=0,t=xu(null,t,e,l,a));else{if(e!=null){var u=e.$$typeof;if(u===z){t.tag=11,t=fg(null,t,e,l,a);break e}else if(u===$){t.tag=14,t=hg(null,t,e,l,a);break e}}throw t=_(e)||e,Error(o(306,t,""))}}return t;case 0:return xu(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,u=Ka(l,t.pendingProps),bg(e,t,l,u,a);case 3:e:{if(oe(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var h=t.memoizedState;u=h.element,Yc(e,t),Dr(t,l,null,a);var b=t.memoizedState;if(l=b.cache,na(t,et,l),l!==h.cache&&Hc(t,[et],a,!0),Mr(),l=b.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:b.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=vg(e,t,l,a);break e}else if(l!==u){u=Vt(Error(o(424)),t),Cr(u),t=vg(e,t,l,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ge=Xt(e.firstChild),ut=t,Me=!0,ea=null,Yt=!0,a=mh(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(qa(),l===u){t=Dn(e,t,a);break e}ft(e,t,l,a)}t=t.child}return t;case 26:return Cl(e,t),e===null?(a=L0(t.type,null,t.pendingProps,null))?t.memoizedState=a:Me||(a=t.type,e=t.pendingProps,l=Yl(be.current).createElement(a),l[rt]=t,l[gt]=e,ht(l,a,e),Pe(l),t.stateNode=l):t.memoizedState=L0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ke(t),e===null&&Me&&(l=t.stateNode=M0(t.type,t.pendingProps,be.current),ut=t,Yt=!0,u=Ge,ma(t.type)?(nd=u,Ge=Xt(l.firstChild)):Ge=u),ft(e,t,t.pendingProps.children,a),Cl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Me&&((u=l=Ge)&&(l=vv(l,t.type,t.pendingProps,Yt),l!==null?(t.stateNode=l,ut=t,Ge=Xt(l.firstChild),Yt=!1,u=!0):u=!1),u||ta(t)),ke(t),u=t.type,h=t.pendingProps,b=e!==null?e.memoizedProps:null,l=h.children,Ju(u,h)?l=null:b!==null&&Ju(u,b)&&(t.flags|=32),t.memoizedState!==null&&(u=Ic(e,t,Lb,null,null,a),Pr._currentValue=u),Cl(e,t),ft(e,t,l,a),t.child;case 6:return e===null&&Me&&((e=a=Ge)&&(a=Nv(a,t.pendingProps,Yt),a!==null?(t.stateNode=a,ut=t,Ge=null,e=!0):e=!1),e||ta(t)),null;case 13:return Ng(e,t,a);case 4:return oe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Qa(t,null,l,a):ft(e,t,l,a),t.child;case 11:return fg(e,t,t.type,t.pendingProps,a);case 7:return ft(e,t,t.pendingProps,a),t.child;case 8:return ft(e,t,t.pendingProps.children,a),t.child;case 12:return ft(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,na(t,t.type,l.value),ft(e,t,l.children,a),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,Ya(t),u=dt(u),l=l(u),t.flags|=1,ft(e,t,l,a),t.child;case 14:return hg(e,t,t.type,t.pendingProps,a);case 15:return gg(e,t,t.type,t.pendingProps,a);case 19:return wg(e,t,a);case 31:return Yb(e,t,a);case 22:return mg(e,t,a,t.pendingProps);case 24:return Ya(t),l=dt(et),e===null?(u=Vc(),u===null&&(u=$e,h=Uc(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=a),u=h),t.memoizedState={parent:l,cache:u},$c(t),na(t,et,u)):((e.lanes&a)!==0&&(Yc(e,t),Dr(t,null,null,a),Mr()),u=e.memoizedState,h=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),na(t,et,l)):(l=h.cache,na(t,et,l),l!==u.cache&&Hc(t,[et],a,!0))),ft(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function On(e){e.flags|=4}function Su(e,t,a,l,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Jg())e.flags|=8192;else throw Za=dl,qc}else e.flags&=-16777217}function kg(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!V0(t))if(Jg())e.flags|=8192;else throw Za=dl,qc}function zl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Oi():536870912,e.lanes|=t,Us|=t)}function Br(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Xb(e,t,a){var l=t.pendingProps;switch(Mc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return Xe(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Tn(et),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ks(t)?On(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Oc())),Xe(t),null;case 26:var u=t.type,h=t.memoizedState;return e===null?(On(t),h!==null?(Xe(t),kg(t,h)):(Xe(t),Su(t,u,null,l,a))):h?h!==e.memoizedState?(On(t),Xe(t),kg(t,h)):(Xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&On(t),Xe(t),Su(t,u,e,l,a)),null;case 27:if(we(t),a=be.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&On(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Xe(t),null}e=le.current,ks(t)?sh(t):(e=M0(u,l,a),t.stateNode=e,On(t))}return Xe(t),null;case 5:if(we(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&On(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Xe(t),null}if(h=le.current,ks(t))sh(t);else{var b=Yl(be.current);switch(h){case 1:h=b.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:h=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":h=b.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":h=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":h=b.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?b.createElement(u,{is:l.is}):b.createElement(u)}}h[rt]=t,h[gt]=l;e:for(b=t.child;b!==null;){if(b.tag===5||b.tag===6)h.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===t)break e;for(;b.sibling===null;){if(b.return===null||b.return===t)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}t.stateNode=h;e:switch(ht(h,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&On(t)}}return Xe(t),Su(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&On(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=be.current,ks(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,u=ut,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[rt]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||N0(e.nodeValue,a)),e||ta(t,!0)}else e=Yl(e).createTextNode(l),e[rt]=t,t.stateNode=e}return Xe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=ks(t),a!==null){if(e===null){if(!l)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[rt]=t}else qa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),e=!1}else a=Oc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Dt(t),t):(Dt(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Xe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ks(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(o(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));u[rt]=t}else qa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),u=!1}else u=Oc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Dt(t),t):(Dt(t),null)}return Dt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==u&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),zl(t,t.updateQueue),Xe(t),null);case 4:return ue(),e===null&&Zu(t.stateNode.containerInfo),Xe(t),null;case 10:return Tn(t.type),Xe(t),null;case 19:if(W(Je),l=t.memoizedState,l===null)return Xe(t),null;if(u=(t.flags&128)!==0,h=l.rendering,h===null)if(u)Br(l,!1);else{if(Ie!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=ml(e),h!==null){for(t.flags|=128,Br(l,!1),e=h.updateQueue,t.updateQueue=e,zl(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Pf(a,e),a=a.sibling;return se(Je,Je.current&1|2),Me&&zn(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&ct()>Dl&&(t.flags|=128,u=!0,Br(l,!1),t.lanes=4194304)}else{if(!u)if(e=ml(h),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,zl(t,e),Br(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Me)return Xe(t),null}else 2*ct()-l.renderingStartTime>Dl&&a!==536870912&&(t.flags|=128,u=!0,Br(l,!1),t.lanes=4194304);l.isBackwards?(h.sibling=t.child,t.child=h):(e=l.last,e!==null?e.sibling=h:t.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ct(),e.sibling=null,a=Je.current,se(Je,u?a&1|2:a&1),Me&&zn(t,l.treeForkCount),e):(Xe(t),null);case 22:case 23:return Dt(t),Qc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),a=t.updateQueue,a!==null&&zl(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&W(Ga),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Tn(et),Xe(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Zb(e,t){switch(Mc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tn(et),ue(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return we(t),null;case 31:if(t.memoizedState!==null){if(Dt(t),t.alternate===null)throw Error(o(340));qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Dt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(Je),null;case 4:return ue(),null;case 10:return Tn(t.type),null;case 22:case 23:return Dt(t),Qc(),e!==null&&W(Ga),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Tn(et),null;case 25:return null;default:return null}}function Cg(e,t){switch(Mc(t),t.tag){case 3:Tn(et),ue();break;case 26:case 27:case 5:we(t);break;case 4:ue();break;case 31:t.memoizedState!==null&&Dt(t);break;case 13:Dt(t);break;case 19:W(Je);break;case 10:Tn(t.type);break;case 22:case 23:Dt(t),Qc(),e!==null&&W(Ga);break;case 24:Tn(et)}}function Vr(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var u=l.next;a=u;do{if((a.tag&e)===e){l=void 0;var h=a.create,b=a.inst;l=h(),b.destroy=l}a=a.next}while(a!==u)}}catch(S){Ue(t,t.return,S)}}function oa(e,t,a){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var h=u.next;l=h;do{if((l.tag&e)===e){var b=l.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,u=t;var R=a,I=S;try{I()}catch(ne){Ue(u,R,ne)}}}l=l.next}while(l!==h)}}catch(ne){Ue(t,t.return,ne)}}function Eg(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{ph(t,a)}catch(l){Ue(e,e.return,l)}}}function zg(e,t,a){a.props=Ka(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ue(e,t,l)}}function qr(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(u){Ue(e,t,u)}}function dn(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(u){Ue(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Ue(e,t,u)}else a.current=null}function Ag(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(u){Ue(e,e.return,u)}}function ku(e,t,a){try{var l=e.stateNode;gv(l,e.type,a,t),l[gt]=t}catch(u){Ue(e,e.return,u)}}function Tg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ma(e.type)||e.tag===4}function Cu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ma(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eu(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=kn));else if(l!==4&&(l===27&&ma(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Eu(e,t,a),e=e.sibling;e!==null;)Eu(e,t,a),e=e.sibling}function Al(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&ma(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Al(e,t,a),e=e.sibling;e!==null;)Al(e,t,a),e=e.sibling}function _g(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);ht(t,l,a),t[rt]=e,t[gt]=a}catch(h){Ue(e,e.return,h)}}var Ln=!1,at=!1,zu=!1,Mg=typeof WeakSet=="function"?WeakSet:Set,ot=null;function Qb(e,t){if(e=e.containerInfo,Ku=Il,e=Gf(e),Nc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var b=0,S=-1,R=-1,I=0,ne=0,re=e,J=null;t:for(;;){for(var ee;re!==a||u!==0&&re.nodeType!==3||(S=b+u),re!==h||l!==0&&re.nodeType!==3||(R=b+l),re.nodeType===3&&(b+=re.nodeValue.length),(ee=re.firstChild)!==null;)J=re,re=ee;for(;;){if(re===e)break t;if(J===a&&++I===u&&(S=b),J===h&&++ne===l&&(R=b),(ee=re.nextSibling)!==null)break;re=J,J=re.parentNode}re=ee}a=S===-1||R===-1?null:{start:S,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Iu={focusedElem:e,selectionRange:a},Il=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){switch(t=ot,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,a=t,u=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var de=Ka(a.type,u);e=l.getSnapshotBeforeUpdate(de,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(ve){Ue(a,a.return,ve)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Pu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}}function Dg(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Hn(e,a),l&4&&Vr(5,a);break;case 1:if(Hn(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(b){Ue(a,a.return,b)}else{var u=Ka(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Ue(a,a.return,b)}}l&64&&Eg(a),l&512&&qr(a,a.return);break;case 3:if(Hn(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ph(e,t)}catch(b){Ue(a,a.return,b)}}break;case 27:t===null&&l&4&&_g(a);case 26:case 5:Hn(e,a),t===null&&l&4&&Ag(a),l&512&&qr(a,a.return);break;case 12:Hn(e,a);break;case 31:Hn(e,a),l&4&&Rg(e,a);break;case 13:Hn(e,a),l&4&&Hg(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=nv.bind(null,a),jv(e,a))));break;case 22:if(l=a.memoizedState!==null||Ln,!l){t=t!==null&&t.memoizedState!==null||at,u=Ln;var h=at;Ln=l,(at=t)&&!h?Un(e,a,(a.subtreeFlags&8772)!==0):Hn(e,a),Ln=u,at=h}break;case 30:break;default:Hn(e,a)}}function Og(e){var t=e.alternate;t!==null&&(e.alternate=null,Og(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ze=null,St=!1;function Rn(e,t,a){for(a=a.child;a!==null;)Lg(e,t,a),a=a.sibling}function Lg(e,t,a){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(Ta,a)}catch{}switch(a.tag){case 26:at||dn(a,t),Rn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||dn(a,t);var l=Ze,u=St;ma(a.type)&&(Ze=a.stateNode,St=!1),Rn(e,t,a),Ir(a.stateNode),Ze=l,St=u;break;case 5:at||dn(a,t);case 6:if(l=Ze,u=St,Ze=null,Rn(e,t,a),Ze=l,St=u,Ze!==null)if(St)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(a.stateNode)}catch(h){Ue(a,t,h)}else try{Ze.removeChild(a.stateNode)}catch(h){Ue(a,t,h)}break;case 18:Ze!==null&&(St?(e=Ze,E0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Zs(e)):E0(Ze,a.stateNode));break;case 4:l=Ze,u=St,Ze=a.stateNode.containerInfo,St=!0,Rn(e,t,a),Ze=l,St=u;break;case 0:case 11:case 14:case 15:oa(2,a,t),at||oa(4,a,t),Rn(e,t,a);break;case 1:at||(dn(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&zg(a,t,l)),Rn(e,t,a);break;case 21:Rn(e,t,a);break;case 22:at=(l=at)||a.memoizedState!==null,Rn(e,t,a),at=l;break;default:Rn(e,t,a)}}function Rg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Zs(e)}catch(a){Ue(t,t.return,a)}}}function Hg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zs(e)}catch(a){Ue(t,t.return,a)}}function Fb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Mg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Mg),t;default:throw Error(o(435,e.tag))}}function Tl(e,t){var a=Fb(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var u=av.bind(null,e,l);l.then(u,u)}})}function kt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l],h=e,b=t,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(ma(S.type)){Ze=S.stateNode,St=!1;break e}break;case 5:Ze=S.stateNode,St=!1;break e;case 3:case 4:Ze=S.stateNode.containerInfo,St=!0;break e}S=S.return}if(Ze===null)throw Error(o(160));Lg(h,b,u),Ze=null,St=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ug(t,e),t=t.sibling}var Wt=null;function Ug(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:kt(t,e),Ct(e),l&4&&(oa(3,e,e.return),Vr(3,e),oa(5,e,e.return));break;case 1:kt(t,e),Ct(e),l&512&&(at||a===null||dn(a,a.return)),l&64&&Ln&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var u=Wt;if(kt(t,e),Ct(e),l&512&&(at||a===null||dn(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":h=u.getElementsByTagName("title")[0],(!h||h[Da]||h[rt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(l),u.head.insertBefore(h,u.querySelector("head > title"))),ht(h,l,a),h[rt]=e,Pe(h),l=h;break e;case"link":var b=U0("link","href",u).get(l+(a.href||""));if(b){for(var S=0;S<b.length;S++)if(h=b[S],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(S,1);break t}}h=u.createElement(l),ht(h,l,a),u.head.appendChild(h);break;case"meta":if(b=U0("meta","content",u).get(l+(a.content||""))){for(S=0;S<b.length;S++)if(h=b[S],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(S,1);break t}}h=u.createElement(l),ht(h,l,a),u.head.appendChild(h);break;default:throw Error(o(468,l))}h[rt]=e,Pe(h),l=h}e.stateNode=l}else B0(u,e.type,e.stateNode);else e.stateNode=H0(u,l,e.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?B0(u,e.type,e.stateNode):H0(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ku(e,e.memoizedProps,a.memoizedProps)}break;case 27:kt(t,e),Ct(e),l&512&&(at||a===null||dn(a,a.return)),a!==null&&l&4&&ku(e,e.memoizedProps,a.memoizedProps);break;case 5:if(kt(t,e),Ct(e),l&512&&(at||a===null||dn(a,a.return)),e.flags&32){u=e.stateNode;try{ms(u,"")}catch(de){Ue(e,e.return,de)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,ku(e,u,a!==null?a.memoizedProps:u)),l&1024&&(zu=!0);break;case 6:if(kt(t,e),Ct(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(de){Ue(e,e.return,de)}}break;case 3:if(Zl=null,u=Wt,Wt=Gl(t.containerInfo),kt(t,e),Wt=u,Ct(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Zs(t.containerInfo)}catch(de){Ue(e,e.return,de)}zu&&(zu=!1,Bg(e));break;case 4:l=Wt,Wt=Gl(e.stateNode.containerInfo),kt(t,e),Ct(e),Wt=l;break;case 12:kt(t,e),Ct(e);break;case 31:kt(t,e),Ct(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Tl(e,l)));break;case 13:kt(t,e),Ct(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ml=ct()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Tl(e,l)));break;case 22:u=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,I=Ln,ne=at;if(Ln=I||u,at=ne||R,kt(t,e),at=ne,Ln=I,Ct(e),l&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||R||Ln||at||Ia(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){R=a=t;try{if(h=R.stateNode,u)b=h.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=R.stateNode;var re=R.memoizedProps.style,J=re!=null&&re.hasOwnProperty("display")?re.display:null;S.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(de){Ue(R,R.return,de)}}}else if(t.tag===6){if(a===null){R=t;try{R.stateNode.nodeValue=u?"":R.memoizedProps}catch(de){Ue(R,R.return,de)}}}else if(t.tag===18){if(a===null){R=t;try{var ee=R.stateNode;u?z0(ee,!0):z0(R.stateNode,!1)}catch(de){Ue(R,R.return,de)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Tl(e,a))));break;case 19:kt(t,e),Ct(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Tl(e,l)));break;case 30:break;case 21:break;default:kt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(Tg(l)){a=l;break}l=l.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var u=a.stateNode,h=Cu(e);Al(e,h,u);break;case 5:var b=a.stateNode;a.flags&32&&(ms(b,""),a.flags&=-33);var S=Cu(e);Al(e,S,b);break;case 3:case 4:var R=a.stateNode.containerInfo,I=Cu(e);Eu(e,I,R);break;default:throw Error(o(161))}}catch(ne){Ue(e,e.return,ne)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Bg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Hn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Dg(e,t.alternate,t),t=t.sibling}function Ia(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:oa(4,t,t.return),Ia(t);break;case 1:dn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&zg(t,t.return,a),Ia(t);break;case 27:Ir(t.stateNode);case 26:case 5:dn(t,t.return),Ia(t);break;case 22:t.memoizedState===null&&Ia(t);break;case 30:Ia(t);break;default:Ia(t)}e=e.sibling}}function Un(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,h=t,b=h.flags;switch(h.tag){case 0:case 11:case 15:Un(u,h,a),Vr(4,h);break;case 1:if(Un(u,h,a),l=h,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(I){Ue(l,l.return,I)}if(l=h,u=l.updateQueue,u!==null){var S=l.stateNode;try{var R=u.shared.hiddenCallbacks;if(R!==null)for(u.shared.hiddenCallbacks=null,u=0;u<R.length;u++)xh(R[u],S)}catch(I){Ue(l,l.return,I)}}a&&b&64&&Eg(h),qr(h,h.return);break;case 27:_g(h);case 26:case 5:Un(u,h,a),a&&l===null&&b&4&&Ag(h),qr(h,h.return);break;case 12:Un(u,h,a);break;case 31:Un(u,h,a),a&&b&4&&Rg(u,h);break;case 13:Un(u,h,a),a&&b&4&&Hg(u,h);break;case 22:h.memoizedState===null&&Un(u,h,a),qr(h,h.return);break;case 30:break;default:Un(u,h,a)}t=t.sibling}}function Au(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Er(a))}function Tu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Er(e))}function Pt(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vg(e,t,a,l),t=t.sibling}function Vg(e,t,a,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Pt(e,t,a,l),u&2048&&Vr(9,t);break;case 1:Pt(e,t,a,l);break;case 3:Pt(e,t,a,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Er(e)));break;case 12:if(u&2048){Pt(e,t,a,l),e=t.stateNode;try{var h=t.memoizedProps,b=h.id,S=h.onPostCommit;typeof S=="function"&&S(b,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Ue(t,t.return,R)}}else Pt(e,t,a,l);break;case 31:Pt(e,t,a,l);break;case 13:Pt(e,t,a,l);break;case 23:break;case 22:h=t.stateNode,b=t.alternate,t.memoizedState!==null?h._visibility&2?Pt(e,t,a,l):$r(e,t):h._visibility&2?Pt(e,t,a,l):(h._visibility|=2,Ls(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Au(b,t);break;case 24:Pt(e,t,a,l),u&2048&&Tu(t.alternate,t);break;default:Pt(e,t,a,l)}}function Ls(e,t,a,l,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,b=t,S=a,R=l,I=b.flags;switch(b.tag){case 0:case 11:case 15:Ls(h,b,S,R,u),Vr(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?Ls(h,b,S,R,u):$r(h,b):(ne._visibility|=2,Ls(h,b,S,R,u)),u&&I&2048&&Au(b.alternate,b);break;case 24:Ls(h,b,S,R,u),u&&I&2048&&Tu(b.alternate,b);break;default:Ls(h,b,S,R,u)}t=t.sibling}}function $r(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,u=l.flags;switch(l.tag){case 22:$r(a,l),u&2048&&Au(l.alternate,l);break;case 24:$r(a,l),u&2048&&Tu(l.alternate,l);break;default:$r(a,l)}t=t.sibling}}var Yr=8192;function Rs(e,t,a){if(e.subtreeFlags&Yr)for(e=e.child;e!==null;)qg(e,t,a),e=e.sibling}function qg(e,t,a){switch(e.tag){case 26:Rs(e,t,a),e.flags&Yr&&e.memoizedState!==null&&Ov(a,Wt,e.memoizedState,e.memoizedProps);break;case 5:Rs(e,t,a);break;case 3:case 4:var l=Wt;Wt=Gl(e.stateNode.containerInfo),Rs(e,t,a),Wt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Yr,Yr=16777216,Rs(e,t,a),Yr=l):Rs(e,t,a));break;default:Rs(e,t,a)}}function $g(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Gr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];ot=l,Gg(l,e)}$g(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yg(e),e=e.sibling}function Yg(e){switch(e.tag){case 0:case 11:case 15:Gr(e),e.flags&2048&&oa(9,e,e.return);break;case 3:Gr(e);break;case 12:Gr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,_l(e)):Gr(e);break;default:Gr(e)}}function _l(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];ot=l,Gg(l,e)}$g(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:oa(8,t,t.return),_l(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,_l(t));break;default:_l(t)}e=e.sibling}}function Gg(e,t){for(;ot!==null;){var a=ot;switch(a.tag){case 0:case 11:case 15:oa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Er(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ot=l;else e:for(a=e;ot!==null;){l=ot;var u=l.sibling,h=l.return;if(Og(l),l===a){ot=null;break e}if(u!==null){u.return=h,ot=u;break e}ot=h}}}var Kb={getCacheForType:function(e){var t=dt(et),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return dt(et).controller.signal}},Ib=typeof WeakMap=="function"?WeakMap:Map,Re=0,$e=null,ze=null,Te=0,He=0,Ot=null,ca=!1,Hs=!1,_u=!1,Bn=0,Ie=0,ua=0,Ja=0,Mu=0,Lt=0,Us=0,Xr=null,Et=null,Du=!1,Ml=0,Xg=0,Dl=1/0,Ol=null,da=null,it=0,fa=null,Bs=null,Vn=0,Ou=0,Lu=null,Zg=null,Zr=0,Ru=null;function Rt(){return(Re&2)!==0&&Te!==0?Te&-Te:C.T!==null?$u():Ui()}function Qg(){if(Lt===0)if((Te&536870912)===0||Me){var e=os;os<<=1,(os&3932160)===0&&(os=262144),Lt=e}else Lt=536870912;return e=Mt.current,e!==null&&(e.flags|=32),Lt}function zt(e,t,a){(e===$e&&(He===2||He===9)||e.cancelPendingCommit!==null)&&(Vs(e,0),ha(e,Te,Lt,!1)),Ma(e,a),((Re&2)===0||e!==$e)&&(e===$e&&((Re&2)===0&&(Ja|=a),Ie===4&&ha(e,Te,Lt,!1)),fn(e))}function Fg(e,t,a){if((Re&6)!==0)throw Error(o(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||_a(e,t),u=l?Pb(e,t):Uu(e,t,!0),h=l;do{if(u===0){Hs&&!l&&ha(e,t,0,!1);break}else{if(a=e.current.alternate,h&&!Jb(a)){u=Uu(e,t,!1),h=!1;continue}if(u===2){if(h=t,e.errorRecoveryDisabledLanes&h)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){t=b;e:{var S=e;u=Xr;var R=S.current.memoizedState.isDehydrated;if(R&&(Vs(S,b).flags|=256),b=Uu(S,b,!1),b!==2){if(_u&&!R){S.errorRecoveryDisabledLanes|=h,Ja|=h,u=4;break e}h=Et,Et=u,h!==null&&(Et===null?Et=h:Et.push.apply(Et,h))}u=b}if(h=!1,u!==2)continue}}if(u===1){Vs(e,0),ha(e,t,0,!0);break}e:{switch(l=e,h=u,h){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:ha(l,t,Lt,!ca);break e;case 2:Et=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(u=Ml+300-ct(),10<u)){if(ha(l,t,Lt,!ca),us(l,0,!0)!==0)break e;Vn=t,l.timeoutHandle=k0(Kg.bind(null,l,a,Et,Ol,Du,t,Lt,Ja,Us,ca,h,"Throttled",-0,0),u);break e}Kg(l,a,Et,Ol,Du,t,Lt,Ja,Us,ca,h,null,-0,0)}}break}while(!0);fn(e)}function Kg(e,t,a,l,u,h,b,S,R,I,ne,re,J,ee){if(e.timeoutHandle=-1,re=t.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},qg(t,h,re);var de=(h&62914560)===h?Ml-ct():(h&4194048)===h?Xg-ct():0;if(de=Lv(re,de),de!==null){Vn=h,e.cancelPendingCommit=de(a0.bind(null,e,t,h,a,l,u,b,S,R,ne,re,null,J,ee)),ha(e,h,b,!I);return}}a0(e,t,h,a,l,u,b,S,R)}function Jb(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var u=a[l],h=u.getSnapshot;u=u.value;try{if(!Tt(h(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ha(e,t,a,l){t&=~Mu,t&=~Ja,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var h=31-xt(u),b=1<<h;l[h]=-1,u&=~b}a!==0&&Li(e,a,t)}function Ll(){return(Re&6)===0?(Qr(0),!1):!0}function Hu(){if(ze!==null){if(He===0)var e=ze.return;else e=ze,An=$a=null,Pc(e),Ts=null,Ar=0,e=ze;for(;e!==null;)Cg(e.alternate,e),e=e.return;ze=null}}function Vs(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,pv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Vn=0,Hu(),$e=e,ze=a=En(e.current,null),Te=t,He=0,Ot=null,ca=!1,Hs=_a(e,t),_u=!1,Us=Lt=Mu=Ja=ua=Ie=0,Et=Xr=null,Du=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-xt(l),h=1<<u;t|=e[u],l&=~h}return Bn=t,nl(),a}function Ig(e,t){Ce=null,C.H=Hr,t===As||t===ul?(t=fh(),He=3):t===qc?(t=fh(),He=4):He=t===mu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ot=t,ze===null&&(Ie=1,Sl(e,Vt(t,e.current)))}function Jg(){var e=Mt.current;return e===null?!0:(Te&4194048)===Te?Gt===null:(Te&62914560)===Te||(Te&536870912)!==0?e===Gt:!1}function Wg(){var e=C.H;return C.H=Hr,e===null?Hr:e}function Pg(){var e=C.A;return C.A=Kb,e}function Rl(){Ie=4,ca||(Te&4194048)!==Te&&Mt.current!==null||(Hs=!0),(ua&134217727)===0&&(Ja&134217727)===0||$e===null||ha($e,Te,Lt,!1)}function Uu(e,t,a){var l=Re;Re|=2;var u=Wg(),h=Pg();($e!==e||Te!==t)&&(Ol=null,Vs(e,t)),t=!1;var b=Ie;e:do try{if(He!==0&&ze!==null){var S=ze,R=Ot;switch(He){case 8:Hu(),b=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(t=!0);var I=He;if(He=0,Ot=null,qs(e,S,R,I),a&&Hs){b=0;break e}break;default:I=He,He=0,Ot=null,qs(e,S,R,I)}}Wb(),b=Ie;break}catch(ne){Ig(e,ne)}while(!0);return t&&e.shellSuspendCounter++,An=$a=null,Re=l,C.H=u,C.A=h,ze===null&&($e=null,Te=0,nl()),b}function Wb(){for(;ze!==null;)e0(ze)}function Pb(e,t){var a=Re;Re|=2;var l=Wg(),u=Pg();$e!==e||Te!==t?(Ol=null,Dl=ct()+500,Vs(e,t)):Hs=_a(e,t);e:do try{if(He!==0&&ze!==null){t=ze;var h=Ot;t:switch(He){case 1:He=0,Ot=null,qs(e,t,h,1);break;case 2:case 9:if(uh(h)){He=0,Ot=null,t0(t);break}t=function(){He!==2&&He!==9||$e!==e||(He=7),fn(e)},h.then(t,t);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:uh(h)?(He=0,Ot=null,t0(t)):(He=0,Ot=null,qs(e,t,h,7));break;case 5:var b=null;switch(ze.tag){case 26:b=ze.memoizedState;case 5:case 27:var S=ze;if(b?V0(b):S.stateNode.complete){He=0,Ot=null;var R=S.sibling;if(R!==null)ze=R;else{var I=S.return;I!==null?(ze=I,Hl(I)):ze=null}break t}}He=0,Ot=null,qs(e,t,h,5);break;case 6:He=0,Ot=null,qs(e,t,h,6);break;case 8:Hu(),Ie=6;break e;default:throw Error(o(462))}}ev();break}catch(ne){Ig(e,ne)}while(!0);return An=$a=null,C.H=l,C.A=u,Re=a,ze!==null?0:($e=null,Te=0,nl(),Ie)}function ev(){for(;ze!==null&&!Ea();)e0(ze)}function e0(e){var t=Sg(e.alternate,e,Bn);e.memoizedProps=e.pendingProps,t===null?Hl(e):ze=t}function t0(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=yg(a,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=yg(a,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:Pc(t);default:Cg(a,t),t=ze=Pf(t,Bn),t=Sg(a,t,Bn)}e.memoizedProps=e.pendingProps,t===null?Hl(e):ze=t}function qs(e,t,a,l){An=$a=null,Pc(t),Ts=null,Ar=0;var u=t.return;try{if($b(e,u,t,a,Te)){Ie=1,Sl(e,Vt(a,e.current)),ze=null;return}}catch(h){if(u!==null)throw ze=u,h;Ie=1,Sl(e,Vt(a,e.current)),ze=null;return}t.flags&32768?(Me||l===1?e=!0:Hs||(Te&536870912)!==0?e=!1:(ca=e=!0,(l===2||l===9||l===3||l===6)&&(l=Mt.current,l!==null&&l.tag===13&&(l.flags|=16384))),n0(t,e)):Hl(t)}function Hl(e){var t=e;do{if((t.flags&32768)!==0){n0(t,ca);return}e=t.return;var a=Xb(t.alternate,t,Bn);if(a!==null){ze=a;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);Ie===0&&(Ie=5)}function n0(e,t){do{var a=Zb(e.alternate,e);if(a!==null){a.flags&=32767,ze=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ze=e;return}ze=e=a}while(e!==null);Ie=6,ze=null}function a0(e,t,a,l,u,h,b,S,R){e.cancelPendingCommit=null;do Ul();while(it!==0);if((Re&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(h=t.lanes|t.childLanes,h|=Cc,nc(e,a,h,b,S,R),e===$e&&(ze=$e=null,Te=0),Bs=t,fa=e,Vn=a,Ou=h,Lu=u,Zg=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,sv(Aa,function(){return o0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=C.T,C.T=null,u=O.p,O.p=2,b=Re,Re|=4;try{Qb(e,t,a)}finally{Re=b,O.p=u,C.T=l}}it=1,s0(),r0(),i0()}}function s0(){if(it===1){it=0;var e=fa,t=Bs,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=C.T,C.T=null;var l=O.p;O.p=2;var u=Re;Re|=4;try{Ug(t,e);var h=Iu,b=Gf(e.containerInfo),S=h.focusedElem,R=h.selectionRange;if(b!==S&&S&&S.ownerDocument&&Yf(S.ownerDocument.documentElement,S)){if(R!==null&&Nc(S)){var I=R.start,ne=R.end;if(ne===void 0&&(ne=I),"selectionStart"in S)S.selectionStart=I,S.selectionEnd=Math.min(ne,S.value.length);else{var re=S.ownerDocument||document,J=re&&re.defaultView||window;if(J.getSelection){var ee=J.getSelection(),de=S.textContent.length,ve=Math.min(R.start,de),qe=R.end===void 0?ve:Math.min(R.end,de);!ee.extend&&ve>qe&&(b=qe,qe=ve,ve=b);var Q=$f(S,ve),Y=$f(S,qe);if(Q&&Y&&(ee.rangeCount!==1||ee.anchorNode!==Q.node||ee.anchorOffset!==Q.offset||ee.focusNode!==Y.node||ee.focusOffset!==Y.offset)){var K=re.createRange();K.setStart(Q.node,Q.offset),ee.removeAllRanges(),ve>qe?(ee.addRange(K),ee.extend(Y.node,Y.offset)):(K.setEnd(Y.node,Y.offset),ee.addRange(K))}}}}for(re=[],ee=S;ee=ee.parentNode;)ee.nodeType===1&&re.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<re.length;S++){var ae=re[S];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Il=!!Ku,Iu=Ku=null}finally{Re=u,O.p=l,C.T=a}}e.current=t,it=2}}function r0(){if(it===2){it=0;var e=fa,t=Bs,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=C.T,C.T=null;var l=O.p;O.p=2;var u=Re;Re|=4;try{Dg(e,t.alternate,t)}finally{Re=u,O.p=l,C.T=a}}it=3}}function i0(){if(it===4||it===3){it=0,za();var e=fa,t=Bs,a=Vn,l=Zg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,Bs=fa=null,l0(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(da=null),fr(a),t=t.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(Ta,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=C.T,u=O.p,O.p=2,C.T=null;try{for(var h=e.onRecoverableError,b=0;b<l.length;b++){var S=l[b];h(S.value,{componentStack:S.stack})}}finally{C.T=t,O.p=u}}(Vn&3)!==0&&Ul(),fn(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===Ru?Zr++:(Zr=0,Ru=e):Zr=0,Qr(0)}}function l0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Er(t)))}function Ul(){return s0(),r0(),i0(),o0()}function o0(){if(it!==5)return!1;var e=fa,t=Ou;Ou=0;var a=fr(Vn),l=C.T,u=O.p;try{O.p=32>a?32:a,C.T=null,a=Lu,Lu=null;var h=fa,b=Vn;if(it=0,Bs=fa=null,Vn=0,(Re&6)!==0)throw Error(o(331));var S=Re;if(Re|=4,Yg(h.current),Vg(h,h.current,b,a),Re=S,Qr(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(Ta,h)}catch{}return!0}finally{O.p=u,C.T=l,l0(e,t)}}function c0(e,t,a){t=Vt(a,t),t=gu(e.stateNode,t,2),e=ra(e,t,2),e!==null&&(Ma(e,2),fn(e))}function Ue(e,t,a){if(e.tag===3)c0(e,e,a);else for(;t!==null;){if(t.tag===3){c0(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(da===null||!da.has(l))){e=Vt(a,e),a=ug(2),l=ra(t,a,2),l!==null&&(dg(a,l,t,e),Ma(l,2),fn(l));break}}t=t.return}}function Bu(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Ib;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(a)||(_u=!0,u.add(a),e=tv.bind(null,e,t,a),t.then(e,e))}function tv(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,$e===e&&(Te&a)===a&&(Ie===4||Ie===3&&(Te&62914560)===Te&&300>ct()-Ml?(Re&2)===0&&Vs(e,0):Mu|=a,Us===Te&&(Us=0)),fn(e)}function u0(e,t){t===0&&(t=Oi()),e=Ba(e,t),e!==null&&(Ma(e,t),fn(e))}function nv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),u0(e,a)}function av(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),u0(e,a)}function sv(e,t){return Kt(e,t)}var Bl=null,$s=null,Vu=!1,Vl=!1,qu=!1,ga=0;function fn(e){e!==$s&&e.next===null&&($s===null?Bl=$s=e:$s=$s.next=e),Vl=!0,Vu||(Vu=!0,iv())}function Qr(e,t){if(!qu&&Vl){qu=!0;do for(var a=!1,l=Bl;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var h=0;else{var b=l.suspendedLanes,S=l.pingedLanes;h=(1<<31-xt(42|e)+1)-1,h&=u&~(b&~S),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,g0(l,h))}else h=Te,h=us(l,l===$e?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||_a(l,h)||(a=!0,g0(l,h));l=l.next}while(a);qu=!1}}function rv(){d0()}function d0(){Vl=Vu=!1;var e=0;ga!==0&&xv()&&(e=ga);for(var t=ct(),a=null,l=Bl;l!==null;){var u=l.next,h=f0(l,t);h===0?(l.next=null,a===null?Bl=u:a.next=u,u===null&&($s=a)):(a=l,(e!==0||(h&3)!==0)&&(Vl=!0)),l=u}it!==0&&it!==5||Qr(e),ga!==0&&(ga=0)}function f0(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var b=31-xt(h),S=1<<b,R=u[b];R===-1?((S&a)===0||(S&l)!==0)&&(u[b]=tc(S,t)):R<=t&&(e.expiredLanes|=S),h&=~S}if(t=$e,a=Te,a=us(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(He===2||He===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&bn(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||_a(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&bn(l),fr(a)){case 2:case 8:a=Zn;break;case 32:a=Aa;break;case 268435456:a=is;break;default:a=Aa}return l=h0.bind(null,e),a=Kt(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&bn(l),e.callbackPriority=2,e.callbackNode=null,2}function h0(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ul()&&e.callbackNode!==a)return null;var l=Te;return l=us(e,e===$e?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Fg(e,l,t),f0(e,ct()),e.callbackNode!=null&&e.callbackNode===a?h0.bind(null,e):null)}function g0(e,t){if(Ul())return null;Fg(e,t,!0)}function iv(){yv(function(){(Re&6)!==0?Kt(vn,rv):d0()})}function $u(){if(ga===0){var e=Es;e===0&&(e=ls,ls<<=1,(ls&261888)===0&&(ls=256)),ga=e}return ga}function m0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fi(""+e)}function x0(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function lv(e,t,a,l,u){if(t==="submit"&&a&&a.stateNode===u){var h=m0((u[gt]||null).action),b=l.submitter;b&&(t=(t=b[gt]||null)?m0(t.formAction):b.getAttribute("formAction"),t!==null&&(h=t,b=null));var S=new Wi("action","action",null,l,u);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ga!==0){var R=b?x0(u,b):new FormData(u);ou(a,{pending:!0,data:R,method:u.method,action:h},null,R)}}else typeof h=="function"&&(S.preventDefault(),R=b?x0(u,b):new FormData(u),ou(a,{pending:!0,data:R,method:u.method,action:h},h,R))},currentTarget:u}]})}}for(var Yu=0;Yu<kc.length;Yu++){var Gu=kc[Yu],ov=Gu.toLowerCase(),cv=Gu[0].toUpperCase()+Gu.slice(1);Jt(ov,"on"+cv)}Jt(Qf,"onAnimationEnd"),Jt(Ff,"onAnimationIteration"),Jt(Kf,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(kb,"onTransitionRun"),Jt(Cb,"onTransitionStart"),Jt(Eb,"onTransitionCancel"),Jt(If,"onTransitionEnd"),Jn("onMouseEnter",["mouseout","mouseover"]),Jn("onMouseLeave",["mouseout","mouseover"]),Jn("onPointerEnter",["pointerout","pointerover"]),Jn("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fr));function p0(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],u=l.event;l=l.listeners;e:{var h=void 0;if(t)for(var b=l.length-1;0<=b;b--){var S=l[b],R=S.instance,I=S.currentTarget;if(S=S.listener,R!==h&&u.isPropagationStopped())break e;h=S,u.currentTarget=I;try{h(u)}catch(ne){tl(ne)}u.currentTarget=null,h=R}else for(b=0;b<l.length;b++){if(S=l[b],R=S.instance,I=S.currentTarget,S=S.listener,R!==h&&u.isPropagationStopped())break e;h=S,u.currentTarget=I;try{h(u)}catch(ne){tl(ne)}u.currentTarget=null,h=R}}}}function Ae(e,t){var a=t[ds];a===void 0&&(a=t[ds]=new Set);var l=e+"__bubble";a.has(l)||(y0(t,e,2,!1),a.add(l))}function Xu(e,t,a){var l=0;t&&(l|=4),y0(a,e,l,t)}var ql="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[ql]){e[ql]=!0,$i.forEach(function(a){a!=="selectionchange"&&(uv.has(a)||Xu(a,!1,e),Xu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ql]||(t[ql]=!0,Xu("selectionchange",!1,t))}}function y0(e,t,a,l){switch(Q0(t)){case 2:var u=Uv;break;case 8:u=Bv;break;default:u=ld}a=u.bind(null,t,a,e),u=void 0,!fc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function Qu(e,t,a,l,u){var h=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var S=l.stateNode.containerInfo;if(S===u)break;if(b===4)for(b=l.return;b!==null;){var R=b.tag;if((R===3||R===4)&&b.stateNode.containerInfo===u)return;b=b.return}for(;S!==null;){if(b=Qn(S),b===null)return;if(R=b.tag,R===5||R===6||R===26||R===27){l=h=b;continue e}S=S.parentNode}}l=l.return}wf(function(){var I=h,ne=uc(a),re=[];e:{var J=Jf.get(e);if(J!==void 0){var ee=Wi,de=e;switch(e){case"keypress":if(Ii(a)===0)break e;case"keydown":case"keyup":ee=ab;break;case"focusin":de="focus",ee=xc;break;case"focusout":de="blur",ee=xc;break;case"beforeblur":case"afterblur":ee=xc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Xy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=ib;break;case Qf:case Ff:case Kf:ee=Fy;break;case If:ee=ob;break;case"scroll":case"scrollend":ee=Yy;break;case"wheel":ee=ub;break;case"copy":case"cut":case"paste":ee=Iy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=zf;break;case"toggle":case"beforetoggle":ee=fb}var ve=(t&4)!==0,qe=!ve&&(e==="scroll"||e==="scrollend"),Q=ve?J!==null?J+"Capture":null:J;ve=[];for(var Y=I,K;Y!==null;){var ae=Y;if(K=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||K===null||Q===null||(ae=xr(Y,Q),ae!=null&&ve.push(Kr(Y,ae,K))),qe)break;Y=Y.return}0<ve.length&&(J=new ee(J,de,null,a,ne),re.push({event:J,listeners:ve}))}}if((t&7)===0){e:{if(J=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",J&&a!==cc&&(de=a.relatedTarget||a.fromElement)&&(Qn(de)||de[jn]))break e;if((ee||J)&&(J=ne.window===ne?ne:(J=ne.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(de=a.relatedTarget||a.toElement,ee=I,de=de?Qn(de):null,de!==null&&(qe=d(de),ve=de.tag,de!==qe||ve!==5&&ve!==27&&ve!==6)&&(de=null)):(ee=null,de=I),ee!==de)){if(ve=Cf,ae="onMouseLeave",Q="onMouseEnter",Y="mouse",(e==="pointerout"||e==="pointerover")&&(ve=zf,ae="onPointerLeave",Q="onPointerEnter",Y="pointer"),qe=ee==null?J:Kn(ee),K=de==null?J:Kn(de),J=new ve(ae,Y+"leave",ee,a,ne),J.target=qe,J.relatedTarget=K,ae=null,Qn(ne)===I&&(ve=new ve(Q,Y+"enter",de,a,ne),ve.target=K,ve.relatedTarget=qe,ae=ve),qe=ae,ee&&de)t:{for(ve=dv,Q=ee,Y=de,K=0,ae=Q;ae;ae=ve(ae))K++;ae=0;for(var xe=Y;xe;xe=ve(xe))ae++;for(;0<K-ae;)Q=ve(Q),K--;for(;0<ae-K;)Y=ve(Y),ae--;for(;K--;){if(Q===Y||Y!==null&&Q===Y.alternate){ve=Q;break t}Q=ve(Q),Y=ve(Y)}ve=null}else ve=null;ee!==null&&b0(re,J,ee,ve,!1),de!==null&&qe!==null&&b0(re,qe,de,ve,!0)}}e:{if(J=I?Kn(I):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var Oe=Rf;else if(Of(J))if(Hf)Oe=jb;else{Oe=vb;var he=bb}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?I&&oc(I.elementType)&&(Oe=Rf):Oe=Nb;if(Oe&&(Oe=Oe(e,I))){Lf(re,Oe,a,ne);break e}he&&he(e,J,I),e==="focusout"&&I&&J.type==="number"&&I.memoizedProps.value!=null&&mr(J,"number",J.value)}switch(he=I?Kn(I):window,e){case"focusin":(Of(he)||he.contentEditable==="true")&&(bs=he,jc=I,Sr=null);break;case"focusout":Sr=jc=bs=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,Xf(re,a,ne);break;case"selectionchange":if(Sb)break;case"keydown":case"keyup":Xf(re,a,ne)}var Ee;if(yc)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ys?Mf(e,a)&&(_e="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(Af&&a.locale!=="ko"&&(ys||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ys&&(Ee=Sf()):(Wn=ne,hc="value"in Wn?Wn.value:Wn.textContent,ys=!0)),he=$l(I,_e),0<he.length&&(_e=new Ef(_e,e,null,a,ne),re.push({event:_e,listeners:he}),Ee?_e.data=Ee:(Ee=Df(a),Ee!==null&&(_e.data=Ee)))),(Ee=gb?mb(e,a):xb(e,a))&&(_e=$l(I,"onBeforeInput"),0<_e.length&&(he=new Ef("onBeforeInput","beforeinput",null,a,ne),re.push({event:he,listeners:_e}),he.data=Ee)),lv(re,e,I,a,ne)}p0(re,t)})}function Kr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function $l(e,t){for(var a=t+"Capture",l=[];e!==null;){var u=e,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=xr(e,a),u!=null&&l.unshift(Kr(e,u,h)),u=xr(e,t),u!=null&&l.push(Kr(e,u,h))),e.tag===3)return l;e=e.return}return[]}function dv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function b0(e,t,a,l,u){for(var h=t._reactName,b=[];a!==null&&a!==l;){var S=a,R=S.alternate,I=S.stateNode;if(S=S.tag,R!==null&&R===l)break;S!==5&&S!==26&&S!==27||I===null||(R=I,u?(I=xr(a,h),I!=null&&b.unshift(Kr(a,I,R))):u||(I=xr(a,h),I!=null&&b.push(Kr(a,I,R)))),a=a.return}b.length!==0&&e.push({event:t,listeners:b})}var fv=/\r\n?/g,hv=/\u0000|\uFFFD/g;function v0(e){return(typeof e=="string"?e:""+e).replace(fv,`
`).replace(hv,"")}function N0(e,t){return t=v0(t),v0(e)===t}function Ve(e,t,a,l,u,h){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||ms(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&ms(e,""+l);break;case"className":hs(e,"class",l);break;case"tabIndex":hs(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hs(e,a,l);break;case"style":Nf(e,l,h);break;case"data":if(t!=="object"){hs(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Fi(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(t!=="input"&&Ve(e,t,"name",u.name,u,null),Ve(e,t,"formEncType",u.formEncType,u,null),Ve(e,t,"formMethod",u.formMethod,u,null),Ve(e,t,"formTarget",u.formTarget,u,null)):(Ve(e,t,"encType",u.encType,u,null),Ve(e,t,"method",u.method,u,null),Ve(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Fi(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=kn);break;case"onScroll":l!=null&&Ae("scroll",e);break;case"onScrollEnd":l!=null&&Ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Fi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ae("beforetoggle",e),Ae("toggle",e),fs(e,"popover",l);break;case"xlinkActuate":It(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":It(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":It(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":It(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":It(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":It(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":It(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":It(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":It(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fs(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qy.get(a)||a,fs(e,a,l))}}function Fu(e,t,a,l,u,h){switch(a){case"style":Nf(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof l=="string"?ms(e,l):(typeof l=="number"||typeof l=="bigint")&&ms(e,""+l);break;case"onScroll":l!=null&&Ae("scroll",e);break;case"onScrollEnd":l!=null&&Ae("scrollend",e);break;case"onClick":l!=null&&(e.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),h=e[gt]||null,h=h!=null?h[a]:null,typeof h=="function"&&e.removeEventListener(t,h,u),typeof l=="function")){typeof h!="function"&&h!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,u);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):fs(e,a,l)}}}function ht(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",e),Ae("load",e);var l=!1,u=!1,h;for(h in a)if(a.hasOwnProperty(h)){var b=a[h];if(b!=null)switch(h){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ve(e,t,h,b,a,null)}}u&&Ve(e,t,"srcSet",a.srcSet,a,null),l&&Ve(e,t,"src",a.src,a,null);return;case"input":Ae("invalid",e);var S=h=b=u=null,R=null,I=null;for(l in a)if(a.hasOwnProperty(l)){var ne=a[l];if(ne!=null)switch(l){case"name":u=ne;break;case"type":b=ne;break;case"checked":R=ne;break;case"defaultChecked":I=ne;break;case"value":h=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(o(137,t));break;default:Ve(e,t,l,ne,a,null)}}Qi(e,h,S,R,I,b,u,!1);return;case"select":Ae("invalid",e),l=b=h=null;for(u in a)if(a.hasOwnProperty(u)&&(S=a[u],S!=null))switch(u){case"value":h=S;break;case"defaultValue":b=S;break;case"multiple":l=S;default:Ve(e,t,u,S,a,null)}t=h,a=b,e.multiple=!!l,t!=null?Sn(e,!!l,t,!1):a!=null&&Sn(e,!!l,a,!0);return;case"textarea":Ae("invalid",e),h=u=l=null;for(b in a)if(a.hasOwnProperty(b)&&(S=a[b],S!=null))switch(b){case"value":l=S;break;case"defaultValue":u=S;break;case"children":h=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(o(91));break;default:Ve(e,t,b,S,a,null)}bf(e,l,u,h);return;case"option":for(R in a)a.hasOwnProperty(R)&&(l=a[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Ve(e,t,R,l,a,null));return;case"dialog":Ae("beforetoggle",e),Ae("toggle",e),Ae("cancel",e),Ae("close",e);break;case"iframe":case"object":Ae("load",e);break;case"video":case"audio":for(l=0;l<Fr.length;l++)Ae(Fr[l],e);break;case"image":Ae("error",e),Ae("load",e);break;case"details":Ae("toggle",e);break;case"embed":case"source":case"link":Ae("error",e),Ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ve(e,t,I,l,a,null)}return;default:if(oc(t)){for(ne in a)a.hasOwnProperty(ne)&&(l=a[ne],l!==void 0&&Fu(e,t,ne,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ve(e,t,S,l,a,null))}function gv(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,b=null,S=null,R=null,I=null,ne=null;for(ee in a){var re=a[ee];if(a.hasOwnProperty(ee)&&re!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":R=re;default:l.hasOwnProperty(ee)||Ve(e,t,ee,null,l,re)}}for(var J in l){var ee=l[J];if(re=a[J],l.hasOwnProperty(J)&&(ee!=null||re!=null))switch(J){case"type":h=ee;break;case"name":u=ee;break;case"checked":I=ee;break;case"defaultChecked":ne=ee;break;case"value":b=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(o(137,t));break;default:ee!==re&&Ve(e,t,J,ee,l,re)}}La(e,b,S,R,I,ne,h,u);return;case"select":ee=b=S=J=null;for(h in a)if(R=a[h],a.hasOwnProperty(h)&&R!=null)switch(h){case"value":break;case"multiple":ee=R;default:l.hasOwnProperty(h)||Ve(e,t,h,null,l,R)}for(u in l)if(h=l[u],R=a[u],l.hasOwnProperty(u)&&(h!=null||R!=null))switch(u){case"value":J=h;break;case"defaultValue":S=h;break;case"multiple":b=h;default:h!==R&&Ve(e,t,u,h,l,R)}t=S,a=b,l=ee,J!=null?Sn(e,!!a,J,!1):!!l!=!!a&&(t!=null?Sn(e,!!a,t,!0):Sn(e,!!a,a?[]:"",!1));return;case"textarea":ee=J=null;for(S in a)if(u=a[S],a.hasOwnProperty(S)&&u!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ve(e,t,S,null,l,u)}for(b in l)if(u=l[b],h=a[b],l.hasOwnProperty(b)&&(u!=null||h!=null))switch(b){case"value":J=u;break;case"defaultValue":ee=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(o(91));break;default:u!==h&&Ve(e,t,b,u,l,h)}yf(e,J,ee);return;case"option":for(var de in a)J=a[de],a.hasOwnProperty(de)&&J!=null&&!l.hasOwnProperty(de)&&(de==="selected"?e.selected=!1:Ve(e,t,de,null,l,J));for(R in l)J=l[R],ee=a[R],l.hasOwnProperty(R)&&J!==ee&&(J!=null||ee!=null)&&(R==="selected"?e.selected=J&&typeof J!="function"&&typeof J!="symbol":Ve(e,t,R,J,l,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)J=a[ve],a.hasOwnProperty(ve)&&J!=null&&!l.hasOwnProperty(ve)&&Ve(e,t,ve,null,l,J);for(I in l)if(J=l[I],ee=a[I],l.hasOwnProperty(I)&&J!==ee&&(J!=null||ee!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(o(137,t));break;default:Ve(e,t,I,J,l,ee)}return;default:if(oc(t)){for(var qe in a)J=a[qe],a.hasOwnProperty(qe)&&J!==void 0&&!l.hasOwnProperty(qe)&&Fu(e,t,qe,void 0,l,J);for(ne in l)J=l[ne],ee=a[ne],!l.hasOwnProperty(ne)||J===ee||J===void 0&&ee===void 0||Fu(e,t,ne,J,l,ee);return}}for(var Q in a)J=a[Q],a.hasOwnProperty(Q)&&J!=null&&!l.hasOwnProperty(Q)&&Ve(e,t,Q,null,l,J);for(re in l)J=l[re],ee=a[re],!l.hasOwnProperty(re)||J===ee||J==null&&ee==null||Ve(e,t,re,J,l,ee)}function j0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var u=a[l],h=u.transferSize,b=u.initiatorType,S=u.duration;if(h&&S&&j0(b)){for(b=0,S=u.responseEnd,l+=1;l<a.length;l++){var R=a[l],I=R.startTime;if(I>S)break;var ne=R.transferSize,re=R.initiatorType;ne&&j0(re)&&(R=R.responseEnd,b+=ne*(R<S?1:(S-I)/(R-I)))}if(--l,t+=8*(h+b)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ku=null,Iu=null;function Yl(e){return e.nodeType===9?e:e.ownerDocument}function w0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ju(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wu=null;function xv(){var e=window.event;return e&&e.type==="popstate"?e===Wu?!1:(Wu=e,!0):(Wu=null,!1)}var k0=typeof setTimeout=="function"?setTimeout:void 0,pv=typeof clearTimeout=="function"?clearTimeout:void 0,C0=typeof Promise=="function"?Promise:void 0,yv=typeof queueMicrotask=="function"?queueMicrotask:typeof C0<"u"?function(e){return C0.resolve(null).then(e).catch(bv)}:k0;function bv(e){setTimeout(function(){throw e})}function ma(e){return e==="head"}function E0(e,t){var a=t,l=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(u),Zs(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ir(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ir(a);for(var h=a.firstChild;h;){var b=h.nextSibling,S=h.nodeName;h[Da]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=b}}else a==="body"&&Ir(e.ownerDocument.body);a=u}while(a);Zs(t)}function z0(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Pu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pu(a),hr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function vv(e,t,a,l){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Da])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Xt(e.nextSibling),e===null)break}return null}function Nv(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Xt(e.nextSibling),e===null))return null;return e}function A0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Xt(e.nextSibling),e===null))return null;return e}function ed(e){return e.data==="$?"||e.data==="$~"}function td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function jv(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var nd=null;function T0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Xt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function _0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function M0(e,t,a){switch(t=Yl(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Ir(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);hr(e)}var Zt=new Map,D0=new Set;function Gl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qn=O.d;O.d={f:wv,r:Sv,D:kv,C:Cv,L:Ev,m:zv,X:Tv,S:Av,M:_v};function wv(){var e=qn.f(),t=Ll();return e||t}function Sv(e){var t=Fn(e);t!==null&&t.tag===5&&t.type==="form"?Ih(t):qn.r(e)}var Ys=typeof document>"u"?null:document;function O0(e,t,a){var l=Ys;if(l&&typeof t=="string"&&t){var u=jt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),D0.has(u)||(D0.add(u),e={rel:e,crossOrigin:a,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),ht(t,"link",e),Pe(t),l.head.appendChild(t)))}}function kv(e){qn.D(e),O0("dns-prefetch",e,null)}function Cv(e,t){qn.C(e,t),O0("preconnect",e,t)}function Ev(e,t,a){qn.L(e,t,a);var l=Ys;if(l&&e&&t){var u='link[rel="preload"][as="'+jt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+jt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+jt(a.imageSizes)+'"]')):u+='[href="'+jt(e)+'"]';var h=u;switch(t){case"style":h=Gs(e);break;case"script":h=Xs(e)}Zt.has(h)||(e=p({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Zt.set(h,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Jr(h))||t==="script"&&l.querySelector(Wr(h))||(t=l.createElement("link"),ht(t,"link",e),Pe(t),l.head.appendChild(t)))}}function zv(e,t){qn.m(e,t);var a=Ys;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+jt(l)+'"][href="'+jt(e)+'"]',h=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Xs(e)}if(!Zt.has(h)&&(e=p({rel:"modulepreload",href:e},t),Zt.set(h,e),a.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Wr(h)))return}l=a.createElement("link"),ht(l,"link",e),Pe(l),a.head.appendChild(l)}}}function Av(e,t,a){qn.S(e,t,a);var l=Ys;if(l&&e){var u=In(l).hoistableStyles,h=Gs(e);t=t||"default";var b=u.get(h);if(!b){var S={loading:0,preload:null};if(b=l.querySelector(Jr(h)))S.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Zt.get(h))&&ad(e,a);var R=b=l.createElement("link");Pe(R),ht(R,"link",e),R._p=new Promise(function(I,ne){R.onload=I,R.onerror=ne}),R.addEventListener("load",function(){S.loading|=1}),R.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Xl(b,t,l)}b={type:"stylesheet",instance:b,count:1,state:S},u.set(h,b)}}}function Tv(e,t){qn.X(e,t);var a=Ys;if(a&&e){var l=In(a).hoistableScripts,u=Xs(e),h=l.get(u);h||(h=a.querySelector(Wr(u)),h||(e=p({src:e,async:!0},t),(t=Zt.get(u))&&sd(e,t),h=a.createElement("script"),Pe(h),ht(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(u,h))}}function _v(e,t){qn.M(e,t);var a=Ys;if(a&&e){var l=In(a).hoistableScripts,u=Xs(e),h=l.get(u);h||(h=a.querySelector(Wr(u)),h||(e=p({src:e,async:!0,type:"module"},t),(t=Zt.get(u))&&sd(e,t),h=a.createElement("script"),Pe(h),ht(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(u,h))}}function L0(e,t,a,l){var u=(u=be.current)?Gl(u):null;if(!u)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Gs(a.href),a=In(u).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Gs(a.href);var h=In(u).hoistableStyles,b=h.get(e);if(b||(u=u.ownerDocument||u,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,b),(h=u.querySelector(Jr(e)))&&!h._p&&(b.instance=h,b.state.loading=5),Zt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zt.set(e,a),h||Mv(u,e,a,b.state))),t&&l===null)throw Error(o(528,""));return b}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Xs(a),a=In(u).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Gs(e){return'href="'+jt(e)+'"'}function Jr(e){return'link[rel="stylesheet"]['+e+"]"}function R0(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Mv(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ht(t,"link",a),Pe(t),e.head.appendChild(t))}function Xs(e){return'[src="'+jt(e)+'"]'}function Wr(e){return"script[async]"+e}function H0(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+jt(a.href)+'"]');if(l)return t.instance=l,Pe(l),l;var u=p({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Pe(l),ht(l,"style",u),Xl(l,a.precedence,e),t.instance=l;case"stylesheet":u=Gs(a.href);var h=e.querySelector(Jr(u));if(h)return t.state.loading|=4,t.instance=h,Pe(h),h;l=R0(a),(u=Zt.get(u))&&ad(l,u),h=(e.ownerDocument||e).createElement("link"),Pe(h);var b=h;return b._p=new Promise(function(S,R){b.onload=S,b.onerror=R}),ht(h,"link",l),t.state.loading|=4,Xl(h,a.precedence,e),t.instance=h;case"script":return h=Xs(a.src),(u=e.querySelector(Wr(h)))?(t.instance=u,Pe(u),u):(l=a,(u=Zt.get(h))&&(l=p({},a),sd(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),Pe(u),ht(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Xl(l,a.precedence,e));return t.instance}function Xl(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,h=u,b=0;b<l.length;b++){var S=l[b];if(S.dataset.precedence===t)h=S;else if(h!==u)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function ad(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function sd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Zl=null;function U0(e,t,a){if(Zl===null){var l=new Map,u=Zl=new Map;u.set(a,l)}else u=Zl,l=u.get(a),l||(l=new Map,u.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var h=a[u];if(!(h[Da]||h[rt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var b=h.getAttribute(t)||"";b=e+b;var S=l.get(b);S?S.push(h):l.set(b,[h])}}return l}function B0(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Dv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function V0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ov(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=Gs(l.href),h=t.querySelector(Jr(u));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ql.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=h,Pe(h);return}h=t.ownerDocument||t,l=R0(l),(u=Zt.get(u))&&ad(l,u),h=h.createElement("link"),Pe(h);var b=h;b._p=new Promise(function(S,R){b.onload=S,b.onerror=R}),ht(h,"link",l),a.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ql.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var rd=0;function Lv(e,t){return e.stylesheets&&e.count===0&&Kl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Kl(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&rd===0&&(rd=62500*mv());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Kl(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>rd?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function Ql(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fl=null;function Kl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fl=new Map,t.forEach(Rv,e),Fl=null,Ql.call(e))}function Rv(e,t){if(!(t.state.loading&4)){var a=Fl.get(e);if(a)var l=a.get(null);else{a=new Map,Fl.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var b=u[h];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}u=t.instance,b=u.getAttribute("data-precedence"),h=a.get(b)||l,h===l&&a.set(null,u),a.set(b,u),this.count++,l=Ql.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),h?h.parentNode.insertBefore(u,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Pr={$$typeof:w,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function Hv(e,t,a,l,u,h,b,S,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ur(0),this.hiddenUpdates=ur(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function q0(e,t,a,l,u,h,b,S,R,I,ne,re){return e=new Hv(e,t,a,b,R,I,ne,re,S),t=1,h===!0&&(t|=24),h=_t(3,null,null,t),e.current=h,h.stateNode=e,t=Uc(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:t},$c(h),e}function $0(e){return e?(e=js,e):js}function Y0(e,t,a,l,u,h){u=$0(u),l.context===null?l.context=u:l.pendingContext=u,l=sa(t),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=ra(e,l,t),a!==null&&(zt(a,e,t),_r(a,e,t))}function G0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function id(e,t){G0(e,t),(e=e.alternate)&&G0(e,t)}function X0(e){if(e.tag===13||e.tag===31){var t=Ba(e,67108864);t!==null&&zt(t,e,67108864),id(e,67108864)}}function Z0(e){if(e.tag===13||e.tag===31){var t=Rt();t=dr(t);var a=Ba(e,t);a!==null&&zt(a,e,t),id(e,t)}}var Il=!0;function Uv(e,t,a,l){var u=C.T;C.T=null;var h=O.p;try{O.p=2,ld(e,t,a,l)}finally{O.p=h,C.T=u}}function Bv(e,t,a,l){var u=C.T;C.T=null;var h=O.p;try{O.p=8,ld(e,t,a,l)}finally{O.p=h,C.T=u}}function ld(e,t,a,l){if(Il){var u=od(l);if(u===null)Qu(e,t,l,Jl,a),F0(e,l);else if(qv(u,e,t,a,l))l.stopPropagation();else if(F0(e,l),t&4&&-1<Vv.indexOf(e)){for(;u!==null;){var h=Fn(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var b=Nn(h.pendingLanes);if(b!==0){var S=h;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var R=1<<31-xt(b);S.entanglements[1]|=R,b&=~R}fn(h),(Re&6)===0&&(Dl=ct()+500,Qr(0))}}break;case 31:case 13:S=Ba(h,2),S!==null&&zt(S,h,2),Ll(),id(h,2)}if(h=od(l),h===null&&Qu(e,t,l,Jl,a),h===u)break;u=h}u!==null&&l.stopPropagation()}else Qu(e,t,l,null,a)}}function od(e){return e=uc(e),cd(e)}var Jl=null;function cd(e){if(Jl=null,e=Qn(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Jl=e,null}function Q0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rs()){case vn:return 2;case Zn:return 8;case Aa:case Ko:return 32;case is:return 268435456;default:return 32}default:return 32}}var ud=!1,xa=null,pa=null,ya=null,ei=new Map,ti=new Map,ba=[],Vv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F0(e,t){switch(e){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":ei.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ti.delete(t.pointerId)}}function ni(e,t,a,l,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[u]},t!==null&&(t=Fn(t),t!==null&&X0(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function qv(e,t,a,l,u){switch(t){case"focusin":return xa=ni(xa,e,t,a,l,u),!0;case"dragenter":return pa=ni(pa,e,t,a,l,u),!0;case"mouseover":return ya=ni(ya,e,t,a,l,u),!0;case"pointerover":var h=u.pointerId;return ei.set(h,ni(ei.get(h)||null,e,t,a,l,u)),!0;case"gotpointercapture":return h=u.pointerId,ti.set(h,ni(ti.get(h)||null,e,t,a,l,u)),!0}return!1}function K0(e){var t=Qn(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Bi(e.priority,function(){Z0(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,Bi(e.priority,function(){Z0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=od(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);cc=l,a.target.dispatchEvent(l),cc=null}else return t=Fn(a),t!==null&&X0(t),e.blockedOn=a,!1;t.shift()}return!0}function I0(e,t,a){Wl(e)&&a.delete(t)}function $v(){ud=!1,xa!==null&&Wl(xa)&&(xa=null),pa!==null&&Wl(pa)&&(pa=null),ya!==null&&Wl(ya)&&(ya=null),ei.forEach(I0),ti.forEach(I0)}function Pl(e,t){e.blockedOn===t&&(e.blockedOn=null,ud||(ud=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$v)))}var eo=null;function J0(e){eo!==e&&(eo=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){eo===e&&(eo=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(cd(l||a)===null)continue;break}var h=Fn(a);h!==null&&(e.splice(t,3),t-=3,ou(h,{pending:!0,data:u,method:a.method,action:l},l,u))}}))}function Zs(e){function t(R){return Pl(R,e)}xa!==null&&Pl(xa,e),pa!==null&&Pl(pa,e),ya!==null&&Pl(ya,e),ei.forEach(t),ti.forEach(t);for(var a=0;a<ba.length;a++){var l=ba[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ba.length&&(a=ba[0],a.blockedOn===null);)K0(a),a.blockedOn===null&&ba.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var u=a[l],h=a[l+1],b=u[gt]||null;if(typeof h=="function")b||J0(a);else if(b){var S=null;if(h&&h.hasAttribute("formAction")){if(u=h,b=h[gt]||null)S=b.formAction;else if(cd(u)!==null)continue}else S=b.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),J0(a)}}}function W0(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(b){return u=b})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function dd(e){this._internalRoot=e}to.prototype.render=dd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,l=Rt();Y0(a,l,e,t,null,null)},to.prototype.unmount=dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Y0(e.current,2,null,e,null,null),Ll(),t[jn]=null}};function to(e){this._internalRoot=e}to.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ui();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ba.length&&t!==0&&t<ba[a].priority;a++);ba.splice(a,0,e),a===0&&K0(e)}};var P0=s.version;if(P0!=="19.2.3")throw Error(o(527,P0,"19.2.3"));O.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=x(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Yv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var no=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!no.isDisabled&&no.supportsFiber)try{Ta=no.inject(Yv),mt=no}catch{}}return si.createRoot=function(e,t){if(!c(e))throw Error(o(299));var a=!1,l="",u=ig,h=lg,b=og;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(b=t.onRecoverableError)),t=q0(e,1,!1,null,null,a,l,null,u,h,b,W0),e[jn]=t.current,Zu(e),new dd(t)},si.hydrateRoot=function(e,t,a){if(!c(e))throw Error(o(299));var l=!1,u="",h=ig,b=lg,S=og,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),t=q0(e,1,!0,t,a??null,l,u,R,h,b,S,W0),t.context=$0(null),a=t.current,l=Rt(),l=dr(l),u=sa(l),u.callback=null,ra(a,u,l),a=l,t.current.lanes=a,Ma(t,a),fn(t),e[jn]=t.current,Zu(e),new to(t)},si.version="19.2.3",si}var pm;function B1(){if(pm)return pd.exports;pm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(s){console.error(s)}}return n(),pd.exports=U1(),pd.exports}var V1=B1();const je=n=>typeof n=="string",ri=()=>{let n,s;const i=new Promise((o,c)=>{n=o,s=c});return i.resolve=n,i.reject=s,i},ym=n=>n==null?"":""+n,q1=(n,s,i)=>{n.forEach(o=>{s[o]&&(i[o]=s[o])})},$1=/###/g,bm=n=>n&&n.indexOf("###")>-1?n.replace($1,"."):n,vm=n=>!n||je(n),di=(n,s,i)=>{const o=je(s)?s.split("."):s;let c=0;for(;c<o.length-1;){if(vm(n))return{};const d=bm(o[c]);!n[d]&&i&&(n[d]=new i),Object.prototype.hasOwnProperty.call(n,d)?n=n[d]:n={},++c}return vm(n)?{}:{obj:n,k:bm(o[c])}},Nm=(n,s,i)=>{const{obj:o,k:c}=di(n,s,Object);if(o!==void 0||s.length===1){o[c]=i;return}let d=s[s.length-1],f=s.slice(0,s.length-1),g=di(n,f,Object);for(;g.obj===void 0&&f.length;)d=`${f[f.length-1]}.${d}`,f=f.slice(0,f.length-1),g=di(n,f,Object),g?.obj&&typeof g.obj[`${g.k}.${d}`]<"u"&&(g.obj=void 0);g.obj[`${g.k}.${d}`]=i},Y1=(n,s,i,o)=>{const{obj:c,k:d}=di(n,s,Object);c[d]=c[d]||[],c[d].push(i)},bo=(n,s)=>{const{obj:i,k:o}=di(n,s);if(i&&Object.prototype.hasOwnProperty.call(i,o))return i[o]},G1=(n,s,i)=>{const o=bo(n,i);return o!==void 0?o:bo(s,i)},Gx=(n,s,i)=>{for(const o in s)o!=="__proto__"&&o!=="constructor"&&(o in n?je(n[o])||n[o]instanceof String||je(s[o])||s[o]instanceof String?i&&(n[o]=s[o]):Gx(n[o],s[o],i):n[o]=s[o]);return n},Qs=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var X1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Z1=n=>je(n)?n.replace(/[&<>"'\/]/g,s=>X1[s]):n;class Q1{constructor(s){this.capacity=s,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(s){const i=this.regExpMap.get(s);if(i!==void 0)return i;const o=new RegExp(s);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(s,o),this.regExpQueue.push(s),o}}const F1=[" ",",","?","!",";"],K1=new Q1(20),I1=(n,s,i)=>{s=s||"",i=i||"";const o=F1.filter(f=>s.indexOf(f)<0&&i.indexOf(f)<0);if(o.length===0)return!0;const c=K1.getRegExp(`(${o.map(f=>f==="?"?"\\?":f).join("|")})`);let d=!c.test(n);if(!d){const f=n.indexOf(i);f>0&&!c.test(n.substring(0,f))&&(d=!0)}return d},Dd=(n,s,i=".")=>{if(!n)return;if(n[s])return Object.prototype.hasOwnProperty.call(n,s)?n[s]:void 0;const o=s.split(i);let c=n;for(let d=0;d<o.length;){if(!c||typeof c!="object")return;let f,g="";for(let m=d;m<o.length;++m)if(m!==d&&(g+=i),g+=o[m],f=c[g],f!==void 0){if(["string","number","boolean"].indexOf(typeof f)>-1&&m<o.length-1)continue;d+=m-d+1;break}c=f}return c},yi=n=>n?.replace("_","-"),J1={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,s){console?.[n]?.apply?.(console,s)}};class vo{constructor(s,i={}){this.init(s,i)}init(s,i={}){this.prefix=i.prefix||"i18next:",this.logger=s||J1,this.options=i,this.debug=i.debug}log(...s){return this.forward(s,"log","",!0)}warn(...s){return this.forward(s,"warn","",!0)}error(...s){return this.forward(s,"error","")}deprecate(...s){return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(s,i,o,c){return c&&!this.debug?null:(je(s[0])&&(s[0]=`${o}${this.prefix} ${s[0]}`),this.logger[i](s))}create(s){return new vo(this.logger,{prefix:`${this.prefix}:${s}:`,...this.options})}clone(s){return s=s||this.options,s.prefix=s.prefix||this.prefix,new vo(this.logger,s)}}var mn=new vo;class Do{constructor(){this.observers={}}on(s,i){return s.split(" ").forEach(o=>{this.observers[o]||(this.observers[o]=new Map);const c=this.observers[o].get(i)||0;this.observers[o].set(i,c+1)}),this}off(s,i){if(this.observers[s]){if(!i){delete this.observers[s];return}this.observers[s].delete(i)}}emit(s,...i){this.observers[s]&&Array.from(this.observers[s].entries()).forEach(([c,d])=>{for(let f=0;f<d;f++)c(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([c,d])=>{for(let f=0;f<d;f++)c.apply(c,[s,...i])})}}class jm extends Do{constructor(s,i={ns:["translation"],defaultNS:"translation"}){super(),this.data=s||{},this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(s){this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}removeNamespaces(s){const i=this.options.ns.indexOf(s);i>-1&&this.options.ns.splice(i,1)}getResource(s,i,o,c={}){const d=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,f=c.ignoreJSONStructure!==void 0?c.ignoreJSONStructure:this.options.ignoreJSONStructure;let g;s.indexOf(".")>-1?g=s.split("."):(g=[s,i],o&&(Array.isArray(o)?g.push(...o):je(o)&&d?g.push(...o.split(d)):g.push(o)));const m=bo(this.data,g);return!m&&!i&&!o&&s.indexOf(".")>-1&&(s=g[0],i=g[1],o=g.slice(2).join(".")),m||!f||!je(o)?m:Dd(this.data?.[s]?.[i],o,d)}addResource(s,i,o,c,d={silent:!1}){const f=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator;let g=[s,i];o&&(g=g.concat(f?o.split(f):o)),s.indexOf(".")>-1&&(g=s.split("."),c=i,i=g[1]),this.addNamespaces(i),Nm(this.data,g,c),d.silent||this.emit("added",s,i,o,c)}addResources(s,i,o,c={silent:!1}){for(const d in o)(je(o[d])||Array.isArray(o[d]))&&this.addResource(s,i,d,o[d],{silent:!0});c.silent||this.emit("added",s,i,o)}addResourceBundle(s,i,o,c,d,f={silent:!1,skipCopy:!1}){let g=[s,i];s.indexOf(".")>-1&&(g=s.split("."),c=o,o=i,i=g[1]),this.addNamespaces(i);let m=bo(this.data,g)||{};f.skipCopy||(o=JSON.parse(JSON.stringify(o))),c?Gx(m,o,d):m={...m,...o},Nm(this.data,g,m),f.silent||this.emit("added",s,i,o)}removeResourceBundle(s,i){this.hasResourceBundle(s,i)&&delete this.data[s][i],this.removeNamespaces(i),this.emit("removed",s,i)}hasResourceBundle(s,i){return this.getResource(s,i)!==void 0}getResourceBundle(s,i){return i||(i=this.options.defaultNS),this.getResource(s,i)}getDataByLanguage(s){return this.data[s]}hasLanguageSomeTranslations(s){const i=this.getDataByLanguage(s);return!!(i&&Object.keys(i)||[]).find(c=>i[c]&&Object.keys(i[c]).length>0)}toJSON(){return this.data}}var Xx={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,s,i,o,c){return n.forEach(d=>{s=this.processors[d]?.process(s,i,o,c)??s}),s}};const Zx=Symbol("i18next/PATH_KEY");function W1(){const n=[],s=Object.create(null);let i;return s.get=(o,c)=>(i?.revoke?.(),c===Zx?n:(n.push(c),i=Proxy.revocable(o,s),i.proxy)),Proxy.revocable(Object.create(null),s).proxy}function Od(n,s){const{[Zx]:i}=n(W1());return i.join(s?.keySeparator??".")}const wm={},vd=n=>!je(n)&&typeof n!="boolean"&&typeof n!="number";class No extends Do{constructor(s,i={}){super(),q1(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],s,this),this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=mn.create("translator")}changeLanguage(s){s&&(this.language=s)}exists(s,i={interpolation:{}}){const o={...i};if(s==null)return!1;const c=this.resolve(s,o);if(c?.res===void 0)return!1;const d=vd(c.res);return!(o.returnObjects===!1&&d)}extractFromKey(s,i){let o=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");const c=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let d=i.ns||this.options.defaultNS||[];const f=o&&s.indexOf(o)>-1,g=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!I1(s,o,c);if(f&&!g){const m=s.match(this.interpolator.nestingRegexp);if(m&&m.length>0)return{key:s,namespaces:je(d)?[d]:d};const x=s.split(o);(o!==c||o===c&&this.options.ns.indexOf(x[0])>-1)&&(d=x.shift()),s=x.join(c)}return{key:s,namespaces:je(d)?[d]:d}}translate(s,i,o){let c=typeof i=="object"?{...i}:i;if(typeof c!="object"&&this.options.overloadTranslationOptionHandler&&(c=this.options.overloadTranslationOptionHandler(arguments)),typeof c=="object"&&(c={...c}),c||(c={}),s==null)return"";typeof s=="function"&&(s=Od(s,{...this.options,...c})),Array.isArray(s)||(s=[String(s)]);const d=c.returnDetails!==void 0?c.returnDetails:this.options.returnDetails,f=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,{key:g,namespaces:m}=this.extractFromKey(s[s.length-1],c),x=m[m.length-1];let y=c.nsSeparator!==void 0?c.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const p=c.lng||this.language,v=c.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p?.toLowerCase()==="cimode")return v?d?{res:`${x}${y}${g}`,usedKey:g,exactUsedKey:g,usedLng:p,usedNS:x,usedParams:this.getUsedParamsDetails(c)}:`${x}${y}${g}`:d?{res:g,usedKey:g,exactUsedKey:g,usedLng:p,usedNS:x,usedParams:this.getUsedParamsDetails(c)}:g;const j=this.resolve(s,c);let N=j?.res;const k=j?.usedKey||g,T=j?.exactUsedKey||g,E=["[object Number]","[object Function]","[object RegExp]"],M=c.joinArrays!==void 0?c.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,z=c.count!==void 0&&!je(c.count),L=No.hasDefaultValue(c),B=z?this.pluralResolver.getSuffix(p,c.count,c):"",$=c.ordinal&&z?this.pluralResolver.getSuffix(p,c.count,{ordinal:!1}):"",V=z&&!c.ordinal&&c.count===0,q=V&&c[`defaultValue${this.options.pluralSeparator}zero`]||c[`defaultValue${B}`]||c[`defaultValue${$}`]||c.defaultValue;let te=N;w&&!N&&L&&(te=q);const G=vd(te),F=Object.prototype.toString.apply(te);if(w&&te&&G&&E.indexOf(F)<0&&!(je(M)&&Array.isArray(te))){if(!c.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const H=this.options.returnedObjectHandler?this.options.returnedObjectHandler(k,te,{...c,ns:m}):`key '${g} (${this.language})' returned an object instead of string.`;return d?(j.res=H,j.usedParams=this.getUsedParamsDetails(c),j):H}if(f){const H=Array.isArray(te),_=H?[]:{},D=H?T:k;for(const C in te)if(Object.prototype.hasOwnProperty.call(te,C)){const O=`${D}${f}${C}`;L&&!N?_[C]=this.translate(O,{...c,defaultValue:vd(q)?q[C]:void 0,joinArrays:!1,ns:m}):_[C]=this.translate(O,{...c,joinArrays:!1,ns:m}),_[C]===O&&(_[C]=te[C])}N=_}}else if(w&&je(M)&&Array.isArray(N))N=N.join(M),N&&(N=this.extendTranslation(N,s,c,o));else{let H=!1,_=!1;!this.isValidLookup(N)&&L&&(H=!0,N=q),this.isValidLookup(N)||(_=!0,N=g);const C=(c.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&_?void 0:N,O=L&&q!==N&&this.options.updateMissing;if(_||H||O){if(this.logger.log(O?"updateKey":"missingKey",p,x,g,O?q:N),f){const P=this.resolve(g,{...c,keySeparator:!1});P&&P.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let U=[];const Z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,c.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Z&&Z[0])for(let P=0;P<Z.length;P++)U.push(Z[P]);else this.options.saveMissingTo==="all"?U=this.languageUtils.toResolveHierarchy(c.lng||this.language):U.push(c.lng||this.language);const X=(P,W,se)=>{const le=L&&se!==N?se:C;this.options.missingKeyHandler?this.options.missingKeyHandler(P,x,W,le,O,c):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(P,x,W,le,O,c),this.emit("missingKey",P,x,W,N)};this.options.saveMissing&&(this.options.saveMissingPlurals&&z?U.forEach(P=>{const W=this.pluralResolver.getSuffixes(P,c);V&&c[`defaultValue${this.options.pluralSeparator}zero`]&&W.indexOf(`${this.options.pluralSeparator}zero`)<0&&W.push(`${this.options.pluralSeparator}zero`),W.forEach(se=>{X([P],g+se,c[`defaultValue${se}`]||q)})}):X(U,g,q))}N=this.extendTranslation(N,s,c,j,o),_&&N===g&&this.options.appendNamespaceToMissingKey&&(N=`${x}${y}${g}`),(_||H)&&this.options.parseMissingKeyHandler&&(N=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${x}${y}${g}`:g,H?N:void 0,c))}return d?(j.res=N,j.usedParams=this.getUsedParamsDetails(c),j):N}extendTranslation(s,i,o,c,d){if(this.i18nFormat?.parse)s=this.i18nFormat.parse(s,{...this.options.interpolation.defaultVariables,...o},o.lng||this.language||c.usedLng,c.usedNS,c.usedKey,{resolved:c});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init({...o,interpolation:{...this.options.interpolation,...o.interpolation}});const m=je(s)&&(o?.interpolation?.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let x;if(m){const p=s.match(this.interpolator.nestingRegexp);x=p&&p.length}let y=o.replace&&!je(o.replace)?o.replace:o;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),s=this.interpolator.interpolate(s,y,o.lng||this.language||c.usedLng,o),m){const p=s.match(this.interpolator.nestingRegexp),v=p&&p.length;x<v&&(o.nest=!1)}!o.lng&&c&&c.res&&(o.lng=this.language||c.usedLng),o.nest!==!1&&(s=this.interpolator.nest(s,(...p)=>d?.[0]===p[0]&&!o.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${i[0]}`),null):this.translate(...p,i),o)),o.interpolation&&this.interpolator.reset()}const f=o.postProcess||this.options.postProcess,g=je(f)?[f]:f;return s!=null&&g?.length&&o.applyPostProcessor!==!1&&(s=Xx.handle(g,s,i,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...c,usedParams:this.getUsedParamsDetails(o)},...o}:o,this)),s}resolve(s,i={}){let o,c,d,f,g;return je(s)&&(s=[s]),s.forEach(m=>{if(this.isValidLookup(o))return;const x=this.extractFromKey(m,i),y=x.key;c=y;let p=x.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const v=i.count!==void 0&&!je(i.count),j=v&&!i.ordinal&&i.count===0,N=i.context!==void 0&&(je(i.context)||typeof i.context=="number")&&i.context!=="",k=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);p.forEach(T=>{this.isValidLookup(o)||(g=T,!wm[`${k[0]}-${T}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(g)&&(wm[`${k[0]}-${T}`]=!0,this.logger.warn(`key "${c}" for languages "${k.join(", ")}" won't get resolved as namespace "${g}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),k.forEach(E=>{if(this.isValidLookup(o))return;f=E;const M=[y];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(M,y,E,T,i);else{let z;v&&(z=this.pluralResolver.getSuffix(E,i.count,i));const L=`${this.options.pluralSeparator}zero`,B=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(i.ordinal&&z.indexOf(B)===0&&M.push(y+z.replace(B,this.options.pluralSeparator)),M.push(y+z),j&&M.push(y+L)),N){const $=`${y}${this.options.contextSeparator||"_"}${i.context}`;M.push($),v&&(i.ordinal&&z.indexOf(B)===0&&M.push($+z.replace(B,this.options.pluralSeparator)),M.push($+z),j&&M.push($+L))}}let w;for(;w=M.pop();)this.isValidLookup(o)||(d=w,o=this.getResource(E,T,w,i))}))})}),{res:o,usedKey:c,exactUsedKey:d,usedLng:f,usedNS:g}}isValidLookup(s){return s!==void 0&&!(!this.options.returnNull&&s===null)&&!(!this.options.returnEmptyString&&s==="")}getResource(s,i,o,c={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(s,i,o,c):this.resourceStore.getResource(s,i,o,c)}getUsedParamsDetails(s={}){const i=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],o=s.replace&&!je(s.replace);let c=o?s.replace:s;if(o&&typeof s.count<"u"&&(c.count=s.count),this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),!o){c={...c};for(const d of i)delete c[d]}return c}static hasDefaultValue(s){const i="defaultValue";for(const o in s)if(Object.prototype.hasOwnProperty.call(s,o)&&i===o.substring(0,i.length)&&s[o]!==void 0)return!0;return!1}}class Sm{constructor(s){this.options=s,this.supportedLngs=this.options.supportedLngs||!1,this.logger=mn.create("languageUtils")}getScriptPartFromCode(s){if(s=yi(s),!s||s.indexOf("-")<0)return null;const i=s.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}getLanguagePartFromCode(s){if(s=yi(s),!s||s.indexOf("-")<0)return s;const i=s.split("-");return this.formatLanguageCode(i[0])}formatLanguageCode(s){if(je(s)&&s.indexOf("-")>-1){let i;try{i=Intl.getCanonicalLocales(s)[0]}catch{}return i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i||(this.options.lowerCaseLng?s.toLowerCase():s)}return this.options.cleanCode||this.options.lowerCaseLng?s.toLowerCase():s}isSupportedCode(s){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(s=this.getLanguagePartFromCode(s)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(s)>-1}getBestMatchFromCodes(s){if(!s)return null;let i;return s.forEach(o=>{if(i)return;const c=this.formatLanguageCode(o);(!this.options.supportedLngs||this.isSupportedCode(c))&&(i=c)}),!i&&this.options.supportedLngs&&s.forEach(o=>{if(i)return;const c=this.getScriptPartFromCode(o);if(this.isSupportedCode(c))return i=c;const d=this.getLanguagePartFromCode(o);if(this.isSupportedCode(d))return i=d;i=this.options.supportedLngs.find(f=>{if(f===d)return f;if(!(f.indexOf("-")<0&&d.indexOf("-")<0)&&(f.indexOf("-")>0&&d.indexOf("-")<0&&f.substring(0,f.indexOf("-"))===d||f.indexOf(d)===0&&d.length>1))return f})}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}getFallbackCodes(s,i){if(!s)return[];if(typeof s=="function"&&(s=s(i)),je(s)&&(s=[s]),Array.isArray(s))return s;if(!i)return s.default||[];let o=s[i];return o||(o=s[this.getScriptPartFromCode(i)]),o||(o=s[this.formatLanguageCode(i)]),o||(o=s[this.getLanguagePartFromCode(i)]),o||(o=s.default),o||[]}toResolveHierarchy(s,i){const o=this.getFallbackCodes((i===!1?[]:i)||this.options.fallbackLng||[],s),c=[],d=f=>{f&&(this.isSupportedCode(f)?c.push(f):this.logger.warn(`rejecting language code not found in supportedLngs: ${f}`))};return je(s)&&(s.indexOf("-")>-1||s.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&d(this.formatLanguageCode(s)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&d(this.getScriptPartFromCode(s)),this.options.load!=="currentOnly"&&d(this.getLanguagePartFromCode(s))):je(s)&&d(this.formatLanguageCode(s)),o.forEach(f=>{c.indexOf(f)<0&&d(this.formatLanguageCode(f))}),c}}const km={zero:0,one:1,two:2,few:3,many:4,other:5},Cm={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class P1{constructor(s,i={}){this.languageUtils=s,this.options=i,this.logger=mn.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(s,i={}){const o=yi(s==="dev"?"en":s),c=i.ordinal?"ordinal":"cardinal",d=JSON.stringify({cleanedCode:o,type:c});if(d in this.pluralRulesCache)return this.pluralRulesCache[d];let f;try{f=new Intl.PluralRules(o,{type:c})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Cm;if(!s.match(/-|_/))return Cm;const m=this.languageUtils.getLanguagePartFromCode(s);f=this.getRule(m,i)}return this.pluralRulesCache[d]=f,f}needsPlural(s,i={}){let o=this.getRule(s,i);return o||(o=this.getRule("dev",i)),o?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(s,i,o={}){return this.getSuffixes(s,o).map(c=>`${i}${c}`)}getSuffixes(s,i={}){let o=this.getRule(s,i);return o||(o=this.getRule("dev",i)),o?o.resolvedOptions().pluralCategories.sort((c,d)=>km[c]-km[d]).map(c=>`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${c}`):[]}getSuffix(s,i,o={}){const c=this.getRule(s,o);return c?`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${c.select(i)}`:(this.logger.warn(`no plural rule found for: ${s}`),this.getSuffix("dev",i,o))}}const Em=(n,s,i,o=".",c=!0)=>{let d=G1(n,s,i);return!d&&c&&je(i)&&(d=Dd(n,i,o),d===void 0&&(d=Dd(s,i,o))),d},Nd=n=>n.replace(/\$/g,"$$$$");class zm{constructor(s={}){this.logger=mn.create("interpolator"),this.options=s,this.format=s?.interpolation?.format||(i=>i),this.init(s)}init(s={}){s.interpolation||(s.interpolation={escapeValue:!0});const{escape:i,escapeValue:o,useRawValueToEscape:c,prefix:d,prefixEscaped:f,suffix:g,suffixEscaped:m,formatSeparator:x,unescapeSuffix:y,unescapePrefix:p,nestingPrefix:v,nestingPrefixEscaped:j,nestingSuffix:N,nestingSuffixEscaped:k,nestingOptionsSeparator:T,maxReplaces:E,alwaysFormat:M}=s.interpolation;this.escape=i!==void 0?i:Z1,this.escapeValue=o!==void 0?o:!0,this.useRawValueToEscape=c!==void 0?c:!1,this.prefix=d?Qs(d):f||"{{",this.suffix=g?Qs(g):m||"}}",this.formatSeparator=x||",",this.unescapePrefix=y?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=v?Qs(v):j||Qs("$t("),this.nestingSuffix=N?Qs(N):k||Qs(")"),this.nestingOptionsSeparator=T||",",this.maxReplaces=E||1e3,this.alwaysFormat=M!==void 0?M:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const s=(i,o)=>i?.source===o?(i.lastIndex=0,i):new RegExp(o,"g");this.regexp=s(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=s(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=s(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(s,i,o,c){let d,f,g;const m=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},x=j=>{if(j.indexOf(this.formatSeparator)<0){const E=Em(i,m,j,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(E,void 0,o,{...c,...i,interpolationkey:j}):E}const N=j.split(this.formatSeparator),k=N.shift().trim(),T=N.join(this.formatSeparator).trim();return this.format(Em(i,m,k,this.options.keySeparator,this.options.ignoreJSONStructure),T,o,{...c,...i,interpolationkey:k})};this.resetRegExp();const y=c?.missingInterpolationHandler||this.options.missingInterpolationHandler,p=c?.interpolation?.skipOnVariables!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:j=>Nd(j)},{regex:this.regexp,safeValue:j=>this.escapeValue?Nd(this.escape(j)):Nd(j)}].forEach(j=>{for(g=0;d=j.regex.exec(s);){const N=d[1].trim();if(f=x(N),f===void 0)if(typeof y=="function"){const T=y(s,d,c);f=je(T)?T:""}else if(c&&Object.prototype.hasOwnProperty.call(c,N))f="";else if(p){f=d[0];continue}else this.logger.warn(`missed to pass in variable ${N} for interpolating ${s}`),f="";else!je(f)&&!this.useRawValueToEscape&&(f=ym(f));const k=j.safeValue(f);if(s=s.replace(d[0],k),p?(j.regex.lastIndex+=f.length,j.regex.lastIndex-=d[0].length):j.regex.lastIndex=0,g++,g>=this.maxReplaces)break}}),s}nest(s,i,o={}){let c,d,f;const g=(m,x)=>{const y=this.nestingOptionsSeparator;if(m.indexOf(y)<0)return m;const p=m.split(new RegExp(`${y}[ ]*{`));let v=`{${p[1]}`;m=p[0],v=this.interpolate(v,f);const j=v.match(/'/g),N=v.match(/"/g);((j?.length??0)%2===0&&!N||N.length%2!==0)&&(v=v.replace(/'/g,'"'));try{f=JSON.parse(v),x&&(f={...x,...f})}catch(k){return this.logger.warn(`failed parsing options string in nesting for key ${m}`,k),`${m}${y}${v}`}return f.defaultValue&&f.defaultValue.indexOf(this.prefix)>-1&&delete f.defaultValue,m};for(;c=this.nestingRegexp.exec(s);){let m=[];f={...o},f=f.replace&&!je(f.replace)?f.replace:f,f.applyPostProcessor=!1,delete f.defaultValue;const x=/{.*}/.test(c[1])?c[1].lastIndexOf("}")+1:c[1].indexOf(this.formatSeparator);if(x!==-1&&(m=c[1].slice(x).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),c[1]=c[1].slice(0,x)),d=i(g.call(this,c[1].trim(),f),f),d&&c[0]===s&&!je(d))return d;je(d)||(d=ym(d)),d||(this.logger.warn(`missed to resolve ${c[1]} for nesting ${s}`),d=""),m.length&&(d=m.reduce((y,p)=>this.format(y,p,o.lng,{...o,interpolationkey:c[1].trim()}),d.trim())),s=s.replace(c[0],d),this.regexp.lastIndex=0}return s}}const eN=n=>{let s=n.toLowerCase().trim();const i={};if(n.indexOf("(")>-1){const o=n.split("(");s=o[0].toLowerCase().trim();const c=o[1].substring(0,o[1].length-1);s==="currency"&&c.indexOf(":")<0?i.currency||(i.currency=c.trim()):s==="relativetime"&&c.indexOf(":")<0?i.range||(i.range=c.trim()):c.split(";").forEach(f=>{if(f){const[g,...m]=f.split(":"),x=m.join(":").trim().replace(/^'+|'+$/g,""),y=g.trim();i[y]||(i[y]=x),x==="false"&&(i[y]=!1),x==="true"&&(i[y]=!0),isNaN(x)||(i[y]=parseInt(x,10))}})}return{formatName:s,formatOptions:i}},Am=n=>{const s={};return(i,o,c)=>{let d=c;c&&c.interpolationkey&&c.formatParams&&c.formatParams[c.interpolationkey]&&c[c.interpolationkey]&&(d={...d,[c.interpolationkey]:void 0});const f=o+JSON.stringify(d);let g=s[f];return g||(g=n(yi(o),c),s[f]=g),g(i)}},tN=n=>(s,i,o)=>n(yi(i),o)(s);class nN{constructor(s={}){this.logger=mn.create("formatter"),this.options=s,this.init(s)}init(s,i={interpolation:{}}){this.formatSeparator=i.interpolation.formatSeparator||",";const o=i.cacheInBuiltFormats?Am:tN;this.formats={number:o((c,d)=>{const f=new Intl.NumberFormat(c,{...d});return g=>f.format(g)}),currency:o((c,d)=>{const f=new Intl.NumberFormat(c,{...d,style:"currency"});return g=>f.format(g)}),datetime:o((c,d)=>{const f=new Intl.DateTimeFormat(c,{...d});return g=>f.format(g)}),relativetime:o((c,d)=>{const f=new Intl.RelativeTimeFormat(c,{...d});return g=>f.format(g,d.range||"day")}),list:o((c,d)=>{const f=new Intl.ListFormat(c,{...d});return g=>f.format(g)})}}add(s,i){this.formats[s.toLowerCase().trim()]=i}addCached(s,i){this.formats[s.toLowerCase().trim()]=Am(i)}format(s,i,o,c={}){const d=i.split(this.formatSeparator);if(d.length>1&&d[0].indexOf("(")>1&&d[0].indexOf(")")<0&&d.find(g=>g.indexOf(")")>-1)){const g=d.findIndex(m=>m.indexOf(")")>-1);d[0]=[d[0],...d.splice(1,g)].join(this.formatSeparator)}return d.reduce((g,m)=>{const{formatName:x,formatOptions:y}=eN(m);if(this.formats[x]){let p=g;try{const v=c?.formatParams?.[c.interpolationkey]||{},j=v.locale||v.lng||c.locale||c.lng||o;p=this.formats[x](g,j,{...y,...c,...v})}catch(v){this.logger.warn(v)}return p}else this.logger.warn(`there was no format function for ${x}`);return g},s)}}const aN=(n,s)=>{n.pending[s]!==void 0&&(delete n.pending[s],n.pendingCount--)};class sN extends Do{constructor(s,i,o,c={}){super(),this.backend=s,this.store=i,this.services=o,this.languageUtils=o.languageUtils,this.options=c,this.logger=mn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=c.maxParallelReads||10,this.readingCalls=0,this.maxRetries=c.maxRetries>=0?c.maxRetries:5,this.retryTimeout=c.retryTimeout>=1?c.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(o,c.backend,c)}queueLoad(s,i,o,c){const d={},f={},g={},m={};return s.forEach(x=>{let y=!0;i.forEach(p=>{const v=`${x}|${p}`;!o.reload&&this.store.hasResourceBundle(x,p)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?f[v]===void 0&&(f[v]=!0):(this.state[v]=1,y=!1,f[v]===void 0&&(f[v]=!0),d[v]===void 0&&(d[v]=!0),m[p]===void 0&&(m[p]=!0)))}),y||(g[x]=!0)}),(Object.keys(d).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:c}),{toLoad:Object.keys(d),pending:Object.keys(f),toLoadLanguages:Object.keys(g),toLoadNamespaces:Object.keys(m)}}loaded(s,i,o){const c=s.split("|"),d=c[0],f=c[1];i&&this.emit("failedLoading",d,f,i),!i&&o&&this.store.addResourceBundle(d,f,o,void 0,void 0,{skipCopy:!0}),this.state[s]=i?-1:2,i&&o&&(this.state[s]=0);const g={};this.queue.forEach(m=>{Y1(m.loaded,[d],f),aN(m,s),i&&m.errors.push(i),m.pendingCount===0&&!m.done&&(Object.keys(m.loaded).forEach(x=>{g[x]||(g[x]={});const y=m.loaded[x];y.length&&y.forEach(p=>{g[x][p]===void 0&&(g[x][p]=!0)})}),m.done=!0,m.errors.length?m.callback(m.errors):m.callback())}),this.emit("loaded",g),this.queue=this.queue.filter(m=>!m.done)}read(s,i,o,c=0,d=this.retryTimeout,f){if(!s.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:s,ns:i,fcName:o,tried:c,wait:d,callback:f});return}this.readingCalls++;const g=(x,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(x&&y&&c<this.maxRetries){setTimeout(()=>{this.read.call(this,s,i,o,c+1,d*2,f)},d);return}f(x,y)},m=this.backend[o].bind(this.backend);if(m.length===2){try{const x=m(s,i);x&&typeof x.then=="function"?x.then(y=>g(null,y)).catch(g):g(null,x)}catch(x){g(x)}return}return m(s,i,g)}prepareLoading(s,i,o={},c){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();je(s)&&(s=this.languageUtils.toResolveHierarchy(s)),je(i)&&(i=[i]);const d=this.queueLoad(s,i,o,c);if(!d.toLoad.length)return d.pending.length||c(),null;d.toLoad.forEach(f=>{this.loadOne(f)})}load(s,i,o){this.prepareLoading(s,i,{},o)}reload(s,i,o){this.prepareLoading(s,i,{reload:!0},o)}loadOne(s,i=""){const o=s.split("|"),c=o[0],d=o[1];this.read(c,d,"read",void 0,void 0,(f,g)=>{f&&this.logger.warn(`${i}loading namespace ${d} for language ${c} failed`,f),!f&&g&&this.logger.log(`${i}loaded namespace ${d} for language ${c}`,g),this.loaded(s,f,g)})}saveMissing(s,i,o,c,d,f={},g=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(i)){this.logger.warn(`did not save key "${o}" as the namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend?.create){const m={...f,isUpdate:d},x=this.backend.create.bind(this.backend);if(x.length<6)try{let y;x.length===5?y=x(s,i,o,c,m):y=x(s,i,o,c),y&&typeof y.then=="function"?y.then(p=>g(null,p)).catch(g):g(null,y)}catch(y){g(y)}else x(s,i,o,c,g,m)}!s||!s[0]||this.store.addResource(s[0],i,o,c)}}}const jd=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let s={};if(typeof n[1]=="object"&&(s=n[1]),je(n[1])&&(s.defaultValue=n[1]),je(n[2])&&(s.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const i=n[3]||n[2];Object.keys(i).forEach(o=>{s[o]=i[o]})}return s},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Tm=n=>(je(n.ns)&&(n.ns=[n.ns]),je(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),je(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),so=()=>{},rN=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(i=>{typeof n[i]=="function"&&(n[i]=n[i].bind(n))})},iN=n=>!!(n?.modules?.backend?.name?.indexOf("Locize")>0||n?.modules?.backend?.constructor?.name?.indexOf("Locize")>0||n?.options?.backend?.backends&&n.options.backend.backends.some(s=>s?.name?.indexOf("Locize")>0||s?.constructor?.name?.indexOf("Locize")>0));class fi extends Do{constructor(s={},i){if(super(),this.options=Tm(s),this.services={},this.logger=mn,this.modules={external:[]},rN(this),i&&!this.isInitialized&&!s.isClone){if(!this.options.initAsync)return this.init(s,i),this;setTimeout(()=>{this.init(s,i)},0)}}init(s={},i){this.isInitializing=!0,typeof s=="function"&&(i=s,s={}),s.defaultNS==null&&s.ns&&(je(s.ns)?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const o=jd();this.options={...o,...this.options,...Tm(s)},this.options.interpolation={...o.interpolation,...this.options.interpolation},s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=o.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!iN(this)&&typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com ");const c=x=>x?typeof x=="function"?new x:x:null;if(!this.options.isClone){this.modules.logger?mn.init(c(this.modules.logger),this.options):mn.init(null,this.options);let x;this.modules.formatter?x=this.modules.formatter:x=nN;const y=new Sm(this.options);this.store=new jm(this.options.resources,this.options);const p=this.services;p.logger=mn,p.resourceStore=this.store,p.languageUtils=y,p.pluralResolver=new P1(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),x&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(p.formatter=c(x),p.formatter.init&&p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new zm(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new sN(c(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",(j,...N)=>{this.emit(j,...N)}),this.modules.languageDetector&&(p.languageDetector=c(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=c(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new No(this.services,this.options),this.translator.on("*",(j,...N)=>{this.emit(j,...N)}),this.modules.external.forEach(j=>{j.init&&j.init(this)})}if(this.format=this.options.interpolation.format,i||(i=so),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const x=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);x.length>0&&x[0]!=="dev"&&(this.options.lng=x[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(x=>{this[x]=(...y)=>this.store[x](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(x=>{this[x]=(...y)=>(this.store[x](...y),this)});const g=ri(),m=()=>{const x=(y,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),g.resolve(p),i(y,p)};if(this.languages&&!this.isInitialized)return x(null,this.t.bind(this));this.changeLanguage(this.options.lng,x)};return this.options.resources||!this.options.initAsync?m():setTimeout(m,0),g}loadResources(s,i=so){let o=i;const c=je(s)?s:this.language;if(typeof s=="function"&&(o=s),!this.options.resources||this.options.partialBundledLanguages){if(c?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return o();const d=[],f=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(x=>{x!=="cimode"&&d.indexOf(x)<0&&d.push(x)})};c?f(c):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>f(m)),this.options.preload?.forEach?.(g=>f(g)),this.services.backendConnector.load(d,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),o(g)})}else o(null)}reloadResources(s,i,o){const c=ri();return typeof s=="function"&&(o=s,s=void 0),typeof i=="function"&&(o=i,i=void 0),s||(s=this.languages),i||(i=this.options.ns),o||(o=so),this.services.backendConnector.reload(s,i,d=>{c.resolve(),o(d)}),c}use(s){if(!s)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!s.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return s.type==="backend"&&(this.modules.backend=s),(s.type==="logger"||s.log&&s.warn&&s.error)&&(this.modules.logger=s),s.type==="languageDetector"&&(this.modules.languageDetector=s),s.type==="i18nFormat"&&(this.modules.i18nFormat=s),s.type==="postProcessor"&&Xx.addPostProcessor(s),s.type==="formatter"&&(this.modules.formatter=s),s.type==="3rdParty"&&this.modules.external.push(s),this}setResolvedLanguage(s){if(!(!s||!this.languages)&&!(["cimode","dev"].indexOf(s)>-1)){for(let i=0;i<this.languages.length;i++){const o=this.languages[i];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}!this.resolvedLanguage&&this.languages.indexOf(s)<0&&this.store.hasLanguageSomeTranslations(s)&&(this.resolvedLanguage=s,this.languages.unshift(s))}}changeLanguage(s,i){this.isLanguageChangingTo=s;const o=ri();this.emit("languageChanging",s);const c=g=>{this.language=g,this.languages=this.services.languageUtils.toResolveHierarchy(g),this.resolvedLanguage=void 0,this.setResolvedLanguage(g)},d=(g,m)=>{m?this.isLanguageChangingTo===s&&(c(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,o.resolve((...x)=>this.t(...x)),i&&i(g,(...x)=>this.t(...x))},f=g=>{!s&&!g&&this.services.languageDetector&&(g=[]);const m=je(g)?g:g&&g[0],x=this.store.hasLanguageSomeTranslations(m)?m:this.services.languageUtils.getBestMatchFromCodes(je(g)?[g]:g);x&&(this.language||c(x),this.translator.language||this.translator.changeLanguage(x),this.services.languageDetector?.cacheUserLanguage?.(x)),this.loadResources(x,y=>{d(y,x)})};return!s&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!s&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(s),o}getFixedT(s,i,o){const c=(d,f,...g)=>{let m;typeof f!="object"?m=this.options.overloadTranslationOptionHandler([d,f].concat(g)):m={...f},m.lng=m.lng||c.lng,m.lngs=m.lngs||c.lngs,m.ns=m.ns||c.ns,m.keyPrefix!==""&&(m.keyPrefix=m.keyPrefix||o||c.keyPrefix);const x=this.options.keySeparator||".";let y;return m.keyPrefix&&Array.isArray(d)?y=d.map(p=>(typeof p=="function"&&(p=Od(p,{...this.options,...f})),`${m.keyPrefix}${x}${p}`)):(typeof d=="function"&&(d=Od(d,{...this.options,...f})),y=m.keyPrefix?`${m.keyPrefix}${x}${d}`:d),this.t(y,m)};return je(s)?c.lng=s:c.lngs=s,c.ns=i,c.keyPrefix=o,c}t(...s){return this.translator?.translate(...s)}exists(...s){return this.translator?.exists(...s)}setDefaultNamespace(s){this.options.defaultNS=s}hasLoadedNamespace(s,i={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const o=i.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,d=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;const f=(g,m)=>{const x=this.services.backendConnector.state[`${g}|${m}`];return x===-1||x===0||x===2};if(i.precheck){const g=i.precheck(this,f);if(g!==void 0)return g}return!!(this.hasResourceBundle(o,s)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(o,s)&&(!c||f(d,s)))}loadNamespaces(s,i){const o=ri();return this.options.ns?(je(s)&&(s=[s]),s.forEach(c=>{this.options.ns.indexOf(c)<0&&this.options.ns.push(c)}),this.loadResources(c=>{o.resolve(),i&&i(c)}),o):(i&&i(),Promise.resolve())}loadLanguages(s,i){const o=ri();je(s)&&(s=[s]);const c=this.options.preload||[],d=s.filter(f=>c.indexOf(f)<0&&this.services.languageUtils.isSupportedCode(f));return d.length?(this.options.preload=c.concat(d),this.loadResources(f=>{o.resolve(),i&&i(f)}),o):(i&&i(),Promise.resolve())}dir(s){if(s||(s=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!s)return"rtl";try{const c=new Intl.Locale(s);if(c&&c.getTextInfo){const d=c.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services?.languageUtils||new Sm(jd());return s.toLowerCase().indexOf("-latn")>1?"ltr":i.indexOf(o.getLanguagePartFromCode(s))>-1||s.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(s={},i){const o=new fi(s,i);return o.createInstance=fi.createInstance,o}cloneInstance(s={},i=so){const o=s.forkResourceStore;o&&delete s.forkResourceStore;const c={...this.options,...s,isClone:!0},d=new fi(c);if((s.debug!==void 0||s.prefix!==void 0)&&(d.logger=d.logger.clone(s)),["store","services","language"].forEach(g=>{d[g]=this[g]}),d.services={...this.services},d.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},o){const g=Object.keys(this.store.data).reduce((m,x)=>(m[x]={...this.store.data[x]},m[x]=Object.keys(m[x]).reduce((y,p)=>(y[p]={...m[x][p]},y),m[x]),m),{});d.store=new jm(g,c),d.services.resourceStore=d.store}if(s.interpolation){const m={...jd().interpolation,...this.options.interpolation,...s.interpolation},x={...c,interpolation:m};d.services.interpolator=new zm(x)}return d.translator=new No(d.services,c),d.translator.on("*",(g,...m)=>{d.emit(g,...m)}),d.init(c,i),d.translator.options=c,d.translator.backendConnector.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const vt=fi.createInstance();vt.createInstance;vt.dir;vt.init;vt.loadResources;vt.reloadResources;vt.use;vt.changeLanguage;vt.getFixedT;vt.t;vt.exists;vt.setDefaultNamespace;vt.hasLoadedNamespace;vt.loadNamespaces;vt.loadLanguages;const lN=(n,s,i,o)=>{const c=[i,{code:s,...o||{}}];if(n?.services?.logger?.forward)return n.services.logger.forward(c,"warn","react-i18next::",!0);es(c[0])&&(c[0]=`react-i18next:: ${c[0]}`),n?.services?.logger?.warn?n.services.logger.warn(...c):console?.warn&&console.warn(...c)},_m={},Qx=(n,s,i,o)=>{es(i)&&_m[i]||(es(i)&&(_m[i]=new Date),lN(n,s,i,o))},Fx=(n,s)=>()=>{if(n.isInitialized)s();else{const i=()=>{setTimeout(()=>{n.off("initialized",i)},0),s()};n.on("initialized",i)}},Ld=(n,s,i)=>{n.loadNamespaces(s,Fx(n,i))},Mm=(n,s,i,o)=>{if(es(i)&&(i=[i]),n.options.preload&&n.options.preload.indexOf(s)>-1)return Ld(n,i,o);i.forEach(c=>{n.options.ns.indexOf(c)<0&&n.options.ns.push(c)}),n.loadLanguages(s,Fx(n,o))},oN=(n,s,i={})=>!s.languages||!s.languages.length?(Qx(s,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:s.languages}),!0):s.hasLoadedNamespace(n,{lng:i.lng,precheck:(o,c)=>{if(i.bindI18n&&i.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!c(o.isLanguageChangingTo,n))return!1}}),es=n=>typeof n=="string",cN=n=>typeof n=="object"&&n!==null,uN=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,dN={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},fN=n=>dN[n],hN=n=>n.replace(uN,fN);let Rd={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:hN,transDefaultProps:void 0};const gN=(n={})=>{Rd={...Rd,...n}},mN=()=>Rd;let Kx;const xN=n=>{Kx=n},pN=()=>Kx,yN={type:"3rdParty",init(n){gN(n.options.react),xN(n)}},bN=A.createContext();class vN{constructor(){this.usedNamespaces={}}addUsedNamespaces(s){s.forEach(i=>{this.usedNamespaces[i]||(this.usedNamespaces[i]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var NN=Qv();const jN=(n,s)=>es(s)?s:cN(s)&&es(s.defaultValue)?s.defaultValue:Array.isArray(n)?n[n.length-1]:n,wN={t:jN,ready:!1},SN=()=>()=>{},Wd=(n,s={})=>{const{i18n:i}=s,{i18n:o,defaultNS:c}=A.useContext(bN)||{},d=i||o||pN();d&&!d.reportNamespaces&&(d.reportNamespaces=new vN),d||Qx(d,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const f=A.useMemo(()=>({...mN(),...d?.options?.react,...s}),[d,s]),{useSuspense:g,keyPrefix:m}=f,x=c||d?.options?.defaultNS,y=es(x)?[x]:x||["translation"],p=A.useMemo(()=>y,y);d?.reportNamespaces?.addUsedNamespaces?.(p);const v=A.useRef(0),j=A.useCallback(q=>{if(!d)return SN;const{bindI18n:te,bindI18nStore:G}=f,F=()=>{v.current+=1,q()};return te&&d.on(te,F),G&&d.store.on(G,F),()=>{te&&te.split(" ").forEach(H=>d.off(H,F)),G&&G.split(" ").forEach(H=>d.store.off(H,F))}},[d,f]),N=A.useRef(),k=A.useCallback(()=>{if(!d)return wN;const q=!!(d.isInitialized||d.initializedStoreOnce)&&p.every(D=>oN(D,d,f)),te=s.lng||d.language,G=v.current,F=N.current;if(F&&F.ready===q&&F.lng===te&&F.keyPrefix===m&&F.revision===G)return F;const _={t:d.getFixedT(te,f.nsMode==="fallback"?p:p[0],m),ready:q,lng:te,keyPrefix:m,revision:G};return N.current=_,_},[d,p,m,f,s.lng]),[T,E]=A.useState(0),{t:M,ready:w}=NN.useSyncExternalStore(j,k,k);A.useEffect(()=>{if(d&&!w&&!g){const q=()=>E(te=>te+1);s.lng?Mm(d,s.lng,p,q):Ld(d,p,q)}},[d,s.lng,p,w,g,T]);const z=d||{},L=A.useRef(null),B=A.useRef(),$=q=>{const te=Object.getOwnPropertyDescriptors(q);te.__original&&delete te.__original;const G=Object.create(Object.getPrototypeOf(q),te);if(!Object.prototype.hasOwnProperty.call(G,"__original"))try{Object.defineProperty(G,"__original",{value:q,writable:!1,enumerable:!1,configurable:!1})}catch{}return G},V=A.useMemo(()=>{const q=z,te=q?.language;let G=q;q&&(L.current&&L.current.__original===q?B.current!==te?(G=$(q),L.current=G,B.current=te):G=L.current:(G=$(q),L.current=G,B.current=te));const F=[M,G,w];return F.t=M,F.i18n=G,F.ready=w,F},[M,z,w,z.resolvedLanguage,z.language,z.languages]);if(d&&g&&!w)throw new Promise(q=>{const te=()=>q();s.lng?Mm(d,s.lng,p,te):Ld(d,p,te)});return V},{slice:kN,forEach:CN}=[];function EN(n){return CN.call(kN.call(arguments,1),s=>{if(s)for(const i in s)n[i]===void 0&&(n[i]=s[i])}),n}function zN(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(i=>i.test(n))}const Dm=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,AN=function(n,s){const o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},c=encodeURIComponent(s);let d=`${n}=${c}`;if(o.maxAge>0){const f=o.maxAge-0;if(Number.isNaN(f))throw new Error("maxAge should be a Number");d+=`; Max-Age=${Math.floor(f)}`}if(o.domain){if(!Dm.test(o.domain))throw new TypeError("option domain is invalid");d+=`; Domain=${o.domain}`}if(o.path){if(!Dm.test(o.path))throw new TypeError("option path is invalid");d+=`; Path=${o.path}`}if(o.expires){if(typeof o.expires.toUTCString!="function")throw new TypeError("option expires is invalid");d+=`; Expires=${o.expires.toUTCString()}`}if(o.httpOnly&&(d+="; HttpOnly"),o.secure&&(d+="; Secure"),o.sameSite)switch(typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite){case!0:d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"strict":d+="; SameSite=Strict";break;case"none":d+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o.partitioned&&(d+="; Partitioned"),d},Om={create(n,s,i,o){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(c.expires=new Date,c.expires.setTime(c.expires.getTime()+i*60*1e3)),o&&(c.domain=o),document.cookie=AN(n,s,c)},read(n){const s=`${n}=`,i=document.cookie.split(";");for(let o=0;o<i.length;o++){let c=i[o];for(;c.charAt(0)===" ";)c=c.substring(1,c.length);if(c.indexOf(s)===0)return c.substring(s.length,c.length)}return null},remove(n,s){this.create(n,"",-1,s)}};var TN={name:"cookie",lookup(n){let{lookupCookie:s}=n;if(s&&typeof document<"u")return Om.read(s)||void 0},cacheUserLanguage(n,s){let{lookupCookie:i,cookieMinutes:o,cookieDomain:c,cookieOptions:d}=s;i&&typeof document<"u"&&Om.create(i,n,o,c,d)}},_N={name:"querystring",lookup(n){let{lookupQuerystring:s}=n,i;if(typeof window<"u"){let{search:o}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));const d=o.substring(1).split("&");for(let f=0;f<d.length;f++){const g=d[f].indexOf("=");g>0&&d[f].substring(0,g)===s&&(i=d[f].substring(g+1))}}return i}},MN={name:"hash",lookup(n){let{lookupHash:s,lookupFromHashIndex:i}=n,o;if(typeof window<"u"){const{hash:c}=window.location;if(c&&c.length>2){const d=c.substring(1);if(s){const f=d.split("&");for(let g=0;g<f.length;g++){const m=f[g].indexOf("=");m>0&&f[g].substring(0,m)===s&&(o=f[g].substring(m+1))}}if(o)return o;if(!o&&i>-1){const f=c.match(/\/([a-zA-Z-]*)/g);return Array.isArray(f)?f[typeof i=="number"?i:0]?.replace("/",""):void 0}}}return o}};let Fs=null;const Lm=()=>{if(Fs!==null)return Fs;try{if(Fs=typeof window<"u"&&window.localStorage!==null,!Fs)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{Fs=!1}return Fs};var DN={name:"localStorage",lookup(n){let{lookupLocalStorage:s}=n;if(s&&Lm())return window.localStorage.getItem(s)||void 0},cacheUserLanguage(n,s){let{lookupLocalStorage:i}=s;i&&Lm()&&window.localStorage.setItem(i,n)}};let Ks=null;const Rm=()=>{if(Ks!==null)return Ks;try{if(Ks=typeof window<"u"&&window.sessionStorage!==null,!Ks)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{Ks=!1}return Ks};var ON={name:"sessionStorage",lookup(n){let{lookupSessionStorage:s}=n;if(s&&Rm())return window.sessionStorage.getItem(s)||void 0},cacheUserLanguage(n,s){let{lookupSessionStorage:i}=s;i&&Rm()&&window.sessionStorage.setItem(i,n)}},LN={name:"navigator",lookup(n){const s=[];if(typeof navigator<"u"){const{languages:i,userLanguage:o,language:c}=navigator;if(i)for(let d=0;d<i.length;d++)s.push(i[d]);o&&s.push(o),c&&s.push(c)}return s.length>0?s:void 0}},RN={name:"htmlTag",lookup(n){let{htmlTag:s}=n,i;const o=s||(typeof document<"u"?document.documentElement:null);return o&&typeof o.getAttribute=="function"&&(i=o.getAttribute("lang")),i}},HN={name:"path",lookup(n){let{lookupFromPathIndex:s}=n;if(typeof window>"u")return;const i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(i)?i[typeof s=="number"?s:0]?.replace("/",""):void 0}},UN={name:"subdomain",lookup(n){let{lookupFromSubdomainIndex:s}=n;const i=typeof s=="number"?s+1:1,o=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(o)return o[i]}};let Ix=!1;try{document.cookie,Ix=!0}catch{}const Jx=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Ix||Jx.splice(1,1);const BN=()=>({order:Jx,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class Wx{constructor(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(s,i)}init(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=s,this.options=EN(i,this.options||{},BN()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=c=>c.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=o,this.addDetector(TN),this.addDetector(_N),this.addDetector(DN),this.addDetector(ON),this.addDetector(LN),this.addDetector(RN),this.addDetector(HN),this.addDetector(UN),this.addDetector(MN)}addDetector(s){return this.detectors[s.name]=s,this}detect(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,i=[];return s.forEach(o=>{if(this.detectors[o]){let c=this.detectors[o].lookup(this.options);c&&typeof c=="string"&&(c=[c]),c&&(i=i.concat(c))}}),i=i.filter(o=>o!=null&&!zN(o)).map(o=>this.options.convertDetectedLanguage(o)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}cacheUserLanguage(s){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(s)>-1||i.forEach(o=>{this.detectors[o]&&this.detectors[o].cacheUserLanguage(s,this.options)}))}}Wx.type="languageDetector";const VN="Welcome",qN="Settings",$N="Language",YN="Select Language",GN="Import Contacts",XN="Dashboard",ZN="Dashboard",QN="Inbox",FN="Team",KN="Contacts",IN="Lists",JN="New Campaign",WN="History",PN="Templates",ej="Automations",tj="Media Library",nj="Settings",aj="Logout",sj="WHATSMS ORGANIZATION",rj="Logged in as {{name}}",ij="Import Contacts",lj="Click or drag CSV here",oj="Columns: name, phone, interests",cj="Cancel",uj="Importing...",dj="Import Contacts",fj="Import Complete",hj="Imported",gj="Skipped",mj="Errors:",xj="Import More",pj="Done",yj={welcome:VN,settings:qN,language:$N,select_language:YN,import_contacts:GN,dashboard:XN,nav_dashboard:ZN,nav_inbox:QN,nav_team:FN,nav_contacts:KN,nav_lists:IN,nav_new_campaign:JN,nav_history:WN,nav_templates:PN,nav_automations:ej,nav_media_library:tj,nav_settings:nj,nav_logout:aj,organization_header:sj,logged_in_as:rj,import_contacts_title:ij,drag_drop_csv:lj,csv_columns:oj,cancel:cj,importing:uj,import_button:dj,import_complete:fj,imported_count:hj,skipped_count:gj,errors_label:mj,import_more:xj,done:pj},bj="Bienvenue",vj="Paramtres",Nj="Langue",jj="Changer la langue",wj="Importer des contacts",Sj="Tableau de bord",kj="Tableau de bord",Cj="Bote de rception",Ej="quipe",zj="Contacts",Aj="Listes",Tj="Nouvelle Campagne",_j="Historique",Mj="Modles",Dj="Automations",Oj="Mdiathque",Lj="Paramtres",Rj="Dconnexion",Hj="ORGANISATION WHATSMS",Uj="Connect en tant que {{name}}",Bj="Importer des contacts",Vj="Cliquez ou glissez un CSV ici",qj="Colonnes : nom, tlphone, intrts",$j="Annuler",Yj="Importation...",Gj="Importer",Xj="Importation termine",Zj="Import",Qj="Ignor",Fj="Erreurs :",Kj="Importer plus",Ij="Termin",Jj={welcome:bj,settings:vj,language:Nj,select_language:jj,import_contacts:wj,dashboard:Sj,nav_dashboard:kj,nav_inbox:Cj,nav_team:Ej,nav_contacts:zj,nav_lists:Aj,nav_new_campaign:Tj,nav_history:_j,nav_templates:Mj,nav_automations:Dj,nav_media_library:Oj,nav_settings:Lj,nav_logout:Rj,organization_header:Hj,logged_in_as:Uj,import_contacts_title:Bj,drag_drop_csv:Vj,csv_columns:qj,cancel:$j,importing:Yj,import_button:Gj,import_complete:Xj,imported_count:Zj,skipped_count:Qj,errors_label:Fj,import_more:Kj,done:Ij};vt.use(Wx).use(yN).init({resources:{en:{translation:yj},fr:{translation:Jj}},lng:"fr",fallbackLng:"fr",interpolation:{escapeValue:!1}});const Wj="/api";class Pj{constructor(){this.baseUrl=Wj,this.token=localStorage.getItem("token")}setToken(s){this.token=s,s?localStorage.setItem("token",s):localStorage.removeItem("token")}getToken(){return this.token}async request(s,i={}){const o=`${this.baseUrl}${s}`,c={"Content-Type":"application/json",...i.headers};this.token&&(c.Authorization=`Bearer ${this.token}`);const d={...i,headers:c};i.body&&typeof i.body=="object"&&!(i.body instanceof FormData)&&(d.body=JSON.stringify(i.body)),i.body instanceof FormData&&delete c["Content-Type"];const f=await fetch(o,d);if(f.status===401&&!s.includes("/auth/login"))throw this.setToken(null),window.location.href="/login",new Error("Session expired. Please login again.");const g=await f.text();let m;try{m=g?JSON.parse(g):{}}catch(x){throw console.error("API Error:",x,"Response was not JSON:",g),new Error(`Server Error (${f.status}): Please check browser console for details.`)}if(!f.ok)throw new Error(m.message||"An error occurred");return m}async get(s,i={}){return this.request(s,{...i,method:"GET"})}async post(s,i,o={}){return this.request(s,{...o,method:"POST",body:i})}async put(s,i,o={}){return this.request(s,{...o,method:"PUT",body:i})}async delete(s,i={}){return this.request(s,{...i,method:"DELETE"})}async login(s,i){const o=await this.request("/auth/login",{method:"POST",body:{username:s,password:i}});return this.setToken(o.token),o}async register(s,i){const o=await this.request("/auth/register",{method:"POST",body:{username:s,password:i}});return this.setToken(o.token),o}async getMe(){return this.request("/auth/me")}logout(){this.setToken(null)}async getContacts(s={}){const i=new URLSearchParams(s).toString();return this.request(`/contacts${i?`?${i}`:""}`)}async getContactStats(){return this.request("/contacts/stats")}async getContactTags(){return this.request("/contacts/tags")}async getContact(s){return this.request(`/contacts/${s}`)}async createContact(s){return this.request("/contacts",{method:"POST",body:s})}async updateContact(s,i){return this.request(`/contacts/${s}`,{method:"PUT",body:i})}async deleteContact(s){return this.request(`/contacts/${s}`,{method:"DELETE"})}async importContacts(s){const i=new FormData;return i.append("file",s),this.request("/contacts/import",{method:"POST",body:i})}async fetchWhatsAppContacts(){return this.request("/contacts/fetch-whatsapp",{method:"POST"})}async uploadFile(s){const i=new FormData;return i.append("file",s),this.request("/upload",{method:"POST",body:i})}async getLists(){return this.request("/lists")}async getList(s){return this.request(`/lists/${s}`)}async createList(s){return this.request("/lists",{method:"POST",body:s})}async updateList(s,i){return this.request(`/lists/${s}`,{method:"PUT",body:i})}async deleteList(s){return this.request(`/lists/${s}`,{method:"DELETE"})}async addContactsToList(s,i){return this.request(`/lists/${s}/contacts`,{method:"POST",body:{contactIds:i}})}async removeContactFromList(s,i){return this.request(`/lists/${s}/contacts/${i}`,{method:"DELETE"})}async getCampaigns(s={}){const i=new URLSearchParams(s).toString();return this.request(`/campaigns${i?`?${i}`:""}`)}async getCampaignStats(){return this.request("/campaigns/stats")}async getCampaign(s){return this.request(`/campaigns/${s}`)}async getCampaignRecipients(s,i={}){const o=new URLSearchParams(i).toString();return this.request(`/campaigns/${s}/recipients${o?`?${o}`:""}`)}async createCampaign(s){return this.request("/campaigns",{method:"POST",body:s})}async updateCampaign(s,i){return this.request(`/campaigns/${s}`,{method:"PUT",body:i})}async deleteCampaign(s){return this.request(`/campaigns/${s}`,{method:"DELETE"})}async sendCampaign(s){return this.request(`/campaigns/${s}/send`,{method:"POST"})}async stopCampaign(s){return this.request(`/campaigns/${s}/stop`,{method:"POST"})}async getTemplates(){return this.request("/templates")}async getTemplate(s){return this.request(`/templates/${s}`)}async createTemplate(s){return this.request("/templates",{method:"POST",body:s})}async updateTemplate(s,i){return this.request(`/templates/${s}`,{method:"PUT",body:i})}async deleteTemplate(s){return this.request(`/templates/${s}`,{method:"DELETE"})}async getMedia(s={}){const i=new URLSearchParams(s).toString();return this.request(`/media${i?`?${i}`:""}`)}async uploadMedia(s){const i=new FormData;return i.append("file",s),this.request("/media/upload",{method:"POST",body:i})}async deleteMedia(s){return this.request(`/media/${s}`,{method:"DELETE"})}async getTeamMembers(){return this.request("/team")}async addTeamMember(s){return this.request("/team",{method:"POST",body:s})}async updateTeamMember(s,i){return this.request(`/team/${s}`,{method:"PUT",body:i})}async deleteTeamMember(s){return this.request(`/team/${s}`,{method:"DELETE"})}async getConversations(s={}){const i=new URLSearchParams(s).toString();return this.request(`/conversations${i?`?${i}`:""}`)}async getConversation(s){return this.request(`/conversations/${s}`)}async sendMessage(s,i){return this.request(`/conversations/${s}/messages`,{method:"POST",body:i})}async assignConversation(s,i){return this.request(`/conversations/${s}/assign`,{method:"PUT",body:{assignedToId:i}})}async updateConversationStatus(s,i){return this.request(`/conversations/${s}/status`,{method:"PUT",body:{status:i}})}async getNotes(s){return this.request(`/notes/contact/${s}`)}async addNote(s){return this.request("/notes",{method:"POST",body:s})}}const ce=new Pj,Px=A.createContext(null),Pd=()=>{const n=A.useContext(Px);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},e2=({children:n})=>{const[s,i]=A.useState(null),[o,c]=A.useState(!0),[d,f]=A.useState(null);A.useEffect(()=>{(async()=>{if(ce.getToken())try{const j=await ce.getMe();i(j.user)}catch(j){console.error("Auth check failed:",j),ce.logout()}c(!1)})()},[]);const y={user:s,loading:o,error:d,isAuthenticated:!!s,login:async(p,v)=>{f(null);try{const j=await ce.login(p,v);return i(j.user),j}catch(j){throw f(j.message),j}},register:async(p,v)=>{f(null);try{const j=await ce.register(p,v);return i(j.user),j}catch(j){throw f(j.message),j}},logout:()=>{ce.logout(),i(null)}};return r.jsx(Px.Provider,{value:y,children:n})},ep=A.createContext(null),Oo=()=>{const n=A.useContext(ep);if(!n)throw new Error("useToast must be used within a ToastProvider");return n},t2=({id:n,type:s,message:i,onClose:o})=>{const c={success:r.jsx(Td,{className:"text-blue-500",size:20}),error:r.jsx(Tx,{className:"text-red-500",size:20}),warning:r.jsx(Ca,{className:"text-amber-500",size:20}),info:r.jsx(t1,{className:"text-emerald-500",size:20})},d={success:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",error:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",warning:"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800",info:"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800"};return r.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-xl border shadow-lg backdrop-blur-sm animate-slide-up ${d[s]}`,style:{minWidth:"300px"},children:[c[s],r.jsx("p",{className:"flex-1 text-sm font-medium text-gray-800 dark:text-gray-200",children:i}),r.jsx("button",{onClick:()=>o(n),className:"p-1 hover:bg-black/5 dark:hover:bg-white/5 rounded-lg transition-colors",children:r.jsx(bt,{size:16,className:"text-gray-400"})})]})},n2=({children:n})=>{const[s,i]=A.useState([]),o=A.useCallback(f=>{i(g=>g.filter(m=>m.id!==f))},[]),c=A.useCallback((f,g,m=4e3)=>{const x=Date.now()+Math.random();i(y=>[...y,{id:x,type:f,message:g}]),setTimeout(()=>{o(x)},m)},[o]),d={success:f=>c("success",f),error:f=>c("error",f),warning:f=>c("warning",f),info:f=>c("info",f)};return r.jsxs(ep.Provider,{value:d,children:[n,r.jsx("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2",children:s.map(f=>r.jsx(t2,{id:f.id,type:f.type,message:f.message,onClose:o},f.id))})]})},tp=A.createContext(),np=()=>A.useContext(tp),a2=({children:n})=>{const[s,i]=A.useState(()=>typeof window<"u"?localStorage.getItem("theme")==="dark"||!localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches:!1);A.useEffect(()=>{s?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[s]);const o=()=>i(!s);return r.jsx(tp.Provider,{value:{isDark:s,toggleTheme:o},children:n})},s2=({children:n})=>{const{isAuthenticated:s,loading:i}=Pd(),o=$x();return i?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-light dark:bg-background-dark",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 border-4 border-primary/30 border-t-primary rounded-full animate-spin"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading..."})]})}):s?n:r.jsx(T1,{to:"/login",state:{from:o},replace:!0})},r2=()=>{const{isDark:n}=np(),[s,i]=A.useState(!1),{user:o,logout:c}=Pd(),d=ss(),{t:f}=Wd(),g=()=>{c(),d("/login")},m=[{to:"/",icon:_x,label:f("nav_dashboard"),end:!0},{to:"/inbox",icon:n1,label:f("nav_inbox")},{to:"/team",icon:a1,label:f("nav_team")},{to:"/contacts",icon:gn,label:f("nav_contacts")},{to:"/lists",icon:Fd,label:f("nav_lists")},{to:"/campaigns/new",icon:s1,label:f("nav_new_campaign")},{to:"/campaigns",icon:r1,label:f("nav_history"),end:!0},{to:"/templates",icon:Ci,label:f("nav_templates")},{to:"/automations",icon:yo,label:f("nav_automations")},{to:"/media",icon:gi,label:f("nav_media_library")},{to:"/settings",icon:_d,label:f("nav_settings")}],x=m.filter(p=>!["/team","/settings"].includes(p.to)),y=m.filter(p=>["/team","/settings"].includes(p.to));return r.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-background-dark text-gray-900 dark:text-gray-100 transition-colors duration-300",children:[r.jsx("aside",{className:"w-72 bg-[#F3F5FA] dark:bg-surface-dark border-r border-gray-200/50 dark:border-gray-800/80 flex-col hidden md:flex font-sans",children:r.jsxs("div",{className:"p-4 flex flex-col h-full",children:[r.jsx("div",{className:"mb-6 mx-2",children:r.jsx("div",{className:"bg-emerald-100/50 dark:bg-emerald-500/10 text-emerald-700 dark:text-emerald-300 px-4 py-3 rounded-2xl flex items-center justify-center font-bold text-sm tracking-wide shadow-sm backdrop-blur-sm",children:f("organization_header")})}),r.jsxs("div",{className:"bg-white dark:bg-gray-800/50 rounded-[2rem] p-4 shadow-sm flex-1 overflow-y-auto mb-4",children:[r.jsx("div",{className:"mb-4 px-2 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Menu"}),r.jsx("nav",{className:"space-y-1",children:x.map((p,v)=>r.jsxs(ao,{to:p.to,end:p.end,className:({isActive:j})=>`flex items-center gap-3 px-4 py-3 rounded-2xl transition-all duration-200 font-medium group ${j?"bg-emerald-50 dark:bg-emerald-500/20 text-emerald-600 dark:text-emerald-300 shadow-sm":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50 hover:text-gray-800 dark:hover:text-gray-200"}`,style:{animationDelay:`${v*.05}s`},children:[r.jsx(p.icon,{size:20,className:`flex-shrink-0 transition-colors ${({isActive:j})=>j?"text-emerald-500":"text-gray-400 group-hover:text-gray-600"}`,strokeWidth:1.8}),r.jsx("span",{children:p.label})]},p.to))})]}),r.jsxs("div",{className:"px-2 space-y-1 mb-2",children:[y.map(p=>r.jsxs(ao,{to:p.to,className:({isActive:v})=>`flex items-center gap-3 px-4 py-3 rounded-2xl transition-all duration-200 font-medium group ${v?"text-emerald-600 dark:text-emerald-300":"text-gray-500 dark:text-gray-400 hover:bg-emerald-50/50 dark:hover:bg-gray-800/50 hover:text-gray-800 dark:hover:text-gray-200"}`,children:[r.jsx(p.icon,{size:20,className:"flex-shrink-0",strokeWidth:1.8}),r.jsx("span",{children:p.label})]},p.to)),r.jsxs("button",{onClick:g,className:"flex items-center gap-3 w-full px-4 py-3 text-gray-500 dark:text-gray-400 hover:bg-red-50 dark:hover:bg-red-900/10 hover:text-red-600 dark:hover:text-red-400 rounded-2xl transition-all duration-200 font-medium group",children:[r.jsx(lm,{size:20,className:"group-hover:text-red-500 transition-colors",strokeWidth:1.8}),r.jsx("span",{children:f("nav_logout")})]})]}),r.jsx("div",{className:"px-6 py-2",children:r.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-600",children:o?f("logged_in_as",{name:o.username}):""})})]})}),s&&r.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-40 md:hidden animate-fade-in",onClick:()=>i(!1)}),r.jsx("aside",{className:`fixed inset-y-0 left-0 w-80 bg-[#F3F5FA] dark:bg-surface-dark border-r border-gray-200 dark:border-gray-800 flex flex-col z-50 transform transition-transform duration-300 md:hidden ${s?"translate-x-0":"-translate-x-full"}`,children:r.jsxs("div",{className:"p-4 flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6 mx-2",children:[r.jsx("div",{className:"bg-emerald-100/50 dark:bg-emerald-500/10 text-emerald-700 dark:text-emerald-300 px-4 py-2 rounded-xl font-bold text-sm tracking-wide",children:"WHATSMS"}),r.jsx("button",{onClick:()=>i(!1),className:"p-2 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-500",children:r.jsx(bt,{size:20})})]}),r.jsx("div",{className:"bg-white dark:bg-gray-800/50 rounded-[2rem] p-4 shadow-sm flex-1 overflow-y-auto mb-4",children:r.jsx("nav",{className:"space-y-1",children:x.map(p=>r.jsxs(ao,{to:p.to,end:p.end,onClick:()=>i(!1),className:({isActive:v})=>`flex items-center gap-3 px-4 py-3 rounded-2xl transition-all duration-200 font-medium ${v?"bg-emerald-50 dark:bg-emerald-500/20 text-emerald-600 dark:text-emerald-300 shadow-sm":"text-gray-500 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50 hover:text-gray-800 dark:hover:text-gray-200"}`,children:[r.jsx(p.icon,{size:20,className:"flex-shrink-0",strokeWidth:1.8}),r.jsx("span",{children:p.label})]},p.to))})}),r.jsxs("div",{className:"px-2 space-y-1 mb-2",children:[y.map(p=>r.jsxs(ao,{to:p.to,onClick:()=>i(!1),className:({isActive:v})=>`flex items-center gap-3 px-4 py-3 rounded-2xl transition-all duration-200 font-medium group ${v?"text-emerald-600 dark:text-emerald-300":"text-gray-500 dark:text-gray-400 hover:bg-emerald-50/50 dark:hover:bg-gray-800/50 hover:text-gray-800 dark:hover:text-gray-200"}`,children:[r.jsx(p.icon,{size:20,className:"flex-shrink-0",strokeWidth:1.8}),r.jsx("span",{children:p.label})]},p.to)),r.jsxs("button",{onClick:()=>{g(),i(!1)},className:"flex items-center gap-3 w-full px-4 py-3 text-gray-500 dark:text-gray-400 hover:bg-red-50 dark:hover:bg-red-900/10 hover:text-red-600 rounded-2xl transition-all duration-200 font-medium",children:[r.jsx(lm,{size:20,strokeWidth:1.8}),r.jsx("span",{children:f("nav_logout")})]})]})]})}),r.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden bg-white dark:bg-background-dark relative z-0",children:[r.jsxs("header",{className:"md:hidden bg-white dark:bg-surface-dark border-b border-gray-200 dark:border-gray-800 px-4 py-3.5 flex items-center justify-between shadow-soft",children:[r.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx("span",{className:"w-8 h-8 bg-emerald-600 rounded-lg flex items-center justify-center text-white text-xs",children:"WS"}),r.jsx("span",{className:"text-gray-800 dark:text-white",children:"WhatsSMS"})]}),r.jsx("div",{className:"flex gap-1",children:r.jsx("button",{className:"p-2.5 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-500 dark:text-gray-400 transition-colors",onClick:()=>i(!0),children:r.jsx(i1,{size:22,strokeWidth:1.75})})})]}),r.jsx("div",{className:"flex-1 overflow-auto p-4 md:p-8",children:r.jsx(_1,{})})]})]})},ef={generateMessage:async(n,s="")=>{try{const i=s.trim()?`You are an expert marketing strategist and copywriter known for creating high-converting WhatsApp campaigns.

The user has **existing content** they want you to **modify, improve, or rewrite** based on their instructions.

**Existing Content:**
"""
${s}
"""

**Your Task:**
Follow the user's instructions to modify the existing content. Keep the same general idea unless they ask you to change it completely.

**Guidelines:**
- Keep changes focused on what the user asks
- Maintain the message structure unless told otherwise
- Use *bold* for emphasis, emojis sparingly
- Make it concise and WhatsApp-appropriate

Output ONLY the improved/modified message text. No explanations.`:`You are an expert marketing strategist and copywriter known for creating high-converting WhatsApp campaigns.
Your goal is to write a powerful, effective marketing message based on the user's request.

**Strategy Guidelines:**
- **One Core Message:** Focus on a single clear value proposition.
- **Direct & Persuasive:** Use simple language. No buzzwords. No filler.
- **Structure:**
    1. **Hook:** Grab attention instantly (first line).
    2. **Value:** Explain the benefit clearly.
    3. **CTA:** One simple, actionable step (e.g., "Reply YES", "Click here").
- **Formatting:** Use *bold* for emphasis. Use emojis sparingly to highlight key points.
- **No Em Dashes.**

**Output Instructions:**
Provide **3 Distinct Variations** of the message to give the user choices:
1.  **Direct & Urgent** (Focus on scarcity or time-sensitivity)
2.  **Benefit-Focused** (Focus on the problem/solution)
3.  **Friendly & Conversational** (Softer tone)

Separate the variations clearly so the user can copy the one they like.`;return(await ce.post("/ai/chat",{messages:[{role:"system",content:i},{role:"user",content:n}]})).content}catch(i){throw console.error("AI Generation Error:",i),i}},getAnalyticsInsights:async(n=[])=>{try{return(await ce.post("/ai/analytics",{campaignIds:n})).insights}catch(s){throw console.error("Error fetching AI analytics:",s),s}},analyzeTemplate:async(n,s)=>{try{return await ce.post("/ai/analyze-template",{templateBody:n,templateName:s})}catch(i){throw console.error("Error analyzing template:",i),i}},chatAssistant:async(n,s="",i="template")=>{try{return(await ce.post("/ai/chat-assistant",{messages:n,currentContent:s,contentType:i})).content}catch(o){throw console.error("AI Chat Assistant Error:",o),o}}},i2=()=>{const[n,s]=A.useState(null),[i,o]=A.useState(null),[c,d]=A.useState([]),[f,g]=A.useState([]),[m,x]=A.useState(!1),[y,p]=A.useState(!1),[v,j]=A.useState("all"),[N,k]=A.useState([]),[T,E]=A.useState(!0),[M,w]=A.useState(null),z=ss(),L=()=>{const H=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];if(!(i&&i.totalMessagesSent>0))return H.map(U=>({name:U,sent:0,delivered:0,read:0}));const D=i.totalMessagesSent||0,C=i.totalDelivered||0,O=i.totalRead||0;return H.map((U,Z)=>{const X=(Z+1)/28;return{name:U,sent:Math.round(D*X),delivered:Math.round(C*X),read:Math.round(O*X)}})},B=()=>c.slice(0,5).map(H=>({name:H.name.length>10?H.name.substring(0,10)+"...":H.name,delivered:H.statsDelivered||0,read:H.statsRead||0,replied:H.statsReplied||0})),$=async()=>{try{E(!0),w(null);const[H,_,D]=await Promise.all([ce.getContactStats(),ce.getCampaignStats(),ce.getCampaigns({limit:5})]);s(H),o(_),d(D.campaigns||[])}catch(H){w(H.message),console.error("Failed to fetch dashboard data:",H)}finally{E(!1)}};A.useEffect(()=>{$()},[]);const V=async()=>{x(!0);try{const H=v==="select"?N:[],_=await ef.getAnalyticsInsights(H);g(_||[]),p(!1)}catch(H){console.error(H),alert("Failed to generate insights")}finally{x(!1)}},q=H=>{k(_=>_.includes(H)?_.filter(D=>D!==H):[..._,H])},te=[{label:"Total Campaigns",value:i?.totalCampaigns??"-",change:`${i?.activeCampaigns??0} active`,trend:i?.activeCampaigns>0?"up":"neutral",icon:l1},{label:"Messages Sent",value:i?.totalMessagesSent?.toLocaleString()??"-",change:`${i?.deliveryRate??0}% delivery rate`,trend:"up",icon:To},{label:"Total Contacts",value:n?.total?.toLocaleString()??"-",change:`+${n?.thisWeek??0} this week`,trend:n?.thisWeek>0?"up":"neutral",icon:gn},{label:"Contact Lists",value:n?.listsCount??"-",change:"Active lists",trend:"neutral",icon:mi}],G=()=>c.slice(0,4).map(H=>({id:H.id,action:`Campaign "${H.name}" ${H.status.toLowerCase().replace("_"," ")}`,time:new Date(H.updatedAt).toLocaleDateString(),type:H.status==="COMPLETED"?"success":H.status==="IN_PROGRESS"?"info":"pending"})),F=({active:H,payload:_,label:D})=>H&&_&&_.length?r.jsxs("div",{className:"bg-white dark:bg-gray-900 p-3 rounded-xl shadow-lg border border-gray-100 dark:border-gray-800",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:D}),_.map((C,O)=>r.jsxs("p",{className:"text-xs",style:{color:C.color},children:[C.name,": ",C.value.toLocaleString()]},O))]}):null;return T?r.jsxs("div",{className:"space-y-8 animate-fade-in",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("div",{className:"h-8 w-48 bg-gray-200 dark:bg-gray-800 rounded-lg skeleton"}),r.jsx("div",{className:"h-4 w-64 bg-gray-200 dark:bg-gray-800 rounded-lg mt-2 skeleton"})]})}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[1,2,3,4].map(H=>r.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl shadow-soft border border-gray-100 dark:border-gray-800/80",children:[r.jsx("div",{className:"h-12 w-12 bg-gray-200 dark:bg-gray-800 rounded-xl skeleton"}),r.jsx("div",{className:"h-4 w-24 bg-gray-200 dark:bg-gray-800 rounded mt-4 skeleton"}),r.jsx("div",{className:"h-8 w-16 bg-gray-200 dark:bg-gray-800 rounded mt-2 skeleton"})]},H))})]}):M?r.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[r.jsx("p",{className:"text-red-500 mb-4",children:M}),r.jsxs("button",{onClick:$,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl",children:[r.jsx(_o,{size:16}),"Retry"]})]}):r.jsxs("div",{className:"space-y-8 animate-fade-in",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Welcome back! Here's an overview of your campaigns."})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:()=>z("/contacts"),className:"flex items-center gap-2 px-4 py-2.5 bg-white dark:bg-surface-dark border border-gray-200 dark:border-gray-700 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800 transition-all duration-200 text-sm font-medium shadow-soft card-hover",children:[r.jsx(xi,{size:18,className:"icon-gray",strokeWidth:1.75}),r.jsx("span",{children:"Import"})]}),r.jsxs("button",{onClick:()=>z("/campaigns/new"),className:"flex items-center gap-2 px-4 py-2.5 btn-primary text-white rounded-xl text-sm font-medium shadow-glow",children:[r.jsx(ka,{size:18,strokeWidth:2}),r.jsx("span",{children:"New Campaign"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-6 shadow-soft border border-gray-100 dark:border-gray-800/80 relative overflow-hidden animate-slide-up",children:[r.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 dark:bg-primary/10 rounded-full -mr-16 -mt-16 blur-2xl"}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center",children:r.jsx(ui,{size:20,className:"text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"font-semibold",children:"AI Performance Insights"}),r.jsx("p",{className:"text-xs text-gray-400",children:"AI-powered analysis"})]})]}),r.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2 btn-primary text-white rounded-xl text-sm font-medium shadow-glow",children:[r.jsx(ui,{size:14}),f.length>0?"Analyze Again":"Analyze"]})]}),m?r.jsxs("div",{className:"flex items-center gap-3 py-4 text-gray-600 dark:text-gray-400",children:[r.jsx(an,{size:24,className:"animate-spin text-primary"}),r.jsx("p",{children:"Analyzing campaign data..."})]}):f.length>0?r.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:f.map((H,_)=>r.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-xl border border-gray-100 dark:border-gray-700/50 hover:border-primary/30 transition-colors",children:r.jsx("p",{className:"text-sm leading-relaxed text-gray-700 dark:text-gray-300",children:H})},_))}):r.jsxs("div",{className:"py-6 text-center bg-gray-50 dark:bg-gray-800/30 rounded-xl border border-gray-100 dark:border-gray-700/50 border-dashed",children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-2",children:"Get AI-powered recommendations to improve your delivery and read rates."}),r.jsx("button",{onClick:()=>p(!0),className:"text-sm text-primary hover:underline font-medium",children:"Start Analysis "})]})]})]}),y&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4 animate-fade-in backdrop-blur-sm",children:r.jsxs("div",{className:"bg-white dark:bg-surface-dark w-full max-w-lg rounded-xl shadow-2xl p-6 border border-gray-100 dark:border-gray-800",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-bold",children:"Configure Analysis"}),r.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(bt,{size:20})})]}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsx("div",{onClick:()=>j("all"),className:`p-4 rounded-xl border-2 cursor-pointer transition-all ${v==="all"?"border-primary bg-primary/5":"border-gray-100 dark:border-gray-800 hover:border-gray-300"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${v==="all"?"border-primary":"border-gray-300"}`,children:v==="all"&&r.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-primary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Analyze All Data"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Includes all past campaigns"})]})]})}),r.jsxs("div",{onClick:()=>j("select"),className:`p-4 rounded-xl border-2 cursor-pointer transition-all ${v==="select"?"border-primary bg-primary/5":"border-gray-100 dark:border-gray-800 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${v==="select"?"border-primary":"border-gray-300"}`,children:v==="select"&&r.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-primary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Select Specific Campaigns"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Compare specific blasts"})]})]}),v==="select"&&r.jsx("div",{className:"pl-8 space-y-2 max-h-48 overflow-y-auto pr-2 custom-scrollbar",children:c.map(H=>r.jsxs("div",{onClick:_=>{_.stopPropagation(),q(H.id)},className:"flex items-center gap-3 p-2 hover:bg-gray-100 dark:hover:bg-gray-800/50 rounded-lg cursor-pointer",children:[N.includes(H.id)?r.jsx(o1,{size:18,className:"text-primary"}):r.jsx(Mx,{size:18,className:"text-gray-400"}),r.jsx("span",{className:"text-sm truncate",children:H.name})]},H.id))})]})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-medium",children:"Cancel"}),r.jsx("button",{onClick:V,disabled:m||v==="select"&&N.length===0,className:"flex items-center gap-2 px-6 py-2 btn-primary text-white rounded-lg font-medium shadow-glow disabled:opacity-50",children:m?r.jsxs(r.Fragment,{children:[r.jsx(an,{size:16,className:"animate-spin"}),r.jsx("span",{children:"Analyzing..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ui,{size:16}),r.jsx("span",{children:"Generate Insights"})]})})]})]})}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:te.map((H,_)=>r.jsxs("div",{className:`stat-card bg-white dark:bg-surface-dark p-6 rounded-xl shadow-soft border border-gray-100 dark:border-gray-800/80 card-hover animate-slide-up stagger-${_+1}`,style:{opacity:0},children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 dark:bg-gray-800/80 flex items-center justify-center",children:r.jsx(H.icon,{size:22,className:"icon-gray",strokeWidth:1.75})}),H.trend==="up"&&r.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/20 px-2 py-1 rounded-full",children:[r.jsx(om,{size:12}),r.jsx("span",{children:"Up"})]})]}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium mb-1",children:H.label}),r.jsx("p",{className:"text-3xl font-bold tracking-tight",children:H.value}),r.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-2",children:H.change})]},_))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl shadow-soft border border-gray-100 dark:border-gray-800/80 animate-slide-up stagger-5",style:{opacity:0},children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center",children:r.jsx(cm,{size:20,className:"text-white",strokeWidth:1.75})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:"Message Trends"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Last 7 days"})]})]})}),r.jsx("div",{className:"h-64",children:r.jsx(em,{width:"100%",height:"100%",children:r.jsxs(Fv,{data:L(),margin:{top:10,right:10,left:-20,bottom:0},children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"colorSent",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),r.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),r.jsxs("linearGradient",{id:"colorDelivered",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),r.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),r.jsxs("linearGradient",{id:"colorRead",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.3}),r.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]})]}),r.jsx(tm,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),r.jsx(nm,{dataKey:"name",tick:{fontSize:12},stroke:"#9CA3AF"}),r.jsx(am,{tick:{fontSize:12},stroke:"#9CA3AF"}),r.jsx(sm,{content:r.jsx(F,{})}),r.jsx(fd,{type:"monotone",dataKey:"sent",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorSent)",name:"Sent"}),r.jsx(fd,{type:"monotone",dataKey:"delivered",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#colorDelivered)",name:"Delivered"}),r.jsx(fd,{type:"monotone",dataKey:"read",stroke:"#8b5cf6",strokeWidth:2,fillOpacity:1,fill:"url(#colorRead)",name:"Read"})]})})}),r.jsxs("div",{className:"flex justify-center gap-6 mt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Sent"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Delivered"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Read"})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl shadow-soft border border-gray-100 dark:border-gray-800/80 animate-slide-up stagger-6",style:{opacity:0},children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center",children:r.jsx(Md,{size:20,className:"text-white",strokeWidth:1.75})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:"Campaign Comparison"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Recent campaigns"})]})]})}),r.jsx("div",{className:"h-64",children:c.length>0?r.jsx(em,{width:"100%",height:"100%",children:r.jsxs(Kv,{data:B(),margin:{top:10,right:10,left:-20,bottom:0},children:[r.jsx(tm,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),r.jsx(nm,{dataKey:"name",tick:{fontSize:10},stroke:"#9CA3AF"}),r.jsx(am,{tick:{fontSize:12},stroke:"#9CA3AF"}),r.jsx(sm,{content:r.jsx(F,{})}),r.jsx(hd,{dataKey:"delivered",fill:"#10b981",radius:[4,4,0,0],name:"Delivered"}),r.jsx(hd,{dataKey:"read",fill:"#3b82f6",radius:[4,4,0,0],name:"Read"}),r.jsx(hd,{dataKey:"replied",fill:"#f59e0b",radius:[4,4,0,0],name:"Replied"})]})}):r.jsx("div",{className:"h-full flex items-center justify-center",children:r.jsx("p",{className:"text-gray-400 text-sm",children:"No campaigns yet"})})}),r.jsxs("div",{className:"flex justify-center gap-6 mt-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Delivered"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Read"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Replied"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-surface-dark p-6 rounded-xl shadow-soft border border-gray-100 dark:border-gray-800/80 animate-slide-up stagger-7",style:{opacity:0},children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-100 dark:bg-gray-800/80 flex items-center justify-center",children:r.jsx(om,{size:20,className:"icon-gray",strokeWidth:1.75})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:"Performance Overview"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Message delivery metrics"})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"text-center p-4 bg-emerald-50 dark:bg-emerald-900/10 rounded-xl border border-emerald-100 dark:border-emerald-900/20",children:[r.jsx("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:i?.totalDelivered?.toLocaleString()??0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Delivered"})]}),r.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/10 rounded-xl border border-blue-100 dark:border-blue-900/20",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:i?.totalRead?.toLocaleString()??0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Read"})]}),r.jsxs("div",{className:"text-center p-4 bg-amber-50 dark:bg-amber-900/10 rounded-xl border border-amber-100 dark:border-amber-900/20",children:[r.jsx("p",{className:"text-2xl font-bold text-amber-600 dark:text-amber-400",children:i?.totalReplied?.toLocaleString()??0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Replied"})]}),r.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/10 rounded-xl border border-red-100 dark:border-red-900/20",children:[r.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:i?.totalFailed?.toLocaleString()??0}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Failed"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[r.jsx("span",{className:"text-gray-500",children:"Delivery Rate"}),r.jsxs("span",{className:"font-semibold text-emerald-600",children:[i?.deliveryRate??0,"%"]})]}),r.jsx("div",{className:"h-3 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-full transition-all duration-700 ease-out",style:{width:`${i?.deliveryRate??0}%`}})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[r.jsx("span",{className:"text-gray-500",children:"Read Rate"}),r.jsxs("span",{className:"font-semibold text-blue-600",children:[i?.readRate??0,"%"]})]}),r.jsx("div",{className:"h-3 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full transition-all duration-700 ease-out",style:{width:`${i?.readRate??0}%`}})})]})]})]}),r.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl shadow-soft border border-gray-100 dark:border-gray-800/80 animate-slide-up stagger-8",style:{opacity:0},children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-100 dark:bg-gray-800/80 flex items-center justify-center",children:r.jsx(cm,{size:20,className:"icon-gray",strokeWidth:1.75})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:"Recent Campaigns"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Latest updates"})]})]}),r.jsx("div",{className:"space-y-4",children:G().length>0?G().map(H=>r.jsxs("div",{className:"flex items-start gap-3 group",children:[r.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${H.type==="success"?"bg-emerald-500":H.type==="pending"?"bg-amber-500":"bg-primary"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 truncate group-hover:text-gray-900 dark:group-hover:text-white transition-colors",children:H.action}),r.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:H.time})]})]},H.id)):r.jsx("p",{className:"text-sm text-gray-400 text-center py-4",children:"No campaigns yet"})}),r.jsxs("button",{onClick:()=>z("/campaigns"),className:"w-full mt-6 py-2.5 text-sm text-primary font-medium hover:bg-emerald-50 dark:hover:bg-emerald-900/10 rounded-lg transition-colors flex items-center justify-center gap-1",children:["View All Campaigns",r.jsx(c1,{size:14})]})]})]})]})},l2=({onClose:n,onSuccess:s})=>{const{t:i}=Wd(),[o,c]=A.useState(!1),[d,f]=A.useState(null),[g,m]=A.useState(!1),[x,y]=A.useState(null),[p,v]=A.useState(null),j=A.useCallback(M=>{M.preventDefault(),M.stopPropagation(),M.type==="dragenter"||M.type==="dragover"?c(!0):M.type==="dragleave"&&c(!1)},[]),N=A.useCallback(M=>{if(M.preventDefault(),M.stopPropagation(),c(!1),M.dataTransfer.files&&M.dataTransfer.files[0]){const w=M.dataTransfer.files[0];w.type==="text/csv"||w.name.endsWith(".csv")?(f(w),y(null)):y("Please upload a valid CSV file.")}},[]),k=M=>{M.preventDefault(),M.target.files&&M.target.files[0]&&(f(M.target.files[0]),y(null))},T=async()=>{if(d){m(!0),y(null);try{const M=await ce.importContacts(d);v(M),s&&s()}catch(M){y(M.message||"Failed to upload file")}finally{m(!1)}}},E=()=>{f(null),v(null),y(null)};return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:r.jsxs("div",{className:"bg-white dark:bg-surface-dark w-full max-w-md rounded-2xl shadow-2xl border border-gray-100 dark:border-gray-800 overflow-hidden animate-slide-up",children:[r.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-bold",children:i("import_contacts_title")}),r.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:r.jsx(bt,{size:20,className:"text-gray-500"})})]}),r.jsx("div",{className:"p-6",children:p?r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full flex items-center justify-center mx-auto mb-4 animate-scale-in",children:r.jsx(hn,{size:32,strokeWidth:3})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:i("import_complete")}),r.jsxs("div",{className:"flex justify-center gap-8 my-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:p.imported}),r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:i("imported_count")})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:p.skipped}),r.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:i("skipped_count")})]})]}),p.errors&&p.errors.length>0&&r.jsxs("div",{className:"text-left bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3 mb-6 max-h-32 overflow-y-auto text-xs text-gray-600 dark:text-gray-400",children:[r.jsx("p",{className:"font-medium mb-1",children:i("errors_label")}),r.jsx("ul",{className:"list-disc pl-4 space-y-1",children:p.errors.map((M,w)=>r.jsx("li",{children:M},w))})]}),r.jsxs("div",{className:"flex justify-center gap-3",children:[r.jsx("button",{onClick:E,className:"px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:i("import_more")}),r.jsx("button",{onClick:n,className:"px-6 py-2 btn-primary text-white rounded-xl text-sm font-medium shadow-glow",children:i("done")})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`relative border-2 border-dashed rounded-xl p-8 text-center transition-all duration-200 ${o?"border-primary bg-emerald-50 dark:bg-emerald-900/10":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,onDragEnter:j,onDragLeave:j,onDragOver:j,onDrop:N,children:[r.jsx("input",{type:"file",accept:".csv",onChange:k,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:g}),d?r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full flex items-center justify-center mb-3",children:r.jsx(cr,{size:24})}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:d.name}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[(d.size/1024).toFixed(1)," KB"]})]}):r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 text-gray-400 rounded-full flex items-center justify-center mb-3",children:r.jsx(xi,{size:24})}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:i("drag_drop_csv")}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:i("csv_columns")})]})]}),x&&r.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm rounded-lg flex items-center gap-2",children:[r.jsx(Ca,{size:16}),r.jsx("span",{children:x})]}),r.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[r.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:i("cancel")}),r.jsx("button",{onClick:T,disabled:!d||g,className:`flex items-center gap-2 px-6 py-2 rounded-xl text-sm font-medium text-white transition-all ${!d||g?"bg-gray-300 dark:bg-gray-700 cursor-not-allowed":"btn-primary shadow-glow hover:-translate-y-0.5"}`,children:g?r.jsxs(r.Fragment,{children:[r.jsx(an,{size:16,className:"animate-spin"}),i("importing")]}):i("import_button")})]})]})})]})})},o2=()=>{const n=Oo(),[s,i]=A.useState([]),[o,c]=A.useState(null),[d,f]=A.useState([]),[g,m]=A.useState(""),[x,y]=A.useState(!0),[p,v]=A.useState(null),[j,N]=A.useState(""),[k,T]=A.useState({page:1,limit:20,total:0,totalPages:1}),[E,M]=A.useState(!1),[w,z]=A.useState(!1),[L,B]=A.useState(!1),[$,V]=A.useState({name:"",phone:"",interests:"",tags:""}),[q,te]=A.useState(!1),[G,F]=A.useState(!1),H=A.useRef(null),_=tr.useCallback(async(X=1,P="",W="")=>{try{y(!0),v(null);const se={page:X,limit:k.limit};P&&(se.search=P),W&&(se.tag=W);const[le,fe,be]=await Promise.all([ce.getContacts(se),ce.getContactStats(),ce.getContactTags()]);i(le.contacts||[]),T(le.pagination||{page:1,limit:20,total:0,totalPages:1}),c(fe),f(be.tags||[])}catch(se){v(se.message)}finally{y(!1)}},[k.limit]);A.useEffect(()=>{_()},[_]),A.useEffect(()=>(H.current&&clearTimeout(H.current),H.current=setTimeout(()=>{_(1,j,g)},300),()=>clearTimeout(H.current)),[j,g,_]);const D=async X=>{X.preventDefault(),te(!0);try{const P=$.interests.split(",").map(se=>se.trim()).filter(se=>se),W=$.tags.split(",").map(se=>se.trim()).filter(se=>se);await ce.createContact({name:$.name,phone:$.phone,interests:P,tags:W}),M(!1),V({name:"",phone:"",interests:"",tags:""}),_(k.page,j,g),n.success("Contact added successfully!")}catch(P){n.error(P.message)}finally{te(!1)}},C=async X=>{if(confirm("Are you sure you want to delete this contact?"))try{await ce.deleteContact(X),_(k.page,j,g),n.success("Contact deleted")}catch(P){n.error(P.message)}},O=X=>{X>=1&&X<=k.totalPages&&_(X,j,g)},U=async()=>{F(!0);try{const X=await ce.fetchWhatsAppContacts();_(1,j,g),X.imported>0?n.success(`Imported ${X.imported} new contacts from WhatsApp!`):n.info(X.message||"No new contacts to import")}catch(X){n.error(X.message||"Failed to fetch WhatsApp contacts")}finally{F(!1)}},Z=X=>{m(X),B(!1)};return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Contacts"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Manage your audience and contact lists"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:U,disabled:G,className:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl text-sm font-medium shadow-glow card-hover disabled:opacity-50",children:[G?r.jsx(an,{size:18,className:"animate-spin"}):r.jsx(Dx,{size:18}),r.jsx("span",{children:G?"Fetching...":"Fetch WhatsApp"})]}),r.jsxs("button",{onClick:()=>z(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-white dark:bg-surface-dark border border-gray-200 dark:border-gray-700 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800 transition-all duration-200 text-sm font-medium shadow-soft card-hover",children:[r.jsx(xi,{size:18,className:"icon-gray",strokeWidth:1.75}),r.jsx("span",{children:"Import CSV"})]}),r.jsxs("button",{onClick:()=>M(!0),className:"flex items-center gap-2 px-4 py-2.5 btn-primary text-white rounded-xl text-sm font-medium shadow-glow",children:[r.jsx(ka,{size:18,strokeWidth:2}),r.jsx("span",{children:"Add Contact"})]})]})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Total Contacts",value:o?.total?.toLocaleString()??"-"},{label:"Active Lists",value:o?.listsCount??"-"},{label:"New This Week",value:o?.thisWeek??"-"},{label:"Showing",value:`${s.length} of ${k.total}`}].map((X,P)=>r.jsxs("div",{className:"bg-white dark:bg-surface-dark px-4 py-3 rounded-xl border border-gray-100 dark:border-gray-800/80 shadow-soft",children:[r.jsx("p",{className:"text-xs text-gray-400 font-medium",children:X.label}),r.jsx("p",{className:"text-xl font-bold mt-0.5",children:X.value})]},P))}),r.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl shadow-soft border border-gray-100 dark:border-gray-800/80 overflow-hidden",children:[r.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-800/80 flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Kd,{className:"absolute left-4 top-1/2 -translate-y-1/2 icon-gray",size:18,strokeWidth:1.75}),r.jsx("input",{type:"text",placeholder:"Search contacts by name or phone...",value:j,onChange:X=>N(X.target.value),className:"w-full pl-11 pr-4 py-2.5 rounded-xl bg-gray-50 dark:bg-background-dark border border-gray-200 dark:border-gray-700 focus:border-primary outline-none transition-all text-sm text-gray-900 dark:text-white placeholder:text-gray-400"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>B(!L),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl transition-colors text-sm font-medium border ${g?"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800 text-emerald-600":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:[r.jsx(Mo,{size:16,strokeWidth:1.75}),r.jsx("span",{children:g||"Filter by Tag"}),r.jsx(Ei,{size:14})]}),L&&r.jsxs("div",{className:"absolute top-full left-0 mt-2 w-48 bg-white dark:bg-surface-dark rounded-xl shadow-lg border border-gray-100 dark:border-gray-800 z-50 py-2 max-h-60 overflow-y-auto",children:[r.jsx("button",{onClick:()=>Z(""),className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-50 dark:hover:bg-gray-800 ${g?"text-gray-700 dark:text-gray-300":"text-emerald-600 font-medium"}`,children:"All Contacts"}),d.map(X=>r.jsx("button",{onClick:()=>Z(X),className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-50 dark:hover:bg-gray-800 ${g===X?"text-emerald-600 font-medium":"text-gray-700 dark:text-gray-300"}`,children:X},X)),d.length===0&&r.jsx("p",{className:"px-4 py-2 text-xs text-gray-400",children:"No tags created yet"})]})]}),r.jsxs("button",{onClick:()=>_(k.page,j,g),className:"flex items-center gap-2 px-4 py-2.5 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors text-sm font-medium border border-gray-200 dark:border-gray-700",children:[r.jsx(_o,{size:16,className:"icon-gray",strokeWidth:1.75}),r.jsx("span",{children:"Refresh"})]})]}),p&&r.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800 flex items-center gap-3 text-red-700 dark:text-red-400",children:[r.jsx(Ca,{size:18}),r.jsx("span",{children:p}),r.jsx("button",{onClick:()=>_(),className:"ml-auto text-sm underline",children:"Retry"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-left",children:[r.jsx("thead",{className:"bg-gray-50 dark:bg-background-dark text-gray-500 dark:text-gray-400 text-xs uppercase tracking-wider font-semibold",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 font-semibold",children:"Contact"}),r.jsx("th",{className:"px-6 py-4 font-semibold",children:"Phone"}),r.jsx("th",{className:"px-6 py-4 font-semibold",children:"Tags"}),r.jsx("th",{className:"px-6 py-4 font-semibold",children:"Lists"}),r.jsx("th",{className:"px-6 py-4 text-right font-semibold",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-gray-800/80",children:x?[...Array(5)].map((X,P)=>r.jsxs("tr",{children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-10 w-40 bg-gray-200 dark:bg-gray-800 rounded skeleton"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-32 bg-gray-200 dark:bg-gray-800 rounded skeleton"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-6 w-20 bg-gray-200 dark:bg-gray-800 rounded skeleton"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-6 w-24 bg-gray-200 dark:bg-gray-800 rounded skeleton"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"h-4 w-8 bg-gray-200 dark:bg-gray-800 rounded skeleton ml-auto"})})]},P)):s.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-400",children:j?"No contacts found matching your search":"No contacts yet. Add your first contact!"})}):s.map(X=>r.jsxs("tr",{className:"table-row-hover group",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center text-primary font-semibold text-sm",children:X.name.split(" ").map(P=>P[0]).join("").slice(0,2)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:X.name}),r.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",X.id]})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:"text-gray-600 dark:text-gray-300 font-mono text-sm flex items-center gap-2",children:[r.jsx(u1,{size:14,className:"icon-gray",strokeWidth:1.75}),X.phone]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[(X.tags||[]).slice(0,3).map((P,W)=>r.jsx("span",{className:"px-2.5 py-1 text-xs rounded-lg bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 font-medium",children:P},W)),(X.tags||[]).length>3&&r.jsxs("span",{className:"px-2 py-1 text-xs text-gray-400",children:["+",X.tags.length-3]}),(X.tags||[]).length===0&&r.jsx("span",{className:"text-xs text-gray-400",children:"No tags"})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[(X.lists||[]).slice(0,2).map((P,W)=>r.jsx("span",{className:"px-2.5 py-1 text-xs rounded-lg bg-gray-100 dark:bg-gray-800/80 text-gray-600 dark:text-gray-300 font-medium",children:P.name},W)),(X.lists||[]).length>2&&r.jsxs("span",{className:"px-2 py-1 text-xs text-gray-400",children:["+",X.lists.length-2]})]})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("button",{onClick:()=>C(X.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors opacity-0 group-hover:opacity-100",children:r.jsx(bt,{size:18,strokeWidth:1.75})})})]},X.id))})]})}),k.totalPages>1&&r.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 dark:border-gray-800/80 flex items-center justify-between",children:[r.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",(k.page-1)*k.limit+1,"-",Math.min(k.page*k.limit,k.total)," of ",k.total]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>O(k.page-1),disabled:k.page<=1,className:"px-3 py-1.5 text-sm rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-500 transition-colors disabled:opacity-50",children:"Previous"}),[...Array(Math.min(5,k.totalPages))].map((X,P)=>{const W=P+1;return r.jsx("button",{onClick:()=>O(W),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${k.page===W?"bg-primary text-white":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-500"}`,children:W},W)}),r.jsx("button",{onClick:()=>O(k.page+1),disabled:k.page>=k.totalPages,className:"px-3 py-1.5 text-sm rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-500 transition-colors disabled:opacity-50",children:"Next"})]})]})]}),E&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl shadow-xl max-w-md w-full p-6 animate-slide-up",style:{opacity:0,animationDelay:"0s"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Add Contact"}),r.jsx("button",{onClick:()=>M(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:r.jsx(bt,{size:20})})]}),r.jsxs("form",{onSubmit:D,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name *"}),r.jsx("input",{type:"text",value:$.name,onChange:X=>V({...$,name:X.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-gray-50 dark:bg-background-dark border border-gray-200 dark:border-gray-700 outline-none text-gray-900 dark:text-white placeholder:text-gray-400",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone *"}),r.jsx("input",{type:"text",value:$.phone,onChange:X=>V({...$,phone:X.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-gray-50 dark:bg-background-dark border border-gray-200 dark:border-gray-700 outline-none text-gray-900 dark:text-white placeholder:text-gray-400",placeholder:"+1234567890",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Interests (comma-separated)"}),r.jsx("input",{type:"text",value:$.interests,onChange:X=>V({...$,interests:X.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-gray-50 dark:bg-background-dark border border-gray-200 dark:border-gray-700 outline-none text-gray-900 dark:text-white placeholder:text-gray-400",placeholder:"marketing, sales"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tags (comma-separated)"}),r.jsx("input",{type:"text",value:$.tags,onChange:X=>V({...$,tags:X.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-gray-50 dark:bg-background-dark border border-gray-200 dark:border-gray-700 outline-none text-gray-900 dark:text-white placeholder:text-gray-400",placeholder:"VIP, Hot Lead"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Use tags to segment your contacts"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>M(!1),className:"flex-1 py-2.5 border border-gray-200 dark:border-gray-700 rounded-xl font-medium",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:q,className:"flex-1 py-2.5 btn-primary text-white rounded-xl font-medium disabled:opacity-50",children:q?"Saving...":"Add Contact"})]})]})]})}),w&&r.jsx(l2,{onClose:()=>z(!1),onSuccess:()=>{_(1,"")}})]})},c2=()=>{const n=Oo(),[s,i]=A.useState([]),[o,c]=A.useState(!0),[d,f]=A.useState(null),[g,m]=A.useState([]),[x,y]=A.useState(!1),[p,v]=A.useState(!1),[j,N]=A.useState(!1),[k,T]=A.useState(!1),[E,M]=A.useState({name:"",description:""}),[w,z]=A.useState([]),[L,B]=A.useState([]),[$,V]=A.useState(""),[q,te]=A.useState(!1),[G,F]=A.useState([]),[H,_]=A.useState(""),[D,C]=A.useState(""),[O,U]=A.useState(!1),Z=tr.useCallback(async()=>{try{c(!0);const ie=await ce.getLists();i(ie.lists||[])}catch{n.error("Failed to load lists")}finally{c(!1)}},[n]),X=tr.useCallback(async ie=>{try{y(!0);const ye=await ce.getList(ie);m(ye.members||[])}catch{n.error("Failed to load list members")}finally{y(!1)}},[n]),P=async()=>{try{const[ie,ye]=await Promise.all([ce.getContacts({limit:500}),ce.getContactTags()]);z(ie.contacts||[]),B(ye.tags||[])}catch{n.error("Failed to load contacts")}};A.useEffect(()=>{Z()},[Z]),A.useEffect(()=>{d&&X(d.id)},[d,X]);const W=async ie=>{ie.preventDefault(),U(!0);try{await ce.createList(E),n.success("List created successfully!"),v(!1),M({name:"",description:""}),Z()}catch{n.error(err.message)}finally{U(!1)}},se=async ie=>{if(confirm("Are you sure you want to delete this list?"))try{await ce.deleteList(ie),n.success("List deleted"),d?.id===ie&&(f(null),m([])),Z()}catch{n.error(err.message)}},le=async()=>{if(G.length===0){n.warning("Select at least one contact");return}U(!0);try{const ie=await ce.addContactsToList(d.id,G);n.success(`Added ${ie.added} contacts, ${ie.skipped} already in list`),N(!1),F([]),X(d.id),Z()}catch{n.error(err.message)}finally{U(!1)}},fe=async()=>{if(!D){n.warning("Select a source list");return}U(!0);try{const ye=(await ce.getList(D)).members.map(Ye=>Ye.id);if(ye.length===0){n.info("Source list is empty"),U(!1);return}const Se=await ce.addContactsToList(d.id,ye);n.success(`Added ${Se.added} contacts from list, ${Se.skipped} already present`),T(!1),C(""),X(d.id),Z()}catch{n.error(err.message)}finally{U(!1)}},be=async ie=>{try{await ce.removeContactFromList(d.id,ie),n.success("Contact removed from list"),X(d.id),Z()}catch{n.error(err.message)}},me=()=>{P(),F([]),_(""),V(""),te(!1),N(!0)},oe=ie=>{F(ye=>ye.includes(ie)?ye.filter(Se=>Se!==ie):[...ye,ie])},ue=w.filter(ie=>{const ye=ie.name.toLowerCase().includes(H.toLowerCase())||ie.phone.includes(H),Se=!$||ie.tags&&ie.tags.includes($);return ye&&Se}),ke=ue.filter(ie=>!g.some(ye=>ye.id===ie.id)),we=()=>{const ie=ke.map(ye=>ye.id);F(ye=>{const Se=new Set(ye);return ie.forEach(Ye=>Se.add(Ye)),Array.from(Se)})},pe=()=>{F([])},Ne=s.filter(ie=>ie.id!==d?.id);return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Contact Lists"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Organize your contacts into targeted lists"})]}),r.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-4 py-2.5 btn-primary text-white rounded-xl text-sm font-medium shadow-glow",children:[r.jsx(ka,{size:18,strokeWidth:2}),r.jsx("span",{children:"Create List"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl shadow-soft border border-gray-100 dark:border-gray-800/80 overflow-hidden",children:[r.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-800/80 flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold",children:"Your Lists"}),r.jsx("button",{onClick:Z,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:r.jsx(_o,{size:16,className:"icon-gray"})})]}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:o?r.jsx("div",{className:"p-4 space-y-3",children:[1,2,3].map(ie=>r.jsx("div",{className:"h-16 bg-gray-100 dark:bg-gray-800 rounded-xl skeleton"},ie))}):s.length===0?r.jsx("p",{className:"p-4 text-center text-gray-400",children:"No lists yet. Create your first list!"}):r.jsx("div",{className:"p-2",children:s.map(ie=>r.jsxs("button",{onClick:()=>f(ie),className:`w-full text-left p-3 rounded-xl transition-all mb-1 ${d?.id===ie.id?"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center",children:r.jsx(gn,{size:18,className:"text-primary"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:ie.name}),r.jsxs("p",{className:"text-xs text-gray-400",children:[ie.memberCount," contacts"]})]})]}),r.jsx("button",{onClick:ye=>{ye.stopPropagation(),se(ie.id)},className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:r.jsx(sn,{size:14})})]}),ie.description&&r.jsx("p",{className:"text-xs text-gray-400 mt-1 pl-13",children:ie.description})]},ie.id))})})]}),r.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-surface-dark rounded-2xl shadow-soft border border-gray-100 dark:border-gray-800/80 overflow-hidden",children:d?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-800/80 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:d.name}),r.jsxs("p",{className:"text-xs text-gray-400",children:[d.memberCount," contacts"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>T(!0),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-xl transition-colors",children:[r.jsx(gn,{size:16}),"From List"]}),r.jsxs("button",{onClick:me,className:"flex items-center gap-2 px-3 py-2 text-sm font-medium btn-primary text-white rounded-xl",children:[r.jsx(um,{size:16}),"Add Contacts"]})]})]}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:x?r.jsx("div",{className:"p-4 space-y-2",children:[1,2,3,4].map(ie=>r.jsx("div",{className:"h-14 bg-gray-100 dark:bg-gray-800 rounded-xl skeleton"},ie))}):g.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-60 text-gray-400",children:[r.jsx(um,{size:40,strokeWidth:1,className:"mb-3 opacity-50"}),r.jsx("p",{children:"This list is empty"}),r.jsx("p",{className:"text-sm",children:"Add contacts to get started"})]}):r.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-800/80",children:g.map(ie=>r.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center text-primary font-semibold text-sm",children:ie.name.split(" ").map(ye=>ye[0]).join("").slice(0,2)}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:ie.name}),r.jsx("p",{className:"text-xs text-gray-400",children:ie.phone})]})]}),r.jsx("button",{onClick:()=>be(ie.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:r.jsx(bt,{size:16})})]},ie.id))})})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-80 text-gray-400",children:[r.jsx(gn,{size:48,strokeWidth:1,className:"mb-4 opacity-50"}),r.jsx("p",{className:"text-lg font-medium",children:"Select a list"}),r.jsx("p",{className:"text-sm",children:"Choose a list from the sidebar to view its contacts"})]})})]}),p&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl shadow-xl max-w-md w-full p-6 animate-slide-up",style:{opacity:0},children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Create New List"}),r.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:r.jsx(bt,{size:20})})]}),r.jsxs("form",{onSubmit:W,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"List Name *"}),r.jsx("input",{type:"text",value:E.name,onChange:ie=>M({...E,name:ie.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-gray-50 dark:bg-background-dark border border-gray-200 dark:border-gray-700 outline-none",placeholder:"e.g. VIP Customers",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),r.jsx("textarea",{value:E.description,onChange:ie=>M({...E,description:ie.target.value}),className:"w-full px-4 py-2.5 rounded-xl bg-gray-50 dark:bg-background-dark border border-gray-200 dark:border-gray-700 outline-none resize-none",rows:3,placeholder:"Optional description..."})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 py-2.5 border border-gray-200 dark:border-gray-700 rounded-xl font-medium",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:O,className:"flex-1 py-2.5 btn-primary text-white rounded-xl font-medium disabled:opacity-50",children:O?"Creating...":"Create List"})]})]})]})}),j&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl shadow-xl max-w-lg w-full p-6 animate-slide-up max-h-[80vh] flex flex-col",style:{opacity:0},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-xl font-bold",children:["Add Contacts to ",d?.name]}),r.jsx("button",{onClick:()=>N(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:r.jsx(bt,{size:20})})]}),r.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:[G.length," selected"]}),r.jsxs("div",{className:"flex gap-2 mb-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Kd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",placeholder:"Search contacts...",value:H,onChange:ie=>_(ie.target.value),className:"w-full pl-10 pr-4 py-2.5 rounded-xl bg-gray-50 dark:bg-background-dark border border-gray-200 dark:border-gray-700 outline-none"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>te(!q),className:`flex items-center gap-2 px-3 py-2.5 rounded-xl border transition-colors ${$?"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800 text-emerald-600":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[r.jsx(Mo,{size:16}),r.jsx("span",{className:"text-sm",children:$||"Tag"}),r.jsx(Ei,{size:14})]}),q&&r.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white dark:bg-surface-dark rounded-xl shadow-lg border border-gray-100 dark:border-gray-800 z-50 py-2 max-h-48 overflow-y-auto",children:[r.jsx("button",{onClick:()=>{V(""),te(!1)},className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-50 dark:hover:bg-gray-800 ${$?"":"text-emerald-600 font-medium"}`,children:"All Tags"}),L.map(ie=>r.jsx("button",{onClick:()=>{V(ie),te(!1)},className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-50 dark:hover:bg-gray-800 ${$===ie?"text-emerald-600 font-medium":""}`,children:ie},ie)),L.length===0&&r.jsx("p",{className:"px-4 py-2 text-xs text-gray-400",children:"No tags"})]})]})]}),r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsxs("button",{onClick:we,disabled:ke.length===0,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium bg-blue-50 dark:bg-blue-900/20 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(Ox,{size:14}),"Add All (",ke.length,")"]}),G.length>0&&r.jsxs("button",{onClick:pe,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:[r.jsx(bt,{size:14}),"Clear"]}),r.jsxs("span",{className:"ml-auto text-xs text-gray-400",children:["Showing ",ue.length," contacts"]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-100 dark:border-gray-800 rounded-xl divide-y divide-gray-100 dark:divide-gray-800/80 max-h-60",children:ue.length===0?r.jsx("p",{className:"p-4 text-center text-gray-400",children:"No contacts found"}):ue.map(ie=>{const ye=G.includes(ie.id),Se=g.some(Ye=>Ye.id===ie.id);return r.jsxs("button",{onClick:()=>!Se&&oe(ie.id),disabled:Se,className:`w-full flex items-center justify-between p-3 transition-colors ${Se?"opacity-50 cursor-not-allowed":ye?"bg-emerald-50 dark:bg-emerald-900/20":"hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center text-primary text-xs font-semibold",children:ie.name.split(" ").map(Ye=>Ye[0]).join("").slice(0,2)}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-medium text-sm",children:ie.name}),r.jsx("p",{className:"text-xs text-gray-400",children:ie.phone})]})]}),Se?r.jsx("span",{className:"text-xs text-gray-400",children:"Already in list"}):ye?r.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-500 flex items-center justify-center",children:r.jsx(hn,{size:12,className:"text-white"})}):r.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-gray-300"})]},ie.id)})}),r.jsxs("div",{className:"flex gap-3 pt-4 mt-4 border-t border-gray-100 dark:border-gray-800",children:[r.jsx("button",{onClick:()=>N(!1),className:"flex-1 py-2.5 border border-gray-200 dark:border-gray-700 rounded-xl font-medium",children:"Cancel"}),r.jsx("button",{onClick:le,disabled:O||G.length===0,className:"flex-1 py-2.5 btn-primary text-white rounded-xl font-medium disabled:opacity-50",children:O?"Adding...":`Add ${G.length} Contact${G.length!==1?"s":""}`})]})]})}),k&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl shadow-xl max-w-md w-full p-6 animate-slide-up",style:{opacity:0},children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Copy From Another List"}),r.jsx("button",{onClick:()=>T(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:r.jsx(bt,{size:20})})]}),r.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["All contacts from the selected list will be copied to ",r.jsx("strong",{children:d?.name})]}),r.jsx("div",{className:"space-y-2 mb-6",children:Ne.length===0?r.jsx("p",{className:"text-center text-gray-400 py-4",children:"No other lists available"}):Ne.map(ie=>r.jsxs("button",{onClick:()=>C(ie.id.toString()),className:`w-full flex items-center justify-between p-3 rounded-xl transition-all ${D===ie.id.toString()?"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800":"border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(gn,{size:18,className:"text-gray-400"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-medium",children:ie.name}),r.jsxs("p",{className:"text-xs text-gray-400",children:[ie.memberCount," contacts"]})]})]}),D===ie.id.toString()&&r.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-500 flex items-center justify-center",children:r.jsx(hn,{size:12,className:"text-white"})})]},ie.id))}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:()=>T(!1),className:"flex-1 py-2.5 border border-gray-200 dark:border-gray-700 rounded-xl font-medium",children:"Cancel"}),r.jsx("button",{onClick:fe,disabled:O||!D,className:"flex-1 py-2.5 btn-primary text-white rounded-xl font-medium disabled:opacity-50",children:O?"Copying...":"Copy Contacts"})]})]})})]})},u2=()=>{const[n,s]=A.useState(""),[i,o]=A.useState(""),[c,d]=A.useState(!1),[f,g]=A.useState(""),[m,x]=A.useState(!1),y=ss(),p=$x(),{login:v,register:j,isAuthenticated:N}=Pd();tr.useEffect(()=>{if(N){const T=p.state?.from?.pathname||"/";y(T,{replace:!0})}},[N,y,p]);const k=async T=>{T.preventDefault(),g(""),d(!0);try{m?await j(n,i):await v(n,i);const E=p.state?.from?.pathname||"/";y(E,{replace:!0})}catch(E){g(E.message||"An error occurred")}finally{d(!1)}};return r.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background-light via-white to-emerald-50 dark:from-background-dark dark:via-surface-dark dark:to-background-dark transition-colors duration-300 p-4",children:[r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/5 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-accent/5 rounded-full blur-3xl"})]}),r.jsxs("div",{className:"relative w-full max-w-md animate-slide-up",style:{opacity:0,animationDelay:"0.1s"},children:[r.jsxs("div",{className:"bg-white dark:bg-surface-dark p-8 md:p-10 rounded-3xl shadow-soft border border-gray-100 dark:border-gray-800/80",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-2xl flex items-center justify-center mx-auto mb-5",children:r.jsx(d1,{size:28,className:"icon-gray",strokeWidth:1.5})}),r.jsx("h1",{className:"text-3xl font-bold gradient-text mb-2",children:m?"Create Account":"Welcome Back"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:m?"Sign up to start managing campaigns":"Sign in to manage your campaigns"})]}),f&&r.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-center gap-3 text-red-700 dark:text-red-400",children:[r.jsx(Ca,{size:20}),r.jsx("span",{className:"text-sm",children:f})]}),r.jsxs("form",{onSubmit:k,className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username"}),r.jsxs("div",{className:"relative",children:[r.jsx(f1,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 icon-gray",strokeWidth:1.75}),r.jsx("input",{type:"text",value:n,onChange:T=>s(T.target.value),className:"w-full pl-11 pr-4 py-3.5 rounded-xl bg-gray-50 dark:bg-background-dark border border-gray-200 dark:border-gray-700 outline-none transition-all text-base text-gray-900 dark:text-white placeholder:text-gray-400",placeholder:"Enter your username",required:!0,autoComplete:"username"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(h1,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 icon-gray",strokeWidth:1.75}),r.jsx("input",{type:"password",value:i,onChange:T=>o(T.target.value),className:"w-full pl-11 pr-4 py-3.5 rounded-xl bg-gray-50 dark:bg-background-dark border border-gray-200 dark:border-gray-700 outline-none transition-all text-base text-gray-900 dark:text-white placeholder:text-gray-400",placeholder:m?"Create a password (min 6 chars)":"Enter your password",required:!0,minLength:m?6:void 0,autoComplete:m?"new-password":"current-password"})]})]}),r.jsx("button",{type:"submit",disabled:c,className:"w-full py-3.5 px-4 btn-primary text-white font-semibold rounded-xl shadow-glow transition-all flex items-center justify-center gap-2 disabled:opacity-70",children:c?r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:m?"Create Account":"Sign In"}),r.jsx(g1,{size:18,strokeWidth:2})]})})]}),r.jsxs("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400 mt-8",children:[m?"Already have an account?":"Don't have an account?"," ",r.jsx("button",{onClick:()=>{x(!m),g("")},className:"text-primary hover:underline font-medium",children:m?"Sign In":"Create one"})]})]}),r.jsxs("p",{className:"text-center text-xs text-gray-400 mt-6",children:[r.jsx("span",{className:"gradient-text font-semibold",children:"WhatsSMS"}),"  WhatsApp Marketing Platform"]})]})]})},ap=({currentContent:n="",onApplyText:s,contentType:i="template"})=>{const[o,c]=A.useState([]),[d,f]=A.useState(""),[g,m]=A.useState(!1),[x,y]=A.useState(null),[p,v]=A.useState(!1),j=A.useRef(null),N=A.useRef(null),k=[{label:" Analyze my text",prompt:"Analyze my current text and give feedback"},{label:" Make it shorter",prompt:"Make my current text shorter and more concise"},{label:" Add emojis",prompt:"Add relevant emojis to my current text"},{label:" Improve CTA",prompt:"Improve the call-to-action in my text"}],T=L=>L.split(/(\*\*[^*]+\*\*)/g).map(($,V)=>$.startsWith("**")&&$.endsWith("**")?r.jsx("strong",{className:"font-semibold",children:$.slice(2,-2)},V):$);A.useEffect(()=>{j.current?.scrollIntoView({behavior:"smooth"})},[o]),A.useEffect(()=>{p||N.current?.focus()},[p]);const E=async(L=null)=>{const B=L||d.trim();if(!B||g)return;const $={role:"user",content:B};c(V=>[...V,$]),f(""),m(!0);try{const V=[...o,$],q=await ef.chatAssistant(V,n,i);c(te=>[...te,{role:"assistant",content:q}])}catch{c(V=>[...V,{role:"assistant",content:"Sorry, I encountered an error. Please try again.",isError:!0}])}finally{m(!1)}},M=async(L,B)=>{try{await navigator.clipboard.writeText(L),y(B),setTimeout(()=>y(null),2e3)}catch($){console.error("Failed to copy:",$)}},w=L=>{s&&s(L)},z=L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),E())};return p?r.jsxs("button",{onClick:()=>v(!1),className:"w-full flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl text-sm font-medium hover:opacity-90 transition-opacity",children:[r.jsx(md,{size:16}),r.jsx("span",{children:"AI Assistant"}),r.jsx(m1,{size:16})]}):r.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-surface-dark rounded-xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-800 bg-gradient-to-r from-emerald-500/10 to-teal-600/10",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-emerald-500 to-teal-600 flex items-center justify-center",children:r.jsx(ui,{size:16,className:"text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-sm",children:"AI Assistant"}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Ask me anything about your ",i]})]})]}),r.jsx("button",{onClick:()=>v(!0),className:"p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:r.jsx(Ei,{size:18})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{minHeight:"200px"},children:o.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-8",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-emerald-500/20 to-teal-600/20 flex items-center justify-center mb-3",children:r.jsx(md,{size:24,className:"text-emerald-500"})}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:["Hi! I can help you write, edit, or analyze your ",i,"."]}),r.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:k.map((L,B)=>r.jsx("button",{onClick:()=>E(L.prompt),disabled:g,className:"px-3 py-1.5 text-xs bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors disabled:opacity-50",children:L.label},B))})]}):r.jsxs(r.Fragment,{children:[o.map((L,B)=>r.jsx("div",{className:`flex ${L.role==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[85%] rounded-2xl px-4 py-2.5 ${L.role==="user"?"bg-primary text-white rounded-br-md":L.isError?"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded-bl-md":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded-bl-md"}`,children:[r.jsx("p",{className:"text-sm whitespace-pre-wrap",children:L.role==="assistant"?T(L.content):L.content}),L.role==="assistant"&&!L.isError&&r.jsxs("div",{className:"flex gap-2 mt-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("button",{onClick:()=>M(L.content,B),className:"flex items-center gap-1 text-xs text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:x===B?r.jsxs(r.Fragment,{children:[r.jsx(hn,{size:12,className:"text-green-500"}),r.jsx("span",{className:"text-green-500",children:"Copied!"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Id,{size:12}),r.jsx("span",{children:"Copy"})]})}),s&&r.jsxs("button",{onClick:()=>w(L.content),className:"flex items-center gap-1 text-xs text-primary hover:text-primary/80 transition-colors",children:[r.jsx(md,{size:12}),r.jsx("span",{children:"Apply"})]})]})]})},B)),g&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-2xl rounded-bl-md px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(an,{size:14,className:"animate-spin text-emerald-500"}),r.jsx("span",{className:"text-sm text-gray-500",children:"Thinking..."})]})})}),r.jsx("div",{ref:j})]})}),o.length>0&&r.jsx("div",{className:"px-4 pb-2 flex gap-2 overflow-x-auto",children:k.slice(0,3).map((L,B)=>r.jsx("button",{onClick:()=>E(L.prompt),disabled:g,className:"flex-shrink-0 px-2.5 py-1 text-xs bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors disabled:opacity-50",children:L.label},B))}),r.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-black/20",children:r.jsxs("div",{className:"flex items-end gap-2",children:[r.jsx("textarea",{ref:N,value:d,onChange:L=>f(L.target.value),onKeyDown:z,placeholder:"Ask me anything...",rows:1,className:"flex-1 px-4 py-2.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl outline-none focus:border-primary resize-none text-sm min-h-[42px] max-h-[120px] text-gray-900 dark:text-white placeholder:text-gray-400",style:{height:"auto"},disabled:g}),r.jsx("button",{onClick:()=>E(),disabled:!d.trim()||g,className:"p-2.5 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90 transition-opacity",children:r.jsx(To,{size:18})})]})})]})},d2=()=>{const[n,s]=A.useState(1),[i,o]=A.useState([]),[c,d]=A.useState([]),[f,g]=A.useState(!0),[m,x]=A.useState(!1),[y,p]=A.useState(null),v=ss(),j=Oo(),[N,k]=A.useState(!1),[T,E]=A.useState(null),[M,w]=A.useState({name:"",messageBody:"",selectedLists:[],scheduledAt:"",files:[]}),[z,L]=A.useState(!1);A.useEffect(()=>{B()},[]);const B=async()=>{try{g(!0);const[D,C]=await Promise.all([ce.getLists(),ce.getTemplates()]);o(D.lists||[]),d(C.templates||[])}catch(D){p(D.message)}finally{g(!1)}},$=[{number:1,label:"Compose",icon:cr},{number:2,label:"Recipients",icon:gn},{number:3,label:"Review",icon:hn}],V=D=>{w(C=>({...C,selectedLists:C.selectedLists.includes(D)?C.selectedLists.filter(O=>O!==D):[...C.selectedLists,D]}))},q=D=>{let C=D.content,O=[];try{const U=JSON.parse(D.content);C=U.body||D.content,U.files&&(O=U.files)}catch{console.log("Template is not JSON, using as raw text")}w(U=>({...U,messageBody:C,files:O}))},te=()=>i.filter(D=>M.selectedLists.includes(D.id)).reduce((D,C)=>D+(C.memberCount||0),0),G=()=>n===1?M.name&&M.messageBody:n===2?M.selectedLists.length>0:!0,F=async()=>{x(!0),p(null);try{const D=await ce.createCampaign({name:M.name,messageBody:M.messageBody,listIds:M.selectedLists,scheduledAt:M.scheduledAt||null,mediaIds:M.files.map(C=>C.mediaId)});E(D.campaign.id),k(!0)}catch(D){p(D.message),j.error(D.message||"Failed to create campaign")}finally{x(!1)}},H=async D=>{const C=D.target.files[0];if(C){if(C.size>10*1024*1024){p("File size must be less than 10MB");return}L(!0);try{const O=await ce.uploadFile(C);w(U=>({...U,files:[...U.files,{mediaId:O.mediaId,filename:O.filename||C.name,mimetype:O.mimeType||C.type}]}))}catch{p("Failed to upload file")}finally{L(!1),D.target.value=null}}},_=D=>{w(C=>({...C,files:C.files.filter((O,U)=>U!==D)}))};return f?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(an,{className:"w-8 h-8 animate-spin text-primary"})}):r.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Campaign"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Compose and send messages to your contacts"})]}),r.jsxs("div",{className:"flex items-center justify-between relative",children:[r.jsx("div",{className:"absolute top-6 left-0 right-0 h-0.5 bg-gray-200 dark:bg-gray-800 mx-16"}),r.jsx("div",{className:"absolute top-6 left-0 h-0.5 bg-primary mx-16 transition-all duration-500",style:{width:`${(n-1)/($.length-1)*100}%`}}),$.map((D,C)=>r.jsxs("div",{className:"flex flex-col items-center relative z-10 animate-slide-up",style:{animationDelay:`${C*.1}s`,opacity:0},children:[r.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center transition-all duration-300 ${n>D.number||n===D.number?"bg-primary text-white shadow-glow":"bg-gray-100 dark:bg-gray-800 text-gray-400"}`,children:n>D.number?r.jsx(hn,{size:20,strokeWidth:2.5}):r.jsx(D.icon,{size:20,strokeWidth:1.75})}),r.jsx("span",{className:`mt-3 text-sm font-medium ${n>=D.number?"text-gray-900 dark:text-white":"text-gray-400"}`,children:D.label})]},D.number))]}),y&&r.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-center gap-3 text-red-700 dark:text-red-400",children:[r.jsx(Ca,{size:20}),r.jsx("span",{children:y}),r.jsx("button",{onClick:()=>p(null),className:"ml-auto",children:r.jsx(bt,{size:18})})]}),r.jsxs("div",{className:"bg-white dark:bg-surface-dark p-8 rounded-2xl shadow-soft border border-gray-100 dark:border-gray-800/80",children:[n===1&&r.jsxs("div",{className:"flex gap-6 animate-fade-in",children:[r.jsxs("div",{className:"flex-1 space-y-6",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Compose Message"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Campaign Name *"}),r.jsx("input",{type:"text",value:M.name,onChange:D=>w({...M,name:D.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-background-dark border border-gray-200 dark:border-gray-700 outline-none focus:border-primary transition-colors text-gray-900 dark:text-white placeholder:text-gray-400",placeholder:"e.g., January Newsletter"})]}),c.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Use Template"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:c.map(D=>r.jsx("button",{onClick:()=>q(D),className:"px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",children:D.name},D.id))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Message Content"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"file",id:"file-upload",className:"hidden",accept:"image/*,application/pdf",onChange:H,disabled:z}),r.jsx("label",{htmlFor:"file-upload",className:`p-2 bg-gray-100 dark:bg-gray-800 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 cursor-pointer transition-colors ${z?"opacity-50 cursor-not-allowed":""}`,title:"Attach Image or PDF",children:z?r.jsx(an,{size:16,className:"animate-spin text-gray-500"}):r.jsx(pi,{size:16,className:"text-gray-500 dark:text-gray-400"})})]})]}),r.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Use ",r.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:"{{name}}"})," or ",r.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:"{{phone}}"})," for personalization"]}),r.jsx("textarea",{value:M.messageBody,onChange:D=>w({...M,messageBody:D.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-background-dark border border-gray-200 dark:border-gray-700 outline-none focus:border-primary transition-colors resize-none h-40 text-gray-900 dark:text-white placeholder:text-gray-400",placeholder:"Hey {{name}}, we have exciting news for you..."}),r.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[M.messageBody.length," characters"]}),M.files&&M.files.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:M.files.map((D,C)=>r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm text-xs",children:[r.jsx(pi,{size:12,className:"text-gray-400"}),r.jsx("span",{className:"max-w-[150px] truncate text-gray-600 dark:text-gray-300",children:D.filename}),r.jsx("button",{type:"button",onClick:()=>_(C),className:"text-gray-400 hover:text-red-500",children:r.jsx(bt,{size:12})})]},C))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Schedule (Optional)"}),r.jsx("input",{type:"datetime-local",value:M.scheduledAt,onChange:D=>w({...M,scheduledAt:D.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-background-dark border border-gray-200 dark:border-gray-700 outline-none focus:border-primary transition-colors"})]})]}),r.jsx("div",{className:"w-[380px] flex-shrink-0",children:r.jsx(ap,{currentContent:M.messageBody,contentType:"campaign",onApplyText:D=>w(C=>({...C,messageBody:D}))})})]}),n===2&&r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Select Recipients"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Choose which contact lists will receive this campaign"}),i.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-400 mb-4",children:"No contact lists found"}),r.jsx("button",{onClick:()=>v("/contacts"),className:"text-primary hover:underline",children:"Create a list first"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map((D,C)=>r.jsx("button",{onClick:()=>V(D.id),className:`p-4 rounded-xl border-2 text-left transition-all duration-200 animate-slide-up ${M.selectedLists.includes(D.id)?"border-primary bg-emerald-50 dark:bg-emerald-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,style:{animationDelay:`${C*.05}s`,opacity:0},children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:D.name}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[D.memberCount||0," contacts"]})]}),r.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${M.selectedLists.includes(D.id)?"border-primary bg-primary text-white":"border-gray-300 dark:border-gray-600"}`,children:M.selectedLists.includes(D.id)&&r.jsx(hn,{size:14})})]})},D.id))}),r.jsx("div",{className:"pt-4 border-t border-gray-100 dark:border-gray-800",children:r.jsxs("p",{className:"text-lg font-medium",children:["Total Recipients: ",r.jsx("span",{className:"text-primary",children:te()})]})})]}),n===3&&r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Review Campaign"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-background-dark rounded-xl",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Campaign Name"}),r.jsx("p",{className:"font-medium",children:M.name})]}),r.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-background-dark rounded-xl",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Message"}),r.jsx("p",{className:"whitespace-pre-wrap",children:M.messageBody})]}),r.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-background-dark rounded-xl",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Recipients"}),r.jsxs("p",{className:"font-medium",children:[te()," contacts from ",M.selectedLists.length," lists"]}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.filter(D=>M.selectedLists.includes(D.id)).map(D=>r.jsx("span",{className:"px-2 py-1 text-xs bg-gray-200 dark:bg-gray-800 rounded-lg",children:D.name},D.id))})]}),M.scheduledAt&&r.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-background-dark rounded-xl",children:[r.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Scheduled For"}),r.jsx("p",{className:"font-medium",children:new Date(M.scheduledAt).toLocaleString()})]})]})]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("button",{onClick:()=>n>1?s(n-1):v("/campaigns"),className:"px-6 py-3 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors font-medium",children:n===1?"Cancel":"Back"}),n<3?r.jsxs("button",{onClick:()=>s(n+1),disabled:!G(),className:"flex items-center gap-2 px-6 py-3 btn-primary text-white rounded-xl font-medium shadow-glow disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx("span",{children:"Continue"}),r.jsx(Lx,{size:18})]}):r.jsx("button",{onClick:F,disabled:m,className:"flex items-center gap-2 px-6 py-3 btn-primary text-white rounded-xl font-medium shadow-glow disabled:opacity-50",children:m?r.jsxs(r.Fragment,{children:[r.jsx(an,{size:18,className:"animate-spin"}),r.jsx("span",{children:"Creating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(hn,{size:18}),r.jsx("span",{children:"Create Campaign"})]})})]}),N&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:r.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl shadow-2xl p-8 max-w-sm w-full text-center border border-gray-100 dark:border-gray-800",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(hn,{size:32,strokeWidth:3})}),r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Campaign Created!"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Your campaign has been successfully saved as a draft. What would you like to do next?"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:async()=>{try{j.success("Campaign started! Sending messages..."),k(!1),v("/campaigns"),await ce.sendCampaign(T)}catch(D){j.error("Failed to start campaign: "+D.message)}},className:"w-full py-3 btn-primary text-white rounded-xl font-medium shadow-glow flex items-center justify-center gap-2",children:[r.jsx(To,{size:18}),r.jsx("span",{children:"Send Now"})]}),r.jsxs("button",{onClick:()=>v("/campaigns"),className:"w-full py-3 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-medium transition-colors flex items-center justify-center gap-2",children:[r.jsx(_x,{size:18}),r.jsx("span",{children:"Go to Dashboard"})]})]})]})})]})},f2=()=>{const[n,s]=A.useState([]),[i,o]=A.useState(null),[c,d]=A.useState(!0),[f,g]=A.useState(null),[m,x]=A.useState(""),y=ss(),p=tr.useCallback(async()=>{try{d(!0),g(null);const[E,M]=await Promise.all([ce.getCampaigns({status:m||void 0,limit:50}),ce.getCampaignStats()]);s(E.campaigns||[]),o(M)}catch(E){g(E.message)}finally{d(!1)}},[m]);A.useEffect(()=>{p()},[p]);const v=async E=>{if(confirm("Start sending this campaign now?"))try{await ce.sendCampaign(E),p()}catch(M){alert(M.message)}},j=async E=>{if(confirm("Stop this campaign?"))try{await ce.stopCampaign(E),p()}catch(M){alert(M.message)}},N=async E=>{if(confirm("Delete this campaign?"))try{await ce.deleteCampaign(E),p()}catch(M){alert(M.message)}},k=E=>{switch(E){case"COMPLETED":return{bg:"bg-blue-50 dark:bg-blue-900/20",text:"text-blue-600 dark:text-blue-400",icon:Td,label:"Completed"};case"IN_PROGRESS":return{bg:"bg-emerald-50 dark:bg-emerald-900/20",text:"text-emerald-600 dark:text-emerald-400",icon:Ps,label:"In Progress"};case"SCHEDULED":return{bg:"bg-amber-50 dark:bg-amber-900/20",text:"text-amber-600 dark:text-amber-400",icon:mi,label:"Scheduled"};case"STOPPED":return{bg:"bg-red-50 dark:bg-red-900/20",text:"text-red-600 dark:text-red-400",icon:Tx,label:"Stopped"};default:return{bg:"bg-gray-50 dark:bg-gray-800/50",text:"text-gray-500 dark:text-gray-400",icon:mi,label:"Draft"}}},T=[{label:"Total Campaigns",value:i?.totalCampaigns??"-",icon:Md},{label:"Messages Sent",value:i?.totalMessagesSent?.toLocaleString()??"-",icon:To},{label:"Delivery Rate",value:`${i?.deliveryRate??0}%`,icon:Td},{label:"Active Now",value:i?.activeCampaigns??"-",icon:Ps}];return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Campaigns"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"View and manage your marketing campaigns"})]}),r.jsxs("button",{onClick:()=>y("/campaigns/new"),className:"flex items-center gap-2 px-4 py-2.5 btn-primary text-white rounded-xl text-sm font-medium shadow-glow",children:[r.jsx(ka,{size:18,strokeWidth:2}),r.jsx("span",{children:"New Campaign"})]})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:T.map((E,M)=>r.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-100 dark:border-gray-800/80 shadow-soft flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:r.jsx(E.icon,{size:18,className:"icon-gray",strokeWidth:1.75})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400 font-medium",children:E.label}),r.jsx("p",{className:"text-xl font-bold",children:E.value})]})]},M))}),r.jsxs("div",{className:"flex items-center gap-4 overflow-x-auto pb-2",children:[r.jsx("button",{onClick:()=>p(),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:r.jsx(_o,{size:18,className:"icon-gray"})}),["","DRAFT","IN_PROGRESS","COMPLETED","STOPPED"].map(E=>r.jsx("button",{onClick:()=>x(E),className:`px-4 py-2 text-sm font-medium rounded-lg whitespace-nowrap transition-colors ${m===E?"bg-primary text-white":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:E||"All"},E))]}),f&&r.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-center gap-3 text-red-700 dark:text-red-400",children:[r.jsx(Ca,{size:18}),r.jsx("span",{children:f}),r.jsx("button",{onClick:p,className:"ml-auto text-sm underline",children:"Retry"})]}),c?r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:[1,2,3,4].map(E=>r.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl shadow-soft border border-gray-100 dark:border-gray-800/80",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-800 rounded-xl skeleton"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-5 w-32 bg-gray-200 dark:bg-gray-800 rounded skeleton"}),r.jsx("div",{className:"h-4 w-24 bg-gray-200 dark:bg-gray-800 rounded mt-2 skeleton"})]})]}),r.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-800 rounded-xl skeleton"})]},E))}):n.length===0?r.jsxs("div",{className:"bg-white dark:bg-surface-dark p-12 rounded-xl shadow-soft border border-gray-100 dark:border-gray-800/80 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-xl flex items-center justify-center mx-auto mb-4",children:r.jsx(Md,{size:28,className:"icon-gray"})}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Campaigns Yet"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:m?`No ${m.toLowerCase().replace("_"," ")} campaigns found`:"Create your first campaign to get started"}),r.jsxs("button",{onClick:()=>y("/campaigns/new"),className:"inline-flex items-center gap-2 px-4 py-2 btn-primary text-white rounded-xl font-medium",children:[r.jsx(ka,{size:18}),"Create Campaign"]})]}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.map((E,M)=>{const w=k(E.status),z=w.icon;return r.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl shadow-soft border border-gray-100 dark:border-gray-800/80 card-hover animate-slide-up group",style:{animationDelay:`${M*.05}s`,opacity:0},children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-12 h-12 ${w.bg} rounded-xl flex items-center justify-center`,children:r.jsx(z,{size:22,className:w.text,strokeWidth:1.75})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:E.name}),r.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-1.5",children:[r.jsx(x1,{size:14,className:"icon-gray"}),new Date(E.createdAt).toLocaleDateString()]})]})]}),r.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${w.bg} ${w.text}`,children:w.label})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[r.jsxs("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[r.jsx("p",{className:"text-lg font-bold",children:E.recipientCount||0}),r.jsx("p",{className:"text-xs text-gray-400",children:"Recipients"})]}),r.jsxs("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[r.jsx("p",{className:"text-lg font-bold text-blue-600",children:E.statsDelivered||0}),r.jsx("p",{className:"text-xs text-gray-400",children:"Delivered"})]}),r.jsxs("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[r.jsx("p",{className:"text-lg font-bold text-emerald-600",children:E.statsRead||0}),r.jsx("p",{className:"text-xs text-gray-400",children:"Read"})]}),r.jsxs("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[r.jsx("p",{className:"text-lg font-bold text-red-600",children:E.statsFailed||0}),r.jsx("p",{className:"text-xs text-gray-400",children:"Failed"})]})]}),E.status==="IN_PROGRESS"&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[r.jsx("span",{children:"Progress"}),r.jsxs("span",{children:[E.statsDelivered||0," / ",E.recipientCount||0]})]}),r.jsx("div",{className:"h-2 bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-500 animate-pulse",style:{width:`${E.recipientCount?E.statsDelivered/E.recipientCount*100:0}%`}})})]}),r.jsxs("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[E.status==="DRAFT"&&r.jsx("button",{onClick:()=>v(E.id),className:"p-2 hover:bg-blue-50 dark:hover:bg-blue-900/20 text-gray-400 hover:text-blue-600 rounded-lg transition-colors",title:"Send Campaign",children:r.jsx(Ps,{size:18})}),E.status==="IN_PROGRESS"&&r.jsx("button",{onClick:()=>j(E.id),className:"p-2 hover:bg-amber-50 dark:hover:bg-amber-900/20 text-gray-400 hover:text-amber-600 rounded-lg transition-colors",title:"Stop Campaign",children:r.jsx(Mx,{size:18})}),E.status!=="IN_PROGRESS"&&r.jsx("button",{onClick:()=>N(E.id),className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 text-gray-400 hover:text-red-600 rounded-lg transition-colors",title:"Delete Campaign",children:r.jsx(sn,{size:18})})]})]},E.id)})})]})},h2=()=>{const[n,s]=A.useState([]),[i,o]=A.useState(!0),[c,d]=A.useState(!1),[f,g]=A.useState(!1),m=A.useRef(null),x=async()=>{try{o(!0);const N=await ce.getMedia();s(N.media||[])}catch(N){setError(N.message)}finally{o(!1)}};A.useEffect(()=>{x()},[]);const y=async N=>{const k=N.target.files?.[0];if(k){d(!0);try{await ce.uploadMedia(k),g(!1),x()}catch(T){alert(T.message)}finally{d(!1)}}},p=async N=>{if(confirm("Are you sure you want to delete this file?"))try{await ce.deleteMedia(N),s(n.filter(k=>k.id!==N))}catch(k){alert(k.message)}},v=N=>{if(N===0)return"0 B";const k=1024,T=["B","KB","MB","GB"],E=Math.floor(Math.log(N)/Math.log(k));return parseFloat((N/Math.pow(k,E)).toFixed(1))+" "+T[E]},j=N=>N.startsWith("image/")?r.jsx(gi,{size:24,className:"text-purple-500"}):N.startsWith("video/")?r.jsx(p1,{size:24,className:"text-pink-500"}):N.startsWith("audio/")?r.jsx(y1,{size:24,className:"text-emerald-500"}):r.jsx(cr,{size:24,className:"text-gray-500"});return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Media Library"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Manage images, videos, and documents for your campaigns"})]}),r.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2.5 btn-primary text-white rounded-xl text-sm font-medium shadow-glow",children:[r.jsx(xi,{size:18,strokeWidth:2}),r.jsx("span",{children:"Upload File"})]})]}),i?r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(N=>r.jsx("div",{className:"aspect-square bg-gray-100 dark:bg-gray-800 rounded-2xl skeleton"},N))}):n.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white dark:bg-surface-dark rounded-2xl border border-dashed border-gray-200 dark:border-gray-800",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4",children:r.jsx(gi,{size:32,className:"text-gray-300 dark:text-gray-600"})}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"No media files yet"}),r.jsx("button",{onClick:()=>g(!0),className:"mt-2 text-primary text-sm hover:underline",children:"Upload your first file"})]}):r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",children:n.map(N=>r.jsxs("div",{className:"group relative bg-white dark:bg-surface-dark rounded-2xl shadow-soft border border-gray-100 dark:border-gray-800/80 overflow-hidden card-hover",children:[r.jsxs("div",{className:"aspect-square bg-gray-50 dark:bg-black/20 flex items-center justify-center relative overflow-hidden",children:[N.mimetype.startsWith("image/")?r.jsx("img",{src:`undefined/uploads/${N.path}`,alt:N.filename,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):j(N.mimetype),r.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2 backdrop-blur-[2px]",children:r.jsx("button",{onClick:()=>p(N.id),className:"p-2 bg-white/10 hover:bg-white/20 text-white rounded-lg backdrop-blur-sm transition-colors",title:"Delete",children:r.jsx(sn,{size:18})})})]}),r.jsxs("div",{className:"p-3",children:[r.jsx("p",{className:"text-sm font-medium truncate text-gray-900 dark:text-white",title:N.filename,children:N.filename}),r.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:[v(N.size),"  ",N.mimetype.split("/")[1].toUpperCase()]})]})]},N.id))}),f&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:r.jsxs("div",{className:"bg-white dark:bg-surface-dark w-full max-w-md rounded-2xl shadow-2xl p-6 animate-slide-up",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Upload Media"}),r.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",children:r.jsx(bt,{size:20})})]}),r.jsxs("div",{className:"border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-xl p-8 text-center hover:border-primary transition-colors cursor-pointer",onClick:()=>m.current?.click(),children:[r.jsx("input",{ref:m,type:"file",className:"hidden",onChange:y,accept:"image/*,video/*,application/pdf"}),c?r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(an,{size:32,className:"text-primary animate-spin mb-3"}),r.jsx("p",{className:"text-sm font-medium",children:"Uploading..."})]}):r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("div",{className:"w-12 h-12 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500 rounded-full flex items-center justify-center mb-3",children:r.jsx(xi,{size:24})}),r.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Click to upload"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Images, Videos, PDF (Max 16MB)"})]})]})]})})]})},g2=({header:n,body:s,footer:i,files:o,buttons:c})=>{const d=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),f=g=>g?g.split(/(\{\{\d+\}\})/g).map((x,y)=>x.match(/\{\{\d+\}\}/)?r.jsx("span",{className:"bg-blue-100 text-blue-600 px-1 rounded mx-0.5 font-medium",children:x},y):x):r.jsx("span",{className:"text-gray-400 italic",children:"Type something..."});return r.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center p-4 rounded-xl overflow-hidden relative",children:[r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:'url("/whatsapp-bg.png")',backgroundSize:"cover",backgroundPosition:"center"}}),r.jsxs("div",{className:"w-full max-w-[320px] relative z-10 flex flex-col gap-2",children:[r.jsxs("div",{className:"bg-white dark:bg-[#202c33] rounded-lg shadow-sm p-1 relative rounded-tr-none self-end message-bubble-tail",children:[r.jsxs("div",{className:"p-2 pb-6 min-w-[120px]",children:[o&&o.length>0&&r.jsx("div",{className:"mb-2 rounded-lg overflow-hidden bg-gray-100 dark:bg-gray-800 flex items-center justify-center h-40 border border-gray-100 dark:border-gray-700",children:r.jsxs("div",{className:"text-center p-4",children:[r.jsx(pi,{className:"mx-auto mb-2 text-gray-400",size:24}),r.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[150px]",children:o[0].filename}),r.jsx("p",{className:"text-[10px] text-gray-400 uppercase mt-0.5",children:o[0].mimetype?.split("/")[1]||"FILE"})]})}),n&&r.jsx("div",{className:"font-bold text-sm text-gray-900 dark:text-gray-100 mb-1 leading-snug",children:n}),r.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap leading-relaxed",children:f(s)}),i&&r.jsx("div",{className:"text-[11px] text-gray-500 dark:text-gray-400 mt-2 pt-1 border-t border-gray-100 dark:border-gray-700/50",children:i})]}),r.jsxs("div",{className:"absolute right-2 bottom-1 flex items-center gap-1",children:[r.jsx("span",{className:"text-[10px] text-gray-400",children:d}),r.jsx(Ox,{size:14,className:"text-[#53bdeb]"})]})]}),c&&c.length>0&&c.map((g,m)=>r.jsx("div",{className:"bg-white dark:bg-[#202c33] rounded-lg shadow-sm p-3 text-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:r.jsxs("span",{className:"text-[#00a884] font-medium text-sm block truncate",children:[g.type==="URL"&&" ",g.type==="PHONE_NUMBER"&&" ",g.text||"Button Text"]})},m))]})]})},m2=()=>{const[n,s]=A.useState([]),[i,o]=A.useState(!0),[c,d]=A.useState(!1),[f,g]=A.useState(null),[m,x]=A.useState({name:"",header:"",body:"",footer:"",buttons:[],files:[]}),[y,p]=A.useState(!1),[v,j]=A.useState(!1),[N,k]=A.useState(null),T=async()=>{try{o(!0);const V=await ce.getTemplates();s(V.templates||[])}catch{console.error(err)}finally{o(!1)}};A.useEffect(()=>{T()},[]);const E=()=>{x({name:"",header:"",body:"",footer:"",buttons:[],files:[]}),g(null),k(null)},M=async()=>{if(!m.body.trim()){alert("Please add body text first.");return}j(!0),k(null);try{const V=await ef.analyzeTemplate(m.body,m.name);k(V)}catch{alert("Failed to analyze template.")}finally{j(!1)}},w=async V=>{const q=V.target.files[0];if(q){if(q.size>10*1024*1024){alert("File size must be less than 10MB");return}p(!0);try{const te=await ce.uploadFile(q);x(G=>({...G,files:[...G.files,{mediaId:te.mediaId,filename:te.filename||q.name,mimetype:te.mimeType||q.type}]}))}catch{alert("Failed to upload file")}finally{p(!1),V.target.value=null}}},z=V=>{x(q=>({...q,files:q.files.filter((te,G)=>G!==V)}))},L=async()=>{try{const V=JSON.stringify({header:m.header,body:m.body,footer:m.footer,buttons:m.buttons,files:m.files});f?await ce.updateTemplate(f,{name:m.name,content:V}):await ce.createTemplate({name:m.name,content:V}),d(!1),T(),E()}catch{alert(err.message)}},B=V=>{try{const q=JSON.parse(V.content);x({name:V.name,header:q.header||"",body:q.body||V.content,footer:q.footer||"",buttons:q.buttons||[],files:q.files||[]})}catch{x({name:V.name,header:"",body:V.content,footer:"",buttons:[]})}g(V.id),d(!0)},$=async V=>{if(confirm("Start deletion?"))try{await ce.deleteTemplate(V),s(n.filter(q=>q.id!==V))}catch{alert(err.message)}};return r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Message Templates"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Design structured WhatsApp messages"})]}),r.jsxs("button",{onClick:()=>{E(),d(!0)},className:"flex items-center gap-2 px-4 py-2.5 btn-primary text-white rounded-xl text-sm font-medium shadow-glow",children:[r.jsx(ka,{size:18,strokeWidth:2}),r.jsx("span",{children:"Create Template"})]})]}),i?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(V=>r.jsx("div",{className:"h-48 bg-gray-100 dark:bg-gray-800 rounded-xl skeleton"},V))}):n.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white dark:bg-surface-dark rounded-xl border border-dashed border-gray-200 dark:border-gray-800",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-50 dark:bg-blue-900/20 rounded-full flex items-center justify-center mb-4",children:r.jsx(Ci,{size:32,className:"text-blue-500"})}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"No templates yet"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(V=>{let q;try{q=JSON.parse(V.content)}catch{q={body:V.content}}return r.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl shadow-soft border border-gray-100 dark:border-gray-800/80 p-5 card-hover",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 text-blue-600 rounded-lg",children:r.jsx(Dx,{size:18})}),r.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:V.name})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>B(V),className:"p-2 text-gray-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:r.jsx(zi,{size:16})}),r.jsx("button",{onClick:()=>$(V.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:r.jsx(sn,{size:16})})]})]}),r.jsx("div",{className:"bg-[#E5DDD5] dark:bg-[#1f2c34] p-3 rounded-lg text-sm relative",children:r.jsxs("div",{className:"bg-white dark:bg-[#202c33] p-2 rounded-lg shadow-sm text-gray-900 dark:text-gray-100",children:[q.header&&r.jsx("p",{className:"font-bold mb-1 opacity-90",children:q.header}),r.jsx("p",{className:"whitespace-pre-wrap",children:q.body}),q.footer&&r.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:q.footer})]})})]},V.id)})}),c&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:r.jsxs("div",{className:"bg-white dark:bg-surface-dark w-full max-w-[95vw] h-[90vh] rounded-xl shadow-2xl overflow-hidden flex animate-slide-up",children:[r.jsxs("div",{className:"w-[35%] p-6 overflow-y-auto border-r border-gray-200 dark:border-gray-800 scrollbar-hide",children:[r.jsx("h2",{className:"text-xl font-bold mb-6",children:f?"Edit Template":"New Template"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1.5",children:"Template Name"}),r.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-xl bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-gray-700 outline-none focus:border-primary text-gray-900 dark:text-white placeholder:text-gray-400",placeholder:"e.g. welcome_message",value:m.name,onChange:V=>x({...m,name:V.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1.5",children:"Header (Optional)"}),r.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-xl bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-gray-700 outline-none focus:border-primary text-gray-900 dark:text-white placeholder:text-gray-400",placeholder:"Company Name / Title",value:m.header,onChange:V=>x({...m,header:V.target.value})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[r.jsx("label",{className:"block text-sm font-medium",children:"Body Text"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"file",id:"tpl-file-upload",className:"hidden",accept:"image/*,application/pdf",onChange:w,disabled:y}),r.jsx("label",{htmlFor:"tpl-file-upload",className:`p-1.5 bg-gray-100 dark:bg-gray-800 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 cursor-pointer transition-colors ${y?"opacity-50 cursor-not-allowed":""}`,title:"Attach Image or PDF",children:y?r.jsx(an,{size:16,className:"animate-spin text-gray-500"}):r.jsx(pi,{size:16,className:"text-gray-500 dark:text-gray-400"})})]})]}),r.jsx("textarea",{className:"w-full h-32 px-4 py-3 rounded-xl bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-gray-700 outline-none focus:border-primary resize-none text-gray-900 dark:text-white placeholder:text-gray-400",placeholder:"Hello {{1}}, thanks for signing up!",value:m.body,onChange:V=>x({...m,body:V.target.value})}),r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Use ","{{1}}",", ","{{2}}"," for variables."]}),m.files.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:m.files.map((V,q)=>r.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm text-xs",children:[r.jsx(pi,{size:12,className:"text-gray-400"}),r.jsx("span",{className:"max-w-[150px] truncate text-gray-600 dark:text-gray-300",children:V.filename}),r.jsx("button",{type:"button",onClick:()=>z(q),className:"text-gray-400 hover:text-red-500",children:r.jsx(bt,{size:12})})]},q))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1.5",children:"Footer (Optional)"}),r.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-xl bg-gray-50 dark:bg-black/20 border border-gray-200 dark:border-gray-700 outline-none focus:border-primary text-gray-900 dark:text-white placeholder:text-gray-400",placeholder:"Reply STOP to unsubscribe",value:m.footer,onChange:V=>x({...m,footer:V.target.value})})]})]}),r.jsxs("div",{className:"mt-8 flex gap-3",children:[r.jsx("button",{onClick:()=>d(!1),className:"flex-1 py-2.5 rounded-xl border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800",children:"Cancel"}),r.jsxs("button",{onClick:M,disabled:v||!m.body.trim(),className:"flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl border border-primary text-primary hover:bg-primary/10 disabled:opacity-50",children:[v?r.jsx(an,{size:16,className:"animate-spin"}):r.jsx(ui,{size:16}),v?"Analyzing...":"Analyze"]}),r.jsx("button",{onClick:L,className:"flex-1 py-2.5 btn-primary text-white rounded-xl shadow-glow",children:"Save Template"})]})]}),r.jsxs("div",{className:"w-[30%] bg-gray-50/50 dark:bg-black/10 border-r border-gray-200 dark:border-gray-800 p-4 flex flex-col",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-4 px-2",children:"Preview"}),r.jsx("div",{className:"flex-1 rounded-2xl overflow-hidden border border-gray-200 dark:border-gray-800 shadow-inner",children:r.jsx(g2,{header:m.header,body:m.body,footer:m.footer,files:m.files,buttons:m.buttons})})]}),r.jsxs("div",{className:"w-[35%] bg-gray-50 dark:bg-black/40 flex flex-col overflow-hidden p-4",children:[N&&r.jsxs("div",{className:`mb-4 p-4 rounded-xl border ${N.verdict==="good"?"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800":N.verdict==="bad"?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800"}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[N.verdict==="good"?r.jsx(b1,{size:18,className:"text-emerald-600"}):r.jsx(Ca,{size:18,className:N.verdict==="bad"?"text-red-600":"text-amber-600"}),r.jsxs("span",{className:"font-semibold",children:["Score: ",N.score,"/10"]})]}),r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:N.summary}),N.suggestions&&N.suggestions.length>0&&r.jsx("ul",{className:"text-sm space-y-1",children:N.suggestions.map((V,q)=>r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:V})]},q))})]}),r.jsx(ap,{currentContent:m.body,contentType:"template",onApplyText:V=>{x(q=>({...q,body:V})),k(null)}})]})]})})]})},x2=()=>{const{isDark:n,toggleTheme:s}=np(),i=Oo(),{t:o,i18n:c}=Wd(),[d,f]=A.useState({phoneNumberId:"",accessToken:"",wabaId:"",verifyToken:"whatsms_token"}),[g,m]=A.useState(!0),[x,y]=A.useState(!1),[p,v]=A.useState(!1),[j,N]=A.useState(""),k=`${window.location.origin}/webhooks`;A.useEffect(()=>{T()},[]);const T=async()=>{try{const z=await ce.get("/settings");z&&f({phoneNumberId:z.phoneNumberId||"",accessToken:z.accessToken||"",wabaId:z.wabaId||"",verifyToken:z.verifyToken||"whatsms_token"})}catch(z){console.error("Failed to load settings",z)}finally{m(!1)}},E=z=>{f({...d,[z.target.name]:z.target.value})},M=async()=>{try{await ce.post("/settings",d),i.success("Configuration saved successfully!")}catch(z){console.error("Failed to save settings",z),i.error("Failed to save configuration")}},w=()=>{navigator.clipboard.writeText(k),v(!0),setTimeout(()=>v(!1),2e3)};return g?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):r.jsxs("div",{className:"space-y-6 animate-fade-in",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),r.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Configure your WhatsApp Business API connection"})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsx("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl shadow-soft border border-gray-100 dark:border-gray-800/80 lg:col-span-2",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 flex items-center justify-center",children:r.jsx(_d,{size:20})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:o("settings")}),r.jsx("p",{className:"text-sm text-gray-400",children:"Customize the look and feel"})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("select",{value:c.language,onChange:z=>c.changeLanguage(z.target.value),className:"px-3 py-1.5 rounded-lg bg-gray-50 dark:bg-background-dark border border-gray-200 dark:border-gray-700 text-sm outline-none focus:border-primary",children:[r.jsx("option",{value:"en",children:"English"}),r.jsx("option",{value:"fr",children:"Franais"})]}),r.jsxs("button",{onClick:s,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 ${n?"bg-emerald-600":"bg-gray-200"}`,children:[r.jsx("span",{className:"sr-only",children:"Toggle theme"}),r.jsx("span",{className:`${n?"translate-x-7":"translate-x-1"} inline-block h-6 w-6 transform rounded-full bg-white transition-transform duration-300 flex items-center justify-center`,children:n?r.jsx(v1,{size:14,className:"text-emerald-600"}):r.jsx(N1,{size:14,className:"text-orange-400"})})]})]})]})}),r.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl shadow-soft border border-gray-100 dark:border-gray-800/80",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 flex items-center justify-center",children:r.jsx(_d,{size:20})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:"API Credentials"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Enter your Meta Developer keys"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number ID"}),r.jsx("input",{type:"text",name:"phoneNumberId",value:d.phoneNumberId,onChange:E,placeholder:"e.g. 10452...",className:"w-full px-4 py-2.5 rounded-xl bg-gray-50 dark:bg-background-dark border border-gray-200 dark:border-gray-700 outline-none focus:border-primary transition-all text-gray-900 dark:text-white placeholder:text-gray-400"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Found in WhatsApp API Setup"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Access Token"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:x?"text":"password",name:"accessToken",value:d.accessToken,onChange:E,placeholder:"Permanent or Temporary Access Token",className:"w-full px-4 py-2.5 rounded-xl bg-gray-50 dark:bg-background-dark border border-gray-200 dark:border-gray-700 outline-none focus:border-primary transition-all pr-12 text-gray-900 dark:text-white placeholder:text-gray-400"}),r.jsx("button",{onClick:()=>y(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:x?r.jsx(j1,{size:18}):r.jsx(w1,{size:18})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-2",children:["WABA ID ",r.jsx("span",{className:"text-gray-400 text-xs",children:"(Optional)"})]}),r.jsx("input",{type:"text",name:"wabaId",value:d.wabaId,onChange:E,placeholder:"e.g. 123456789...",className:"w-full px-4 py-2.5 rounded-xl bg-gray-50 dark:bg-background-dark border border-gray-200 dark:border-gray-700 outline-none focus:border-primary transition-all text-gray-900 dark:text-white placeholder:text-gray-400"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"WhatsApp Business Account ID (for reference)"})]}),r.jsx("div",{className:"pt-4",children:r.jsxs("button",{onClick:M,className:"w-full px-6 py-2.5 bg-primary hover:bg-primary-dark text-white rounded-xl font-medium transition-colors flex items-center justify-center gap-2",children:[r.jsx(Rx,{size:18}),"Save Credentials"]})}),r.jsxs("div",{className:"pt-4 border-t border-gray-100 dark:border-gray-800",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Test Connectivity"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:j,onChange:z=>N(z.target.value),placeholder:"Recipient Phone (e.g. 1555...)",className:"flex-1 px-4 py-2.5 rounded-xl bg-gray-50 dark:bg-background-dark border border-gray-200 dark:border-gray-700 outline-none focus:border-primary transition-all text-gray-900 dark:text-white placeholder:text-gray-400"}),r.jsxs("button",{onClick:async()=>{if(!j){i.error("Please enter a phone number to test");return}try{await M();const z=await ce.post("/settings/test",{targetPhone:j});i.success(z.message||"Connection Verified!")}catch(z){i.error(z.message||"Test Connection Failed")}},className:"px-6 py-2.5 bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-medium transition-colors flex items-center justify-center gap-2 whitespace-nowrap",title:"Send 'hello_world' template",children:[r.jsx(dm,{size:18}),"Send Test"]})]}),r.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:['Sends a standard "hello_world" template. ',r.jsx("br",{}),"Note: If using a Meta Test Number, you can only send to ",r.jsx("strong",{children:"Verified Numbers"}),"."]})]}),r.jsx("p",{className:"text-xs text-center text-gray-400 mt-1",children:"Note: Credentials must be saved before testing."})]})]}),r.jsxs("div",{className:"bg-white dark:bg-surface-dark p-6 rounded-xl shadow-soft border border-gray-100 dark:border-gray-800/80 h-fit",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-teal-50 dark:bg-teal-900/20 text-teal-600 flex items-center justify-center",children:r.jsx(dm,{size:20})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:"Webhook Setup"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Connect to Meta for incoming messages"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-background-dark rounded-xl border border-gray-100 dark:border-gray-800",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Callback URL"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("code",{className:"flex-1 text-sm font-mono text-gray-600 dark:text-gray-300 break-all",children:k}),r.jsx("button",{onClick:w,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Copy URL",children:p?r.jsx(hn,{size:16,className:"text-blue-500"}):r.jsx(Id,{size:16,className:"text-gray-400"})})]})]}),r.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-background-dark rounded-xl border border-gray-100 dark:border-gray-800",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Verify Token"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"text",name:"verifyToken",value:d.verifyToken,onChange:E,placeholder:"whatsms_token",className:"flex-1 w-full px-4 py-2 rounded-xl bg-white dark:bg-surface-dark border border-gray-200 dark:border-gray-700 outline-none focus:border-primary transition-all text-sm font-mono"}),r.jsx("div",{className:"text-xs px-2 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400 rounded",children:"Editable"})]}),r.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Must match the Verify Token in Meta Dashboard"})]}),r.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 p-4 rounded-xl text-sm text-emerald-800 dark:text-emerald-300",children:[r.jsx("h4",{className:"font-semibold mb-1",children:"Setup Instructions:"}),r.jsxs("ol",{className:"list-decimal pl-4 space-y-1 opacity-80",children:[r.jsx("li",{children:"Go to your App Dashboard in Meta Developers."}),r.jsxs("li",{children:["Select ",r.jsx("strong",{children:"WhatsApp"})," > ",r.jsx("strong",{children:"Configuration"}),"."]}),r.jsxs("li",{children:["Click ",r.jsx("strong",{children:"Edit"})," under Webhook."]}),r.jsx("li",{children:"Paste the Callback URL and Verify Token above."}),r.jsxs("li",{children:["Enable events: ",r.jsx("code",{children:"messages"}),", ",r.jsx("code",{children:"message_status"}),"."]})]})]})]})]})]})]})};function p2(){const[n,s]=A.useState([]),[i,o]=A.useState(!0),[c,d]=A.useState(null),[f,g]=A.useState(null),[m,x]=A.useState("");A.useEffect(()=>{y()},[]),A.useEffect(()=>{const k=()=>d(null);return document.addEventListener("click",k),()=>document.removeEventListener("click",k)},[]);const y=async()=>{try{const k=await ce.get("/flows");s(k)}catch(k){console.error("Failed to fetch flows",k)}finally{o(!1)}},p=async k=>{if(confirm("Are you sure? This will stop any active executions."))try{await ce.delete(`/flows/${k}`),y()}catch(T){console.error("Failed to delete flow",T)}},v=k=>{g(k.id),x(k.name),d(null)},j=async()=>{if(!m.trim()){g(null);return}const k=n.find(T=>T.id===f);if(k&&k.name!==m)try{await ce.put(`/flows/${k.id}`,{...k,name:m}),s(n.map(T=>T.id===f?{...T,name:m}:T))}catch(T){console.error("Failed to rename flow",T),alert("Failed to rename flow"),y()}g(null)},N=async k=>{try{await ce.put(`/flows/${k.id}`,{isActive:!k.isActive}),y()}catch(T){console.error("Failed to update status",T)}};return i?r.jsx("div",{className:"p-8 text-center text-gray-400",children:"Loading automations..."}):r.jsxs("div",{className:"p-6 max-w-7xl mx-auto min-h-screen",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-neutral-100 mb-2",children:"Automations"}),r.jsx("p",{className:"text-gray-500 dark:text-neutral-400",children:"Build automated message flows and chatbots"})]}),r.jsxs(ho,{to:"/automations/new",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-sm",children:[r.jsx(ka,{size:20}),"Create Flow"]})]}),n.length===0?r.jsxs("div",{className:"text-center py-16 bg-white dark:bg-[#0F0F0F] rounded-xl border border-gray-200 dark:border-[#262626] shadow-sm transition-colors",children:[r.jsx(yo,{size:48,className:"mx-auto text-gray-400 dark:text-neutral-600 mb-4"}),r.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:"No automations yet"}),r.jsx("p",{className:"text-gray-500 dark:text-neutral-400 mb-6",children:"Create your first automated workflow to engage customers 24/7."}),r.jsx(ho,{to:"/automations/new",className:"text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300 font-medium",children:"Get Started "})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(k=>r.jsxs("div",{className:"bg-white dark:bg-[#0F0F0F] rounded-xl border border-gray-200 dark:border-[#262626] p-6 hover:shadow-md transition-all duration-200",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("div",{className:`p-2 rounded-lg ${k.isActive?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-500 dark:bg-[#1A1A1A] dark:text-neutral-400"}`,children:r.jsx(yo,{size:24})}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:T=>{T.stopPropagation(),T.preventDefault(),d(c===k.id?null:k.id)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-white p-1 rounded-full hover:bg-gray-100 dark:hover:bg-[#262626] transition-colors",children:[r.jsx("span",{className:"sr-only",children:"Menu"}),r.jsx(Hx,{size:20})]}),c===k.id&&r.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-[#1A1A1A] rounded-lg shadow-xl py-1 z-50 border border-gray-200 dark:border-[#333] animate-in fade-in zoom-in-95 duration-100",children:[r.jsxs("button",{onClick:T=>{T.stopPropagation(),v(k)},className:"w-full text-left px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-[#252525] flex items-center gap-2",children:[r.jsx(zi,{size:16})," Rename"]}),r.jsxs("button",{onClick:T=>{T.stopPropagation(),d(null),p(k.id)},className:"w-full text-left px-4 py-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2",children:[r.jsx(sn,{size:16})," Delete"]})]})]})]}),f===k.id?r.jsxs("div",{className:"mb-4",children:[r.jsx("input",{type:"text",autoFocus:!0,value:m,onChange:T=>x(T.target.value),onBlur:j,onKeyDown:T=>{T.key==="Enter"&&j(),T.key==="Escape"&&g(null)},className:"w-full text-lg font-semibold text-gray-900 dark:text-neutral-100 bg-white dark:bg-[#1A1A1A] border border-indigo-500 rounded px-2 py-1 outline-none shadow-sm"}),r.jsx("p",{className:"text-xs text-indigo-500 mt-1",children:"Press Enter to save"})]}):r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-neutral-100 mb-2 truncate cursor-pointer hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",onDoubleClick:()=>v(k),title:"Double click to rename",children:k.name}),r.jsx("p",{className:"text-gray-500 dark:text-neutral-400 text-sm mb-4 line-clamp-2",children:k.description||"No description provided."})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-[#262626]",children:[r.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-neutral-400",children:r.jsxs("span",{children:[k._count?.executions||0," runs"]})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>N(k),className:`p-2 rounded-lg transition-colors ${k.isActive?"bg-green-100 text-green-600 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-400 dark:hover:bg-green-900/50":"bg-gray-100 text-gray-500 hover:bg-gray-200 dark:bg-[#1A1A1A] dark:text-neutral-400 dark:hover:bg-[#262626]"}`,title:k.isActive?"Pause":"Activate",children:k.isActive?r.jsx(Ux,{size:18}):r.jsx(Ps,{size:18})}),r.jsx(ho,{to:`/automations/${k.id}`,className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg hover:bg-indigo-100 dark:bg-indigo-900/30 dark:text-indigo-400 dark:hover:bg-indigo-900/50",title:"Edit",children:r.jsx(S1,{size:18})})]})]})]},k.id))})]})}function st(n){if(typeof n=="string"||typeof n=="number")return""+n;let s="";if(Array.isArray(n))for(let i=0,o;i<n.length;i++)(o=st(n[i]))!==""&&(s+=(s&&" ")+o);else for(let i in n)n[i]&&(s+=(s&&" ")+i);return s}var y2={value:()=>{}};function Lo(){for(var n=0,s=arguments.length,i={},o;n<s;++n){if(!(o=arguments[n]+"")||o in i||/[\s.]/.test(o))throw new Error("illegal type: "+o);i[o]=[]}return new go(i)}function go(n){this._=n}function b2(n,s){return n.trim().split(/^|\s+/).map(function(i){var o="",c=i.indexOf(".");if(c>=0&&(o=i.slice(c+1),i=i.slice(0,c)),i&&!s.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:o}})}go.prototype=Lo.prototype={constructor:go,on:function(n,s){var i=this._,o=b2(n+"",i),c,d=-1,f=o.length;if(arguments.length<2){for(;++d<f;)if((c=(n=o[d]).type)&&(c=v2(i[c],n.name)))return c;return}if(s!=null&&typeof s!="function")throw new Error("invalid callback: "+s);for(;++d<f;)if(c=(n=o[d]).type)i[c]=Hm(i[c],n.name,s);else if(s==null)for(c in i)i[c]=Hm(i[c],n.name,null);return this},copy:function(){var n={},s=this._;for(var i in s)n[i]=s[i].slice();return new go(n)},call:function(n,s){if((c=arguments.length-2)>0)for(var i=new Array(c),o=0,c,d;o<c;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(d=this._[n],o=0,c=d.length;o<c;++o)d[o].value.apply(s,i)},apply:function(n,s,i){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var o=this._[n],c=0,d=o.length;c<d;++c)o[c].value.apply(s,i)}};function v2(n,s){for(var i=0,o=n.length,c;i<o;++i)if((c=n[i]).name===s)return c.value}function Hm(n,s,i){for(var o=0,c=n.length;o<c;++o)if(n[o].name===s){n[o]=y2,n=n.slice(0,o).concat(n.slice(o+1));break}return i!=null&&n.push({name:s,value:i}),n}var Hd="http://www.w3.org/1999/xhtml";const Um={svg:"http://www.w3.org/2000/svg",xhtml:Hd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ro(n){var s=n+="",i=s.indexOf(":");return i>=0&&(s=n.slice(0,i))!=="xmlns"&&(n=n.slice(i+1)),Um.hasOwnProperty(s)?{space:Um[s],local:n}:n}function N2(n){return function(){var s=this.ownerDocument,i=this.namespaceURI;return i===Hd&&s.documentElement.namespaceURI===Hd?s.createElement(n):s.createElementNS(i,n)}}function j2(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function sp(n){var s=Ro(n);return(s.local?j2:N2)(s)}function w2(){}function tf(n){return n==null?w2:function(){return this.querySelector(n)}}function S2(n){typeof n!="function"&&(n=tf(n));for(var s=this._groups,i=s.length,o=new Array(i),c=0;c<i;++c)for(var d=s[c],f=d.length,g=o[c]=new Array(f),m,x,y=0;y<f;++y)(m=d[y])&&(x=n.call(m,m.__data__,y,d))&&("__data__"in m&&(x.__data__=m.__data__),g[y]=x);return new Ut(o,this._parents)}function k2(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function C2(){return[]}function rp(n){return n==null?C2:function(){return this.querySelectorAll(n)}}function E2(n){return function(){return k2(n.apply(this,arguments))}}function z2(n){typeof n=="function"?n=E2(n):n=rp(n);for(var s=this._groups,i=s.length,o=[],c=[],d=0;d<i;++d)for(var f=s[d],g=f.length,m,x=0;x<g;++x)(m=f[x])&&(o.push(n.call(m,m.__data__,x,f)),c.push(m));return new Ut(o,c)}function ip(n){return function(){return this.matches(n)}}function lp(n){return function(s){return s.matches(n)}}var A2=Array.prototype.find;function T2(n){return function(){return A2.call(this.children,n)}}function _2(){return this.firstElementChild}function M2(n){return this.select(n==null?_2:T2(typeof n=="function"?n:lp(n)))}var D2=Array.prototype.filter;function O2(){return Array.from(this.children)}function L2(n){return function(){return D2.call(this.children,n)}}function R2(n){return this.selectAll(n==null?O2:L2(typeof n=="function"?n:lp(n)))}function H2(n){typeof n!="function"&&(n=ip(n));for(var s=this._groups,i=s.length,o=new Array(i),c=0;c<i;++c)for(var d=s[c],f=d.length,g=o[c]=[],m,x=0;x<f;++x)(m=d[x])&&n.call(m,m.__data__,x,d)&&g.push(m);return new Ut(o,this._parents)}function op(n){return new Array(n.length)}function U2(){return new Ut(this._enter||this._groups.map(op),this._parents)}function jo(n,s){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=s}jo.prototype={constructor:jo,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,s){return this._parent.insertBefore(n,s)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function B2(n){return function(){return n}}function V2(n,s,i,o,c,d){for(var f=0,g,m=s.length,x=d.length;f<x;++f)(g=s[f])?(g.__data__=d[f],o[f]=g):i[f]=new jo(n,d[f]);for(;f<m;++f)(g=s[f])&&(c[f]=g)}function q2(n,s,i,o,c,d,f){var g,m,x=new Map,y=s.length,p=d.length,v=new Array(y),j;for(g=0;g<y;++g)(m=s[g])&&(v[g]=j=f.call(m,m.__data__,g,s)+"",x.has(j)?c[g]=m:x.set(j,m));for(g=0;g<p;++g)j=f.call(n,d[g],g,d)+"",(m=x.get(j))?(o[g]=m,m.__data__=d[g],x.delete(j)):i[g]=new jo(n,d[g]);for(g=0;g<y;++g)(m=s[g])&&x.get(v[g])===m&&(c[g]=m)}function $2(n){return n.__data__}function Y2(n,s){if(!arguments.length)return Array.from(this,$2);var i=s?q2:V2,o=this._parents,c=this._groups;typeof n!="function"&&(n=B2(n));for(var d=c.length,f=new Array(d),g=new Array(d),m=new Array(d),x=0;x<d;++x){var y=o[x],p=c[x],v=p.length,j=G2(n.call(y,y&&y.__data__,x,o)),N=j.length,k=g[x]=new Array(N),T=f[x]=new Array(N),E=m[x]=new Array(v);i(y,p,k,T,E,j,s);for(var M=0,w=0,z,L;M<N;++M)if(z=k[M]){for(M>=w&&(w=M+1);!(L=T[w])&&++w<N;);z._next=L||null}}return f=new Ut(f,o),f._enter=g,f._exit=m,f}function G2(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function X2(){return new Ut(this._exit||this._groups.map(op),this._parents)}function Z2(n,s,i){var o=this.enter(),c=this,d=this.exit();return typeof n=="function"?(o=n(o),o&&(o=o.selection())):o=o.append(n+""),s!=null&&(c=s(c),c&&(c=c.selection())),i==null?d.remove():i(d),o&&c?o.merge(c).order():c}function Q2(n){for(var s=n.selection?n.selection():n,i=this._groups,o=s._groups,c=i.length,d=o.length,f=Math.min(c,d),g=new Array(c),m=0;m<f;++m)for(var x=i[m],y=o[m],p=x.length,v=g[m]=new Array(p),j,N=0;N<p;++N)(j=x[N]||y[N])&&(v[N]=j);for(;m<c;++m)g[m]=i[m];return new Ut(g,this._parents)}function F2(){for(var n=this._groups,s=-1,i=n.length;++s<i;)for(var o=n[s],c=o.length-1,d=o[c],f;--c>=0;)(f=o[c])&&(d&&f.compareDocumentPosition(d)^4&&d.parentNode.insertBefore(f,d),d=f);return this}function K2(n){n||(n=I2);function s(p,v){return p&&v?n(p.__data__,v.__data__):!p-!v}for(var i=this._groups,o=i.length,c=new Array(o),d=0;d<o;++d){for(var f=i[d],g=f.length,m=c[d]=new Array(g),x,y=0;y<g;++y)(x=f[y])&&(m[y]=x);m.sort(s)}return new Ut(c,this._parents).order()}function I2(n,s){return n<s?-1:n>s?1:n>=s?0:NaN}function J2(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function W2(){return Array.from(this)}function P2(){for(var n=this._groups,s=0,i=n.length;s<i;++s)for(var o=n[s],c=0,d=o.length;c<d;++c){var f=o[c];if(f)return f}return null}function ew(){let n=0;for(const s of this)++n;return n}function tw(){return!this.node()}function nw(n){for(var s=this._groups,i=0,o=s.length;i<o;++i)for(var c=s[i],d=0,f=c.length,g;d<f;++d)(g=c[d])&&n.call(g,g.__data__,d,c);return this}function aw(n){return function(){this.removeAttribute(n)}}function sw(n){return function(){this.removeAttributeNS(n.space,n.local)}}function rw(n,s){return function(){this.setAttribute(n,s)}}function iw(n,s){return function(){this.setAttributeNS(n.space,n.local,s)}}function lw(n,s){return function(){var i=s.apply(this,arguments);i==null?this.removeAttribute(n):this.setAttribute(n,i)}}function ow(n,s){return function(){var i=s.apply(this,arguments);i==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,i)}}function cw(n,s){var i=Ro(n);if(arguments.length<2){var o=this.node();return i.local?o.getAttributeNS(i.space,i.local):o.getAttribute(i)}return this.each((s==null?i.local?sw:aw:typeof s=="function"?i.local?ow:lw:i.local?iw:rw)(i,s))}function cp(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function uw(n){return function(){this.style.removeProperty(n)}}function dw(n,s,i){return function(){this.style.setProperty(n,s,i)}}function fw(n,s,i){return function(){var o=s.apply(this,arguments);o==null?this.style.removeProperty(n):this.style.setProperty(n,o,i)}}function hw(n,s,i){return arguments.length>1?this.each((s==null?uw:typeof s=="function"?fw:dw)(n,s,i??"")):nr(this.node(),n)}function nr(n,s){return n.style.getPropertyValue(s)||cp(n).getComputedStyle(n,null).getPropertyValue(s)}function gw(n){return function(){delete this[n]}}function mw(n,s){return function(){this[n]=s}}function xw(n,s){return function(){var i=s.apply(this,arguments);i==null?delete this[n]:this[n]=i}}function pw(n,s){return arguments.length>1?this.each((s==null?gw:typeof s=="function"?xw:mw)(n,s)):this.node()[n]}function up(n){return n.trim().split(/^|\s+/)}function nf(n){return n.classList||new dp(n)}function dp(n){this._node=n,this._names=up(n.getAttribute("class")||"")}dp.prototype={add:function(n){var s=this._names.indexOf(n);s<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var s=this._names.indexOf(n);s>=0&&(this._names.splice(s,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function fp(n,s){for(var i=nf(n),o=-1,c=s.length;++o<c;)i.add(s[o])}function hp(n,s){for(var i=nf(n),o=-1,c=s.length;++o<c;)i.remove(s[o])}function yw(n){return function(){fp(this,n)}}function bw(n){return function(){hp(this,n)}}function vw(n,s){return function(){(s.apply(this,arguments)?fp:hp)(this,n)}}function Nw(n,s){var i=up(n+"");if(arguments.length<2){for(var o=nf(this.node()),c=-1,d=i.length;++c<d;)if(!o.contains(i[c]))return!1;return!0}return this.each((typeof s=="function"?vw:s?yw:bw)(i,s))}function jw(){this.textContent=""}function ww(n){return function(){this.textContent=n}}function Sw(n){return function(){var s=n.apply(this,arguments);this.textContent=s??""}}function kw(n){return arguments.length?this.each(n==null?jw:(typeof n=="function"?Sw:ww)(n)):this.node().textContent}function Cw(){this.innerHTML=""}function Ew(n){return function(){this.innerHTML=n}}function zw(n){return function(){var s=n.apply(this,arguments);this.innerHTML=s??""}}function Aw(n){return arguments.length?this.each(n==null?Cw:(typeof n=="function"?zw:Ew)(n)):this.node().innerHTML}function Tw(){this.nextSibling&&this.parentNode.appendChild(this)}function _w(){return this.each(Tw)}function Mw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Dw(){return this.each(Mw)}function Ow(n){var s=typeof n=="function"?n:sp(n);return this.select(function(){return this.appendChild(s.apply(this,arguments))})}function Lw(){return null}function Rw(n,s){var i=typeof n=="function"?n:sp(n),o=s==null?Lw:typeof s=="function"?s:tf(s);return this.select(function(){return this.insertBefore(i.apply(this,arguments),o.apply(this,arguments)||null)})}function Hw(){var n=this.parentNode;n&&n.removeChild(this)}function Uw(){return this.each(Hw)}function Bw(){var n=this.cloneNode(!1),s=this.parentNode;return s?s.insertBefore(n,this.nextSibling):n}function Vw(){var n=this.cloneNode(!0),s=this.parentNode;return s?s.insertBefore(n,this.nextSibling):n}function qw(n){return this.select(n?Vw:Bw)}function $w(n){return arguments.length?this.property("__data__",n):this.node().__data__}function Yw(n){return function(s){n.call(this,s,this.__data__)}}function Gw(n){return n.trim().split(/^|\s+/).map(function(s){var i="",o=s.indexOf(".");return o>=0&&(i=s.slice(o+1),s=s.slice(0,o)),{type:s,name:i}})}function Xw(n){return function(){var s=this.__on;if(s){for(var i=0,o=-1,c=s.length,d;i<c;++i)d=s[i],(!n.type||d.type===n.type)&&d.name===n.name?this.removeEventListener(d.type,d.listener,d.options):s[++o]=d;++o?s.length=o:delete this.__on}}}function Zw(n,s,i){return function(){var o=this.__on,c,d=Yw(s);if(o){for(var f=0,g=o.length;f<g;++f)if((c=o[f]).type===n.type&&c.name===n.name){this.removeEventListener(c.type,c.listener,c.options),this.addEventListener(c.type,c.listener=d,c.options=i),c.value=s;return}}this.addEventListener(n.type,d,i),c={type:n.type,name:n.name,value:s,listener:d,options:i},o?o.push(c):this.__on=[c]}}function Qw(n,s,i){var o=Gw(n+""),c,d=o.length,f;if(arguments.length<2){var g=this.node().__on;if(g){for(var m=0,x=g.length,y;m<x;++m)for(c=0,y=g[m];c<d;++c)if((f=o[c]).type===y.type&&f.name===y.name)return y.value}return}for(g=s?Zw:Xw,c=0;c<d;++c)this.each(g(o[c],s,i));return this}function gp(n,s,i){var o=cp(n),c=o.CustomEvent;typeof c=="function"?c=new c(s,i):(c=o.document.createEvent("Event"),i?(c.initEvent(s,i.bubbles,i.cancelable),c.detail=i.detail):c.initEvent(s,!1,!1)),n.dispatchEvent(c)}function Fw(n,s){return function(){return gp(this,n,s)}}function Kw(n,s){return function(){return gp(this,n,s.apply(this,arguments))}}function Iw(n,s){return this.each((typeof s=="function"?Kw:Fw)(n,s))}function*Jw(){for(var n=this._groups,s=0,i=n.length;s<i;++s)for(var o=n[s],c=0,d=o.length,f;c<d;++c)(f=o[c])&&(yield f)}var mp=[null];function Ut(n,s){this._groups=n,this._parents=s}function Ai(){return new Ut([[document.documentElement]],mp)}function Ww(){return this}Ut.prototype=Ai.prototype={constructor:Ut,select:S2,selectAll:z2,selectChild:M2,selectChildren:R2,filter:H2,data:Y2,enter:U2,exit:X2,join:Z2,merge:Q2,selection:Ww,order:F2,sort:K2,call:J2,nodes:W2,node:P2,size:ew,empty:tw,each:nw,attr:cw,style:hw,property:pw,classed:Nw,text:kw,html:Aw,raise:_w,lower:Dw,append:Ow,insert:Rw,remove:Uw,clone:qw,datum:$w,on:Qw,dispatch:Iw,[Symbol.iterator]:Jw};function Ht(n){return typeof n=="string"?new Ut([[document.querySelector(n)]],[document.documentElement]):new Ut([[n]],mp)}function Pw(n){let s;for(;s=n.sourceEvent;)n=s;return n}function en(n,s){if(n=Pw(n),s===void 0&&(s=n.currentTarget),s){var i=s.ownerSVGElement||s;if(i.createSVGPoint){var o=i.createSVGPoint();return o.x=n.clientX,o.y=n.clientY,o=o.matrixTransform(s.getScreenCTM().inverse()),[o.x,o.y]}if(s.getBoundingClientRect){var c=s.getBoundingClientRect();return[n.clientX-c.left-s.clientLeft,n.clientY-c.top-s.clientTop]}}return[n.pageX,n.pageY]}const eS={passive:!1},bi={capture:!0,passive:!1};function wd(n){n.stopImmediatePropagation()}function er(n){n.preventDefault(),n.stopImmediatePropagation()}function xp(n){var s=n.document.documentElement,i=Ht(n).on("dragstart.drag",er,bi);"onselectstart"in s?i.on("selectstart.drag",er,bi):(s.__noselect=s.style.MozUserSelect,s.style.MozUserSelect="none")}function pp(n,s){var i=n.document.documentElement,o=Ht(n).on("dragstart.drag",null);s&&(o.on("click.drag",er,bi),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in i?o.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const ro=n=>()=>n;function Ud(n,{sourceEvent:s,subject:i,target:o,identifier:c,active:d,x:f,y:g,dx:m,dy:x,dispatch:y}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:s,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:c,enumerable:!0,configurable:!0},active:{value:d,enumerable:!0,configurable:!0},x:{value:f,enumerable:!0,configurable:!0},y:{value:g,enumerable:!0,configurable:!0},dx:{value:m,enumerable:!0,configurable:!0},dy:{value:x,enumerable:!0,configurable:!0},_:{value:y}})}Ud.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function tS(n){return!n.ctrlKey&&!n.button}function nS(){return this.parentNode}function aS(n,s){return s??{x:n.x,y:n.y}}function sS(){return navigator.maxTouchPoints||"ontouchstart"in this}function yp(){var n=tS,s=nS,i=aS,o=sS,c={},d=Lo("start","drag","end"),f=0,g,m,x,y,p=0;function v(z){z.on("mousedown.drag",j).filter(o).on("touchstart.drag",T).on("touchmove.drag",E,eS).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function j(z,L){if(!(y||!n.call(this,z,L))){var B=w(this,s.call(this,z,L),z,L,"mouse");B&&(Ht(z.view).on("mousemove.drag",N,bi).on("mouseup.drag",k,bi),xp(z.view),wd(z),x=!1,g=z.clientX,m=z.clientY,B("start",z))}}function N(z){if(er(z),!x){var L=z.clientX-g,B=z.clientY-m;x=L*L+B*B>p}c.mouse("drag",z)}function k(z){Ht(z.view).on("mousemove.drag mouseup.drag",null),pp(z.view,x),er(z),c.mouse("end",z)}function T(z,L){if(n.call(this,z,L)){var B=z.changedTouches,$=s.call(this,z,L),V=B.length,q,te;for(q=0;q<V;++q)(te=w(this,$,z,L,B[q].identifier,B[q]))&&(wd(z),te("start",z,B[q]))}}function E(z){var L=z.changedTouches,B=L.length,$,V;for($=0;$<B;++$)(V=c[L[$].identifier])&&(er(z),V("drag",z,L[$]))}function M(z){var L=z.changedTouches,B=L.length,$,V;for(y&&clearTimeout(y),y=setTimeout(function(){y=null},500),$=0;$<B;++$)(V=c[L[$].identifier])&&(wd(z),V("end",z,L[$]))}function w(z,L,B,$,V,q){var te=d.copy(),G=en(q||B,L),F,H,_;if((_=i.call(z,new Ud("beforestart",{sourceEvent:B,target:v,identifier:V,active:f,x:G[0],y:G[1],dx:0,dy:0,dispatch:te}),$))!=null)return F=_.x-G[0]||0,H=_.y-G[1]||0,function D(C,O,U){var Z=G,X;switch(C){case"start":c[V]=D,X=f++;break;case"end":delete c[V],--f;case"drag":G=en(U||O,L),X=f;break}te.call(C,z,new Ud(C,{sourceEvent:O,subject:_,target:v,identifier:V,active:X,x:G[0]+F,y:G[1]+H,dx:G[0]-Z[0],dy:G[1]-Z[1],dispatch:te}),$)}}return v.filter=function(z){return arguments.length?(n=typeof z=="function"?z:ro(!!z),v):n},v.container=function(z){return arguments.length?(s=typeof z=="function"?z:ro(z),v):s},v.subject=function(z){return arguments.length?(i=typeof z=="function"?z:ro(z),v):i},v.touchable=function(z){return arguments.length?(o=typeof z=="function"?z:ro(!!z),v):o},v.on=function(){var z=d.on.apply(d,arguments);return z===d?v:z},v.clickDistance=function(z){return arguments.length?(p=(z=+z)*z,v):Math.sqrt(p)},v}var ar=0,oi=0,ii=0,bp=1e3,wo,ci,So=0,ts=0,Ho=0,vi=typeof performance=="object"&&performance.now?performance:Date,vp=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function af(){return ts||(vp(rS),ts=vi.now()+Ho)}function rS(){ts=0}function ko(){this._call=this._time=this._next=null}ko.prototype=Np.prototype={constructor:ko,restart:function(n,s,i){if(typeof n!="function")throw new TypeError("callback is not a function");i=(i==null?af():+i)+(s==null?0:+s),!this._next&&ci!==this&&(ci?ci._next=this:wo=this,ci=this),this._call=n,this._time=i,Bd()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bd())}};function Np(n,s,i){var o=new ko;return o.restart(n,s,i),o}function iS(){af(),++ar;for(var n=wo,s;n;)(s=ts-n._time)>=0&&n._call.call(void 0,s),n=n._next;--ar}function Bm(){ts=(So=vi.now())+Ho,ar=oi=0;try{iS()}finally{ar=0,oS(),ts=0}}function lS(){var n=vi.now(),s=n-So;s>bp&&(Ho-=s,So=n)}function oS(){for(var n,s=wo,i,o=1/0;s;)s._call?(o>s._time&&(o=s._time),n=s,s=s._next):(i=s._next,s._next=null,s=n?n._next=i:wo=i);ci=n,Bd(o)}function Bd(n){if(!ar){oi&&(oi=clearTimeout(oi));var s=n-ts;s>24?(n<1/0&&(oi=setTimeout(Bm,n-vi.now()-Ho)),ii&&(ii=clearInterval(ii))):(ii||(So=vi.now(),ii=setInterval(lS,bp)),ar=1,vp(Bm))}}function Vm(n,s,i){var o=new ko;return s=s==null?0:+s,o.restart(c=>{o.stop(),n(c+s)},s,i),o}var cS=Lo("start","end","cancel","interrupt"),uS=[],jp=0,qm=1,Vd=2,mo=3,$m=4,qd=5,xo=6;function Uo(n,s,i,o,c,d){var f=n.__transition;if(!f)n.__transition={};else if(i in f)return;dS(n,i,{name:s,index:o,group:c,on:cS,tween:uS,time:d.time,delay:d.delay,duration:d.duration,ease:d.ease,timer:null,state:jp})}function sf(n,s){var i=rn(n,s);if(i.state>jp)throw new Error("too late; already scheduled");return i}function yn(n,s){var i=rn(n,s);if(i.state>mo)throw new Error("too late; already running");return i}function rn(n,s){var i=n.__transition;if(!i||!(i=i[s]))throw new Error("transition not found");return i}function dS(n,s,i){var o=n.__transition,c;o[s]=i,i.timer=Np(d,0,i.time);function d(x){i.state=qm,i.timer.restart(f,i.delay,i.time),i.delay<=x&&f(x-i.delay)}function f(x){var y,p,v,j;if(i.state!==qm)return m();for(y in o)if(j=o[y],j.name===i.name){if(j.state===mo)return Vm(f);j.state===$m?(j.state=xo,j.timer.stop(),j.on.call("interrupt",n,n.__data__,j.index,j.group),delete o[y]):+y<s&&(j.state=xo,j.timer.stop(),j.on.call("cancel",n,n.__data__,j.index,j.group),delete o[y])}if(Vm(function(){i.state===mo&&(i.state=$m,i.timer.restart(g,i.delay,i.time),g(x))}),i.state=Vd,i.on.call("start",n,n.__data__,i.index,i.group),i.state===Vd){for(i.state=mo,c=new Array(v=i.tween.length),y=0,p=-1;y<v;++y)(j=i.tween[y].value.call(n,n.__data__,i.index,i.group))&&(c[++p]=j);c.length=p+1}}function g(x){for(var y=x<i.duration?i.ease.call(null,x/i.duration):(i.timer.restart(m),i.state=qd,1),p=-1,v=c.length;++p<v;)c[p].call(n,y);i.state===qd&&(i.on.call("end",n,n.__data__,i.index,i.group),m())}function m(){i.state=xo,i.timer.stop(),delete o[s];for(var x in o)return;delete n.__transition}}function po(n,s){var i=n.__transition,o,c,d=!0,f;if(i){s=s==null?null:s+"";for(f in i){if((o=i[f]).name!==s){d=!1;continue}c=o.state>Vd&&o.state<qd,o.state=xo,o.timer.stop(),o.on.call(c?"interrupt":"cancel",n,n.__data__,o.index,o.group),delete i[f]}d&&delete n.__transition}}function fS(n){return this.each(function(){po(this,n)})}function hS(n,s){var i,o;return function(){var c=yn(this,n),d=c.tween;if(d!==i){o=i=d;for(var f=0,g=o.length;f<g;++f)if(o[f].name===s){o=o.slice(),o.splice(f,1);break}}c.tween=o}}function gS(n,s,i){var o,c;if(typeof i!="function")throw new Error;return function(){var d=yn(this,n),f=d.tween;if(f!==o){c=(o=f).slice();for(var g={name:s,value:i},m=0,x=c.length;m<x;++m)if(c[m].name===s){c[m]=g;break}m===x&&c.push(g)}d.tween=c}}function mS(n,s){var i=this._id;if(n+="",arguments.length<2){for(var o=rn(this.node(),i).tween,c=0,d=o.length,f;c<d;++c)if((f=o[c]).name===n)return f.value;return null}return this.each((s==null?hS:gS)(i,n,s))}function rf(n,s,i){var o=n._id;return n.each(function(){var c=yn(this,o);(c.value||(c.value={}))[s]=i.apply(this,arguments)}),function(c){return rn(c,o).value[s]}}function wp(n,s){var i;return(typeof s=="number"?Iv:s instanceof im?rm:(i=im(s))?(s=i,rm):Jv)(n,s)}function xS(n){return function(){this.removeAttribute(n)}}function pS(n){return function(){this.removeAttributeNS(n.space,n.local)}}function yS(n,s,i){var o,c=i+"",d;return function(){var f=this.getAttribute(n);return f===c?null:f===o?d:d=s(o=f,i)}}function bS(n,s,i){var o,c=i+"",d;return function(){var f=this.getAttributeNS(n.space,n.local);return f===c?null:f===o?d:d=s(o=f,i)}}function vS(n,s,i){var o,c,d;return function(){var f,g=i(this),m;return g==null?void this.removeAttribute(n):(f=this.getAttribute(n),m=g+"",f===m?null:f===o&&m===c?d:(c=m,d=s(o=f,g)))}}function NS(n,s,i){var o,c,d;return function(){var f,g=i(this),m;return g==null?void this.removeAttributeNS(n.space,n.local):(f=this.getAttributeNS(n.space,n.local),m=g+"",f===m?null:f===o&&m===c?d:(c=m,d=s(o=f,g)))}}function jS(n,s){var i=Ro(n),o=i==="transform"?Wv:wp;return this.attrTween(n,typeof s=="function"?(i.local?NS:vS)(i,o,rf(this,"attr."+n,s)):s==null?(i.local?pS:xS)(i):(i.local?bS:yS)(i,o,s))}function wS(n,s){return function(i){this.setAttribute(n,s.call(this,i))}}function SS(n,s){return function(i){this.setAttributeNS(n.space,n.local,s.call(this,i))}}function kS(n,s){var i,o;function c(){var d=s.apply(this,arguments);return d!==o&&(i=(o=d)&&SS(n,d)),i}return c._value=s,c}function CS(n,s){var i,o;function c(){var d=s.apply(this,arguments);return d!==o&&(i=(o=d)&&wS(n,d)),i}return c._value=s,c}function ES(n,s){var i="attr."+n;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(s==null)return this.tween(i,null);if(typeof s!="function")throw new Error;var o=Ro(n);return this.tween(i,(o.local?kS:CS)(o,s))}function zS(n,s){return function(){sf(this,n).delay=+s.apply(this,arguments)}}function AS(n,s){return s=+s,function(){sf(this,n).delay=s}}function TS(n){var s=this._id;return arguments.length?this.each((typeof n=="function"?zS:AS)(s,n)):rn(this.node(),s).delay}function _S(n,s){return function(){yn(this,n).duration=+s.apply(this,arguments)}}function MS(n,s){return s=+s,function(){yn(this,n).duration=s}}function DS(n){var s=this._id;return arguments.length?this.each((typeof n=="function"?_S:MS)(s,n)):rn(this.node(),s).duration}function OS(n,s){if(typeof s!="function")throw new Error;return function(){yn(this,n).ease=s}}function LS(n){var s=this._id;return arguments.length?this.each(OS(s,n)):rn(this.node(),s).ease}function RS(n,s){return function(){var i=s.apply(this,arguments);if(typeof i!="function")throw new Error;yn(this,n).ease=i}}function HS(n){if(typeof n!="function")throw new Error;return this.each(RS(this._id,n))}function US(n){typeof n!="function"&&(n=ip(n));for(var s=this._groups,i=s.length,o=new Array(i),c=0;c<i;++c)for(var d=s[c],f=d.length,g=o[c]=[],m,x=0;x<f;++x)(m=d[x])&&n.call(m,m.__data__,x,d)&&g.push(m);return new Gn(o,this._parents,this._name,this._id)}function BS(n){if(n._id!==this._id)throw new Error;for(var s=this._groups,i=n._groups,o=s.length,c=i.length,d=Math.min(o,c),f=new Array(o),g=0;g<d;++g)for(var m=s[g],x=i[g],y=m.length,p=f[g]=new Array(y),v,j=0;j<y;++j)(v=m[j]||x[j])&&(p[j]=v);for(;g<o;++g)f[g]=s[g];return new Gn(f,this._parents,this._name,this._id)}function VS(n){return(n+"").trim().split(/^|\s+/).every(function(s){var i=s.indexOf(".");return i>=0&&(s=s.slice(0,i)),!s||s==="start"})}function qS(n,s,i){var o,c,d=VS(s)?sf:yn;return function(){var f=d(this,n),g=f.on;g!==o&&(c=(o=g).copy()).on(s,i),f.on=c}}function $S(n,s){var i=this._id;return arguments.length<2?rn(this.node(),i).on.on(n):this.each(qS(i,n,s))}function YS(n){return function(){var s=this.parentNode;for(var i in this.__transition)if(+i!==n)return;s&&s.removeChild(this)}}function GS(){return this.on("end.remove",YS(this._id))}function XS(n){var s=this._name,i=this._id;typeof n!="function"&&(n=tf(n));for(var o=this._groups,c=o.length,d=new Array(c),f=0;f<c;++f)for(var g=o[f],m=g.length,x=d[f]=new Array(m),y,p,v=0;v<m;++v)(y=g[v])&&(p=n.call(y,y.__data__,v,g))&&("__data__"in y&&(p.__data__=y.__data__),x[v]=p,Uo(x[v],s,i,v,x,rn(y,i)));return new Gn(d,this._parents,s,i)}function ZS(n){var s=this._name,i=this._id;typeof n!="function"&&(n=rp(n));for(var o=this._groups,c=o.length,d=[],f=[],g=0;g<c;++g)for(var m=o[g],x=m.length,y,p=0;p<x;++p)if(y=m[p]){for(var v=n.call(y,y.__data__,p,m),j,N=rn(y,i),k=0,T=v.length;k<T;++k)(j=v[k])&&Uo(j,s,i,k,v,N);d.push(v),f.push(y)}return new Gn(d,f,s,i)}var QS=Ai.prototype.constructor;function FS(){return new QS(this._groups,this._parents)}function KS(n,s){var i,o,c;return function(){var d=nr(this,n),f=(this.style.removeProperty(n),nr(this,n));return d===f?null:d===i&&f===o?c:c=s(i=d,o=f)}}function Sp(n){return function(){this.style.removeProperty(n)}}function IS(n,s,i){var o,c=i+"",d;return function(){var f=nr(this,n);return f===c?null:f===o?d:d=s(o=f,i)}}function JS(n,s,i){var o,c,d;return function(){var f=nr(this,n),g=i(this),m=g+"";return g==null&&(m=g=(this.style.removeProperty(n),nr(this,n))),f===m?null:f===o&&m===c?d:(c=m,d=s(o=f,g))}}function WS(n,s){var i,o,c,d="style."+s,f="end."+d,g;return function(){var m=yn(this,n),x=m.on,y=m.value[d]==null?g||(g=Sp(s)):void 0;(x!==i||c!==y)&&(o=(i=x).copy()).on(f,c=y),m.on=o}}function PS(n,s,i){var o=(n+="")=="transform"?Pv:wp;return s==null?this.styleTween(n,KS(n,o)).on("end.style."+n,Sp(n)):typeof s=="function"?this.styleTween(n,JS(n,o,rf(this,"style."+n,s))).each(WS(this._id,n)):this.styleTween(n,IS(n,o,s),i).on("end.style."+n,null)}function ek(n,s,i){return function(o){this.style.setProperty(n,s.call(this,o),i)}}function tk(n,s,i){var o,c;function d(){var f=s.apply(this,arguments);return f!==c&&(o=(c=f)&&ek(n,f,i)),o}return d._value=s,d}function nk(n,s,i){var o="style."+(n+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(s==null)return this.tween(o,null);if(typeof s!="function")throw new Error;return this.tween(o,tk(n,s,i??""))}function ak(n){return function(){this.textContent=n}}function sk(n){return function(){var s=n(this);this.textContent=s??""}}function rk(n){return this.tween("text",typeof n=="function"?sk(rf(this,"text",n)):ak(n==null?"":n+""))}function ik(n){return function(s){this.textContent=n.call(this,s)}}function lk(n){var s,i;function o(){var c=n.apply(this,arguments);return c!==i&&(s=(i=c)&&ik(c)),s}return o._value=n,o}function ok(n){var s="text";if(arguments.length<1)return(s=this.tween(s))&&s._value;if(n==null)return this.tween(s,null);if(typeof n!="function")throw new Error;return this.tween(s,lk(n))}function ck(){for(var n=this._name,s=this._id,i=kp(),o=this._groups,c=o.length,d=0;d<c;++d)for(var f=o[d],g=f.length,m,x=0;x<g;++x)if(m=f[x]){var y=rn(m,s);Uo(m,n,i,x,f,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new Gn(o,this._parents,n,i)}function uk(){var n,s,i=this,o=i._id,c=i.size();return new Promise(function(d,f){var g={value:f},m={value:function(){--c===0&&d()}};i.each(function(){var x=yn(this,o),y=x.on;y!==n&&(s=(n=y).copy(),s._.cancel.push(g),s._.interrupt.push(g),s._.end.push(m)),x.on=s}),c===0&&d()})}var dk=0;function Gn(n,s,i,o){this._groups=n,this._parents=s,this._name=i,this._id=o}function kp(){return++dk}var $n=Ai.prototype;Gn.prototype={constructor:Gn,select:XS,selectAll:ZS,selectChild:$n.selectChild,selectChildren:$n.selectChildren,filter:US,merge:BS,selection:FS,transition:ck,call:$n.call,nodes:$n.nodes,node:$n.node,size:$n.size,empty:$n.empty,each:$n.each,on:$S,attr:jS,attrTween:ES,style:PS,styleTween:nk,text:rk,textTween:ok,remove:GS,tween:mS,delay:TS,duration:DS,ease:LS,easeVarying:HS,end:uk,[Symbol.iterator]:$n[Symbol.iterator]};function fk(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var hk={time:null,delay:0,duration:250,ease:fk};function gk(n,s){for(var i;!(i=n.__transition)||!(i=i[s]);)if(!(n=n.parentNode))throw new Error(`transition ${s} not found`);return i}function mk(n){var s,i;n instanceof Gn?(s=n._id,n=n._name):(s=kp(),(i=hk).time=af(),n=n==null?null:n+"");for(var o=this._groups,c=o.length,d=0;d<c;++d)for(var f=o[d],g=f.length,m,x=0;x<g;++x)(m=f[x])&&Uo(m,n,s,x,f,i||gk(m,s));return new Gn(o,this._parents,n,s)}Ai.prototype.interrupt=fS;Ai.prototype.transition=mk;const io=n=>()=>n;function xk(n,{sourceEvent:s,target:i,transform:o,dispatch:c}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:s,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:c}})}function Yn(n,s,i){this.k=n,this.x=s,this.y=i}Yn.prototype={constructor:Yn,scale:function(n){return n===1?this:new Yn(this.k*n,this.x,this.y)},translate:function(n,s){return n===0&s===0?this:new Yn(this.k,this.x+this.k*n,this.y+this.k*s)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Bo=new Yn(1,0,0);Cp.prototype=Yn.prototype;function Cp(n){for(;!n.__zoom;)if(!(n=n.parentNode))return Bo;return n.__zoom}function Sd(n){n.stopImmediatePropagation()}function li(n){n.preventDefault(),n.stopImmediatePropagation()}function pk(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function yk(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function Ym(){return this.__zoom||Bo}function bk(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function vk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Nk(n,s,i){var o=n.invertX(s[0][0])-i[0][0],c=n.invertX(s[1][0])-i[1][0],d=n.invertY(s[0][1])-i[0][1],f=n.invertY(s[1][1])-i[1][1];return n.translate(c>o?(o+c)/2:Math.min(0,o)||Math.max(0,c),f>d?(d+f)/2:Math.min(0,d)||Math.max(0,f))}function Ep(){var n=pk,s=yk,i=Nk,o=bk,c=vk,d=[0,1/0],f=[[-1/0,-1/0],[1/0,1/0]],g=250,m=fo,x=Lo("start","zoom","end"),y,p,v,j=500,N=150,k=0,T=10;function E(_){_.property("__zoom",Ym).on("wheel.zoom",V,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",te).filter(c).on("touchstart.zoom",G).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",H).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}E.transform=function(_,D,C,O){var U=_.selection?_.selection():_;U.property("__zoom",Ym),_!==U?L(_,D,C,O):U.interrupt().each(function(){B(this,arguments).event(O).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},E.scaleBy=function(_,D,C,O){E.scaleTo(_,function(){var U=this.__zoom.k,Z=typeof D=="function"?D.apply(this,arguments):D;return U*Z},C,O)},E.scaleTo=function(_,D,C,O){E.transform(_,function(){var U=s.apply(this,arguments),Z=this.__zoom,X=C==null?z(U):typeof C=="function"?C.apply(this,arguments):C,P=Z.invert(X),W=typeof D=="function"?D.apply(this,arguments):D;return i(w(M(Z,W),X,P),U,f)},C,O)},E.translateBy=function(_,D,C,O){E.transform(_,function(){return i(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof C=="function"?C.apply(this,arguments):C),s.apply(this,arguments),f)},null,O)},E.translateTo=function(_,D,C,O,U){E.transform(_,function(){var Z=s.apply(this,arguments),X=this.__zoom,P=O==null?z(Z):typeof O=="function"?O.apply(this,arguments):O;return i(Bo.translate(P[0],P[1]).scale(X.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof C=="function"?-C.apply(this,arguments):-C),Z,f)},O,U)};function M(_,D){return D=Math.max(d[0],Math.min(d[1],D)),D===_.k?_:new Yn(D,_.x,_.y)}function w(_,D,C){var O=D[0]-C[0]*_.k,U=D[1]-C[1]*_.k;return O===_.x&&U===_.y?_:new Yn(_.k,O,U)}function z(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function L(_,D,C,O){_.on("start.zoom",function(){B(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){B(this,arguments).event(O).end()}).tween("zoom",function(){var U=this,Z=arguments,X=B(U,Z).event(O),P=s.apply(U,Z),W=C==null?z(P):typeof C=="function"?C.apply(U,Z):C,se=Math.max(P[1][0]-P[0][0],P[1][1]-P[0][1]),le=U.__zoom,fe=typeof D=="function"?D.apply(U,Z):D,be=m(le.invert(W).concat(se/le.k),fe.invert(W).concat(se/fe.k));return function(me){if(me===1)me=fe;else{var oe=be(me),ue=se/oe[2];me=new Yn(ue,W[0]-oe[0]*ue,W[1]-oe[1]*ue)}X.zoom(null,me)}})}function B(_,D,C){return!C&&_.__zooming||new $(_,D)}function $(_,D){this.that=_,this.args=D,this.active=0,this.sourceEvent=null,this.extent=s.apply(_,D),this.taps=0}$.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,D){return this.mouse&&_!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var D=Ht(this.that).datum();x.call(_,this.that,new xk(_,{sourceEvent:this.sourceEvent,target:E,transform:this.that.__zoom,dispatch:x}),D)}};function V(_,...D){if(!n.apply(this,arguments))return;var C=B(this,D).event(_),O=this.__zoom,U=Math.max(d[0],Math.min(d[1],O.k*Math.pow(2,o.apply(this,arguments)))),Z=en(_);if(C.wheel)(C.mouse[0][0]!==Z[0]||C.mouse[0][1]!==Z[1])&&(C.mouse[1]=O.invert(C.mouse[0]=Z)),clearTimeout(C.wheel);else{if(O.k===U)return;C.mouse=[Z,O.invert(Z)],po(this),C.start()}li(_),C.wheel=setTimeout(X,N),C.zoom("mouse",i(w(M(O,U),C.mouse[0],C.mouse[1]),C.extent,f));function X(){C.wheel=null,C.end()}}function q(_,...D){if(v||!n.apply(this,arguments))return;var C=_.currentTarget,O=B(this,D,!0).event(_),U=Ht(_.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",se,!0),Z=en(_,C),X=_.clientX,P=_.clientY;xp(_.view),Sd(_),O.mouse=[Z,this.__zoom.invert(Z)],po(this),O.start();function W(le){if(li(le),!O.moved){var fe=le.clientX-X,be=le.clientY-P;O.moved=fe*fe+be*be>k}O.event(le).zoom("mouse",i(w(O.that.__zoom,O.mouse[0]=en(le,C),O.mouse[1]),O.extent,f))}function se(le){U.on("mousemove.zoom mouseup.zoom",null),pp(le.view,O.moved),li(le),O.event(le).end()}}function te(_,...D){if(n.apply(this,arguments)){var C=this.__zoom,O=en(_.changedTouches?_.changedTouches[0]:_,this),U=C.invert(O),Z=C.k*(_.shiftKey?.5:2),X=i(w(M(C,Z),O,U),s.apply(this,D),f);li(_),g>0?Ht(this).transition().duration(g).call(L,X,O,_):Ht(this).call(E.transform,X,O,_)}}function G(_,...D){if(n.apply(this,arguments)){var C=_.touches,O=C.length,U=B(this,D,_.changedTouches.length===O).event(_),Z,X,P,W;for(Sd(_),X=0;X<O;++X)P=C[X],W=en(P,this),W=[W,this.__zoom.invert(W),P.identifier],U.touch0?!U.touch1&&U.touch0[2]!==W[2]&&(U.touch1=W,U.taps=0):(U.touch0=W,Z=!0,U.taps=1+!!y);y&&(y=clearTimeout(y)),Z&&(U.taps<2&&(p=W[0],y=setTimeout(function(){y=null},j)),po(this),U.start())}}function F(_,...D){if(this.__zooming){var C=B(this,D).event(_),O=_.changedTouches,U=O.length,Z,X,P,W;for(li(_),Z=0;Z<U;++Z)X=O[Z],P=en(X,this),C.touch0&&C.touch0[2]===X.identifier?C.touch0[0]=P:C.touch1&&C.touch1[2]===X.identifier&&(C.touch1[0]=P);if(X=C.that.__zoom,C.touch1){var se=C.touch0[0],le=C.touch0[1],fe=C.touch1[0],be=C.touch1[1],me=(me=fe[0]-se[0])*me+(me=fe[1]-se[1])*me,oe=(oe=be[0]-le[0])*oe+(oe=be[1]-le[1])*oe;X=M(X,Math.sqrt(me/oe)),P=[(se[0]+fe[0])/2,(se[1]+fe[1])/2],W=[(le[0]+be[0])/2,(le[1]+be[1])/2]}else if(C.touch0)P=C.touch0[0],W=C.touch0[1];else return;C.zoom("touch",i(w(X,P,W),C.extent,f))}}function H(_,...D){if(this.__zooming){var C=B(this,D).event(_),O=_.changedTouches,U=O.length,Z,X;for(Sd(_),v&&clearTimeout(v),v=setTimeout(function(){v=null},j),Z=0;Z<U;++Z)X=O[Z],C.touch0&&C.touch0[2]===X.identifier?delete C.touch0:C.touch1&&C.touch1[2]===X.identifier&&delete C.touch1;if(C.touch1&&!C.touch0&&(C.touch0=C.touch1,delete C.touch1),C.touch0)C.touch0[1]=this.__zoom.invert(C.touch0[0]);else if(C.end(),C.taps===2&&(X=en(X,this),Math.hypot(p[0]-X[0],p[1]-X[1])<T)){var P=Ht(this).on("dblclick.zoom");P&&P.apply(this,arguments)}}}return E.wheelDelta=function(_){return arguments.length?(o=typeof _=="function"?_:io(+_),E):o},E.filter=function(_){return arguments.length?(n=typeof _=="function"?_:io(!!_),E):n},E.touchable=function(_){return arguments.length?(c=typeof _=="function"?_:io(!!_),E):c},E.extent=function(_){return arguments.length?(s=typeof _=="function"?_:io([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),E):s},E.scaleExtent=function(_){return arguments.length?(d[0]=+_[0],d[1]=+_[1],E):[d[0],d[1]]},E.translateExtent=function(_){return arguments.length?(f[0][0]=+_[0][0],f[1][0]=+_[1][0],f[0][1]=+_[0][1],f[1][1]=+_[1][1],E):[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]},E.constrain=function(_){return arguments.length?(i=_,E):i},E.duration=function(_){return arguments.length?(g=+_,E):g},E.interpolate=function(_){return arguments.length?(m=_,E):m},E.on=function(){var _=x.on.apply(x,arguments);return _===x?E:_},E.clickDistance=function(_){return arguments.length?(k=(_=+_)*_,E):Math.sqrt(k)},E.tapDistance=function(_){return arguments.length?(T=+_,E):T},E}const pn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:n=>`Node type "${n}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:n=>`The old edge with id=${n} does not exist.`,error009:n=>`Marker type "${n}" doesn't exist.`,error008:(n,{id:s,sourceHandle:i,targetHandle:o})=>`Couldn't create edge for ${n} handle id: "${n==="source"?i:o}", edge id: ${s}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:n=>`Edge type "${n}" not found. Using fallback type "default".`,error012:n=>`Node with id "${n}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(n="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${n}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Ni=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],zp=["Enter"," ","Escape"],Ap={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:n,x:s,y:i})=>`Moved selected node ${n}. New position, x: ${s}, y: ${i}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var sr;(function(n){n.Strict="strict",n.Loose="loose"})(sr||(sr={}));var Pa;(function(n){n.Free="free",n.Vertical="vertical",n.Horizontal="horizontal"})(Pa||(Pa={}));var ji;(function(n){n.Partial="partial",n.Full="full"})(ji||(ji={}));const Tp={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var wa;(function(n){n.Bezier="default",n.Straight="straight",n.Step="step",n.SmoothStep="smoothstep",n.SimpleBezier="simplebezier"})(wa||(wa={}));var Co;(function(n){n.Arrow="arrow",n.ArrowClosed="arrowclosed"})(Co||(Co={}));var ge;(function(n){n.Left="left",n.Top="top",n.Right="right",n.Bottom="bottom"})(ge||(ge={}));const Gm={[ge.Left]:ge.Right,[ge.Right]:ge.Left,[ge.Top]:ge.Bottom,[ge.Bottom]:ge.Top};function _p(n){return n===null?null:n?"valid":"invalid"}const Mp=n=>"id"in n&&"source"in n&&"target"in n,jk=n=>"id"in n&&"position"in n&&!("source"in n)&&!("target"in n),lf=n=>"id"in n&&"internals"in n&&!("source"in n)&&!("target"in n),Ti=(n,s=[0,0])=>{const{width:i,height:o}=Xn(n),c=n.origin??s,d=i*c[0],f=o*c[1];return{x:n.position.x-d,y:n.position.y-f}},wk=(n,s={nodeOrigin:[0,0]})=>{if(n.length===0)return{x:0,y:0,width:0,height:0};const i=n.reduce((o,c)=>{const d=typeof c=="string";let f=!s.nodeLookup&&!d?c:void 0;s.nodeLookup&&(f=d?s.nodeLookup.get(c):lf(c)?c:s.nodeLookup.get(c.id));const g=f?Eo(f,s.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Vo(o,g)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return qo(i)},_i=(n,s={})=>{let i={x:1/0,y:1/0,x2:-1/0,y2:-1/0},o=!1;return n.forEach(c=>{(s.filter===void 0||s.filter(c))&&(i=Vo(i,Eo(c)),o=!0)}),o?qo(i):{x:0,y:0,width:0,height:0}},of=(n,s,[i,o,c]=[0,0,1],d=!1,f=!1)=>{const g={...Di(s,[i,o,c]),width:s.width/c,height:s.height/c},m=[];for(const x of n.values()){const{measured:y,selectable:p=!0,hidden:v=!1}=x;if(f&&!p||v)continue;const j=y.width??x.width??x.initialWidth??null,N=y.height??x.height??x.initialHeight??null,k=wi(g,ir(x)),T=(j??0)*(N??0),E=d&&k>0;(!x.internals.handleBounds||E||k>=T||x.dragging)&&m.push(x)}return m},Sk=(n,s)=>{const i=new Set;return n.forEach(o=>{i.add(o.id)}),s.filter(o=>i.has(o.source)||i.has(o.target))};function kk(n,s){const i=new Map,o=s?.nodes?new Set(s.nodes.map(c=>c.id)):null;return n.forEach(c=>{c.measured.width&&c.measured.height&&(s?.includeHiddenNodes||!c.hidden)&&(!o||o.has(c.id))&&i.set(c.id,c)}),i}async function Ck({nodes:n,width:s,height:i,panZoom:o,minZoom:c,maxZoom:d},f){if(n.size===0)return Promise.resolve(!0);const g=kk(n,f),m=_i(g),x=cf(m,s,i,f?.minZoom??c,f?.maxZoom??d,f?.padding??.1);return await o.setViewport(x,{duration:f?.duration,ease:f?.ease,interpolate:f?.interpolate}),Promise.resolve(!0)}function Dp({nodeId:n,nextPosition:s,nodeLookup:i,nodeOrigin:o=[0,0],nodeExtent:c,onError:d}){const f=i.get(n),g=f.parentId?i.get(f.parentId):void 0,{x:m,y:x}=g?g.internals.positionAbsolute:{x:0,y:0},y=f.origin??o;let p=f.extent||c;if(f.extent==="parent"&&!f.expandParent)if(!g)d?.("005",pn.error005());else{const j=g.measured.width,N=g.measured.height;j&&N&&(p=[[m,x],[m+j,x+N]])}else g&&lr(f.extent)&&(p=[[f.extent[0][0]+m,f.extent[0][1]+x],[f.extent[1][0]+m,f.extent[1][1]+x]]);const v=lr(p)?ns(s,p,f.measured):s;return(f.measured.width===void 0||f.measured.height===void 0)&&d?.("015",pn.error015()),{position:{x:v.x-m+(f.measured.width??0)*y[0],y:v.y-x+(f.measured.height??0)*y[1]},positionAbsolute:v}}async function Ek({nodesToRemove:n=[],edgesToRemove:s=[],nodes:i,edges:o,onBeforeDelete:c}){const d=new Set(n.map(v=>v.id)),f=[];for(const v of i){if(v.deletable===!1)continue;const j=d.has(v.id),N=!j&&v.parentId&&f.find(k=>k.id===v.parentId);(j||N)&&f.push(v)}const g=new Set(s.map(v=>v.id)),m=o.filter(v=>v.deletable!==!1),y=Sk(f,m);for(const v of m)g.has(v.id)&&!y.find(N=>N.id===v.id)&&y.push(v);if(!c)return{edges:y,nodes:f};const p=await c({nodes:f,edges:y});return typeof p=="boolean"?p?{edges:y,nodes:f}:{edges:[],nodes:[]}:p}const rr=(n,s=0,i=1)=>Math.min(Math.max(n,s),i),ns=(n={x:0,y:0},s,i)=>({x:rr(n.x,s[0][0],s[1][0]-(i?.width??0)),y:rr(n.y,s[0][1],s[1][1]-(i?.height??0))});function Op(n,s,i){const{width:o,height:c}=Xn(i),{x:d,y:f}=i.internals.positionAbsolute;return ns(n,[[d,f],[d+o,f+c]],s)}const Xm=(n,s,i)=>n<s?rr(Math.abs(n-s),1,s)/s:n>i?-rr(Math.abs(n-i),1,s)/s:0,Lp=(n,s,i=15,o=40)=>{const c=Xm(n.x,o,s.width-o)*i,d=Xm(n.y,o,s.height-o)*i;return[c,d]},Vo=(n,s)=>({x:Math.min(n.x,s.x),y:Math.min(n.y,s.y),x2:Math.max(n.x2,s.x2),y2:Math.max(n.y2,s.y2)}),$d=({x:n,y:s,width:i,height:o})=>({x:n,y:s,x2:n+i,y2:s+o}),qo=({x:n,y:s,x2:i,y2:o})=>({x:n,y:s,width:i-n,height:o-s}),ir=(n,s=[0,0])=>{const{x:i,y:o}=lf(n)?n.internals.positionAbsolute:Ti(n,s);return{x:i,y:o,width:n.measured?.width??n.width??n.initialWidth??0,height:n.measured?.height??n.height??n.initialHeight??0}},Eo=(n,s=[0,0])=>{const{x:i,y:o}=lf(n)?n.internals.positionAbsolute:Ti(n,s);return{x:i,y:o,x2:i+(n.measured?.width??n.width??n.initialWidth??0),y2:o+(n.measured?.height??n.height??n.initialHeight??0)}},Rp=(n,s)=>qo(Vo($d(n),$d(s))),wi=(n,s)=>{const i=Math.max(0,Math.min(n.x+n.width,s.x+s.width)-Math.max(n.x,s.x)),o=Math.max(0,Math.min(n.y+n.height,s.y+s.height)-Math.max(n.y,s.y));return Math.ceil(i*o)},Zm=n=>tn(n.width)&&tn(n.height)&&tn(n.x)&&tn(n.y),tn=n=>!isNaN(n)&&isFinite(n),zk=(n,s)=>{},Mi=(n,s=[1,1])=>({x:s[0]*Math.round(n.x/s[0]),y:s[1]*Math.round(n.y/s[1])}),Di=({x:n,y:s},[i,o,c],d=!1,f=[1,1])=>{const g={x:(n-i)/c,y:(s-o)/c};return d?Mi(g,f):g},zo=({x:n,y:s},[i,o,c])=>({x:n*c+i,y:s*c+o});function Is(n,s){if(typeof n=="number")return Math.floor((s-s/(1+n))*.5);if(typeof n=="string"&&n.endsWith("px")){const i=parseFloat(n);if(!Number.isNaN(i))return Math.floor(i)}if(typeof n=="string"&&n.endsWith("%")){const i=parseFloat(n);if(!Number.isNaN(i))return Math.floor(s*i*.01)}return console.error(`[React Flow] The padding value "${n}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Ak(n,s,i){if(typeof n=="string"||typeof n=="number"){const o=Is(n,i),c=Is(n,s);return{top:o,right:c,bottom:o,left:c,x:c*2,y:o*2}}if(typeof n=="object"){const o=Is(n.top??n.y??0,i),c=Is(n.bottom??n.y??0,i),d=Is(n.left??n.x??0,s),f=Is(n.right??n.x??0,s);return{top:o,right:f,bottom:c,left:d,x:d+f,y:o+c}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Tk(n,s,i,o,c,d){const{x:f,y:g}=zo(n,[s,i,o]),{x:m,y:x}=zo({x:n.x+n.width,y:n.y+n.height},[s,i,o]),y=c-m,p=d-x;return{left:Math.floor(f),top:Math.floor(g),right:Math.floor(y),bottom:Math.floor(p)}}const cf=(n,s,i,o,c,d)=>{const f=Ak(d,s,i),g=(s-f.x)/n.width,m=(i-f.y)/n.height,x=Math.min(g,m),y=rr(x,o,c),p=n.x+n.width/2,v=n.y+n.height/2,j=s/2-p*y,N=i/2-v*y,k=Tk(n,j,N,y,s,i),T={left:Math.min(k.left-f.left,0),top:Math.min(k.top-f.top,0),right:Math.min(k.right-f.right,0),bottom:Math.min(k.bottom-f.bottom,0)};return{x:j-T.left+T.right,y:N-T.top+T.bottom,zoom:y}},Si=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function lr(n){return n!=null&&n!=="parent"}function Xn(n){return{width:n.measured?.width??n.width??n.initialWidth??0,height:n.measured?.height??n.height??n.initialHeight??0}}function Hp(n){return(n.measured?.width??n.width??n.initialWidth)!==void 0&&(n.measured?.height??n.height??n.initialHeight)!==void 0}function Up(n,s={width:0,height:0},i,o,c){const d={...n},f=o.get(i);if(f){const g=f.origin||c;d.x+=f.internals.positionAbsolute.x-(s.width??0)*g[0],d.y+=f.internals.positionAbsolute.y-(s.height??0)*g[1]}return d}function Qm(n,s){if(n.size!==s.size)return!1;for(const i of n)if(!s.has(i))return!1;return!0}function _k(){let n,s;return{promise:new Promise((o,c)=>{n=o,s=c}),resolve:n,reject:s}}function Mk(n){return{...Ap,...n||{}}}function hi(n,{snapGrid:s=[0,0],snapToGrid:i=!1,transform:o,containerBounds:c}){const{x:d,y:f}=nn(n),g=Di({x:d-(c?.left??0),y:f-(c?.top??0)},o),{x:m,y:x}=i?Mi(g,s):g;return{xSnapped:m,ySnapped:x,...g}}const uf=n=>({width:n.offsetWidth,height:n.offsetHeight}),Bp=n=>n?.getRootNode?.()||window?.document,Dk=["INPUT","SELECT","TEXTAREA"];function Vp(n){const s=n.composedPath?.()?.[0]||n.target;return s?.nodeType!==1?!1:Dk.includes(s.nodeName)||s.hasAttribute("contenteditable")||!!s.closest(".nokey")}const qp=n=>"clientX"in n,nn=(n,s)=>{const i=qp(n),o=i?n.clientX:n.touches?.[0].clientX,c=i?n.clientY:n.touches?.[0].clientY;return{x:o-(s?.left??0),y:c-(s?.top??0)}},Fm=(n,s,i,o,c)=>{const d=s.querySelectorAll(`.${n}`);return!d||!d.length?null:Array.from(d).map(f=>{const g=f.getBoundingClientRect();return{id:f.getAttribute("data-handleid"),type:n,nodeId:c,position:f.getAttribute("data-handlepos"),x:(g.left-i.left)/o,y:(g.top-i.top)/o,...uf(f)}})};function $p({sourceX:n,sourceY:s,targetX:i,targetY:o,sourceControlX:c,sourceControlY:d,targetControlX:f,targetControlY:g}){const m=n*.125+c*.375+f*.375+i*.125,x=s*.125+d*.375+g*.375+o*.125,y=Math.abs(m-n),p=Math.abs(x-s);return[m,x,y,p]}function lo(n,s){return n>=0?.5*n:s*25*Math.sqrt(-n)}function Km({pos:n,x1:s,y1:i,x2:o,y2:c,c:d}){switch(n){case ge.Left:return[s-lo(s-o,d),i];case ge.Right:return[s+lo(o-s,d),i];case ge.Top:return[s,i-lo(i-c,d)];case ge.Bottom:return[s,i+lo(c-i,d)]}}function Yp({sourceX:n,sourceY:s,sourcePosition:i=ge.Bottom,targetX:o,targetY:c,targetPosition:d=ge.Top,curvature:f=.25}){const[g,m]=Km({pos:i,x1:n,y1:s,x2:o,y2:c,c:f}),[x,y]=Km({pos:d,x1:o,y1:c,x2:n,y2:s,c:f}),[p,v,j,N]=$p({sourceX:n,sourceY:s,targetX:o,targetY:c,sourceControlX:g,sourceControlY:m,targetControlX:x,targetControlY:y});return[`M${n},${s} C${g},${m} ${x},${y} ${o},${c}`,p,v,j,N]}function Gp({sourceX:n,sourceY:s,targetX:i,targetY:o}){const c=Math.abs(i-n)/2,d=i<n?i+c:i-c,f=Math.abs(o-s)/2,g=o<s?o+f:o-f;return[d,g,c,f]}function Ok({sourceNode:n,targetNode:s,selected:i=!1,zIndex:o=0,elevateOnSelect:c=!1,zIndexMode:d="basic"}){if(d==="manual")return o;const f=c&&i?o+1e3:o,g=Math.max(n.parentId||c&&n.selected?n.internals.z:0,s.parentId||c&&s.selected?s.internals.z:0);return f+g}function Lk({sourceNode:n,targetNode:s,width:i,height:o,transform:c}){const d=Vo(Eo(n),Eo(s));d.x===d.x2&&(d.x2+=1),d.y===d.y2&&(d.y2+=1);const f={x:-c[0]/c[2],y:-c[1]/c[2],width:i/c[2],height:o/c[2]};return wi(f,qo(d))>0}const Rk=({source:n,sourceHandle:s,target:i,targetHandle:o})=>`xy-edge__${n}${s||""}-${i}${o||""}`,Hk=(n,s)=>s.some(i=>i.source===n.source&&i.target===n.target&&(i.sourceHandle===n.sourceHandle||!i.sourceHandle&&!n.sourceHandle)&&(i.targetHandle===n.targetHandle||!i.targetHandle&&!n.targetHandle)),Xp=(n,s,i={})=>{if(!n.source||!n.target)return s;const o=i.getEdgeId||Rk;let c;return Mp(n)?c={...n}:c={...n,id:o(n)},Hk(c,s)?s:(c.sourceHandle===null&&delete c.sourceHandle,c.targetHandle===null&&delete c.targetHandle,s.concat(c))};function Zp({sourceX:n,sourceY:s,targetX:i,targetY:o}){const[c,d,f,g]=Gp({sourceX:n,sourceY:s,targetX:i,targetY:o});return[`M ${n},${s}L ${i},${o}`,c,d,f,g]}const Im={[ge.Left]:{x:-1,y:0},[ge.Right]:{x:1,y:0},[ge.Top]:{x:0,y:-1},[ge.Bottom]:{x:0,y:1}},Uk=({source:n,sourcePosition:s=ge.Bottom,target:i})=>s===ge.Left||s===ge.Right?n.x<i.x?{x:1,y:0}:{x:-1,y:0}:n.y<i.y?{x:0,y:1}:{x:0,y:-1},Jm=(n,s)=>Math.sqrt(Math.pow(s.x-n.x,2)+Math.pow(s.y-n.y,2));function Bk({source:n,sourcePosition:s=ge.Bottom,target:i,targetPosition:o=ge.Top,center:c,offset:d,stepPosition:f}){const g=Im[s],m=Im[o],x={x:n.x+g.x*d,y:n.y+g.y*d},y={x:i.x+m.x*d,y:i.y+m.y*d},p=Uk({source:x,sourcePosition:s,target:y}),v=p.x!==0?"x":"y",j=p[v];let N=[],k,T;const E={x:0,y:0},M={x:0,y:0},[,,w,z]=Gp({sourceX:n.x,sourceY:n.y,targetX:i.x,targetY:i.y});if(g[v]*m[v]===-1){v==="x"?(k=c.x??x.x+(y.x-x.x)*f,T=c.y??(x.y+y.y)/2):(k=c.x??(x.x+y.x)/2,T=c.y??x.y+(y.y-x.y)*f);const B=[{x:k,y:x.y},{x:k,y:y.y}],$=[{x:x.x,y:T},{x:y.x,y:T}];g[v]===j?N=v==="x"?B:$:N=v==="x"?$:B}else{const B=[{x:x.x,y:y.y}],$=[{x:y.x,y:x.y}];if(v==="x"?N=g.x===j?$:B:N=g.y===j?B:$,s===o){const F=Math.abs(n[v]-i[v]);if(F<=d){const H=Math.min(d-1,d-F);g[v]===j?E[v]=(x[v]>n[v]?-1:1)*H:M[v]=(y[v]>i[v]?-1:1)*H}}if(s!==o){const F=v==="x"?"y":"x",H=g[v]===m[F],_=x[F]>y[F],D=x[F]<y[F];(g[v]===1&&(!H&&_||H&&D)||g[v]!==1&&(!H&&D||H&&_))&&(N=v==="x"?B:$)}const V={x:x.x+E.x,y:x.y+E.y},q={x:y.x+M.x,y:y.y+M.y},te=Math.max(Math.abs(V.x-N[0].x),Math.abs(q.x-N[0].x)),G=Math.max(Math.abs(V.y-N[0].y),Math.abs(q.y-N[0].y));te>=G?(k=(V.x+q.x)/2,T=N[0].y):(k=N[0].x,T=(V.y+q.y)/2)}return[[n,{x:x.x+E.x,y:x.y+E.y},...N,{x:y.x+M.x,y:y.y+M.y},i],k,T,w,z]}function Vk(n,s,i,o){const c=Math.min(Jm(n,s)/2,Jm(s,i)/2,o),{x:d,y:f}=s;if(n.x===d&&d===i.x||n.y===f&&f===i.y)return`L${d} ${f}`;if(n.y===f){const x=n.x<i.x?-1:1,y=n.y<i.y?1:-1;return`L ${d+c*x},${f}Q ${d},${f} ${d},${f+c*y}`}const g=n.x<i.x?1:-1,m=n.y<i.y?-1:1;return`L ${d},${f+c*m}Q ${d},${f} ${d+c*g},${f}`}function Yd({sourceX:n,sourceY:s,sourcePosition:i=ge.Bottom,targetX:o,targetY:c,targetPosition:d=ge.Top,borderRadius:f=5,centerX:g,centerY:m,offset:x=20,stepPosition:y=.5}){const[p,v,j,N,k]=Bk({source:{x:n,y:s},sourcePosition:i,target:{x:o,y:c},targetPosition:d,center:{x:g,y:m},offset:x,stepPosition:y});return[p.reduce((E,M,w)=>{let z="";return w>0&&w<p.length-1?z=Vk(p[w-1],M,p[w+1],f):z=`${w===0?"M":"L"}${M.x} ${M.y}`,E+=z,E},""),v,j,N,k]}function Wm(n){return n&&!!(n.internals.handleBounds||n.handles?.length)&&!!(n.measured.width||n.width||n.initialWidth)}function qk(n){const{sourceNode:s,targetNode:i}=n;if(!Wm(s)||!Wm(i))return null;const o=s.internals.handleBounds||Pm(s.handles),c=i.internals.handleBounds||Pm(i.handles),d=ex(o?.source??[],n.sourceHandle),f=ex(n.connectionMode===sr.Strict?c?.target??[]:(c?.target??[]).concat(c?.source??[]),n.targetHandle);if(!d||!f)return n.onError?.("008",pn.error008(d?"target":"source",{id:n.id,sourceHandle:n.sourceHandle,targetHandle:n.targetHandle})),null;const g=d?.position||ge.Bottom,m=f?.position||ge.Top,x=as(s,d,g),y=as(i,f,m);return{sourceX:x.x,sourceY:x.y,targetX:y.x,targetY:y.y,sourcePosition:g,targetPosition:m}}function Pm(n){if(!n)return null;const s=[],i=[];for(const o of n)o.width=o.width??1,o.height=o.height??1,o.type==="source"?s.push(o):o.type==="target"&&i.push(o);return{source:s,target:i}}function as(n,s,i=ge.Left,o=!1){const c=(s?.x??0)+n.internals.positionAbsolute.x,d=(s?.y??0)+n.internals.positionAbsolute.y,{width:f,height:g}=s??Xn(n);if(o)return{x:c+f/2,y:d+g/2};switch(s?.position??i){case ge.Top:return{x:c+f/2,y:d};case ge.Right:return{x:c+f,y:d+g/2};case ge.Bottom:return{x:c+f/2,y:d+g};case ge.Left:return{x:c,y:d+g/2}}}function ex(n,s){return n&&(s?n.find(i=>i.id===s):n[0])||null}function Gd(n,s){return n?typeof n=="string"?n:`${s?`${s}__`:""}${Object.keys(n).sort().map(o=>`${o}=${n[o]}`).join("&")}`:""}function $k(n,{id:s,defaultColor:i,defaultMarkerStart:o,defaultMarkerEnd:c}){const d=new Set;return n.reduce((f,g)=>([g.markerStart||o,g.markerEnd||c].forEach(m=>{if(m&&typeof m=="object"){const x=Gd(m,s);d.has(x)||(f.push({id:x,color:m.color||i,...m}),d.add(x))}}),f),[]).sort((f,g)=>f.id.localeCompare(g.id))}const Qp=1e3,Yk=10,df={nodeOrigin:[0,0],nodeExtent:Ni,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},Gk={...df,checkEquality:!0};function ff(n,s){const i={...n};for(const o in s)s[o]!==void 0&&(i[o]=s[o]);return i}function Xk(n,s,i){const o=ff(df,i);for(const c of n.values())if(c.parentId)gf(c,n,s,o);else{const d=Ti(c,o.nodeOrigin),f=lr(c.extent)?c.extent:o.nodeExtent,g=ns(d,f,Xn(c));c.internals.positionAbsolute=g}}function Zk(n,s){if(!n.handles)return n.measured?s?.internals.handleBounds:void 0;const i=[],o=[];for(const c of n.handles){const d={id:c.id,width:c.width??1,height:c.height??1,nodeId:n.id,x:c.x,y:c.y,position:c.position,type:c.type};c.type==="source"?i.push(d):c.type==="target"&&o.push(d)}return{source:i,target:o}}function hf(n){return n==="manual"}function Xd(n,s,i,o={}){const c=ff(Gk,o),d={i:0},f=new Map(s),g=c?.elevateNodesOnSelect&&!hf(c.zIndexMode)?Qp:0;let m=n.length>0;s.clear(),i.clear();for(const x of n){let y=f.get(x.id);if(c.checkEquality&&x===y?.internals.userNode)s.set(x.id,y);else{const p=Ti(x,c.nodeOrigin),v=lr(x.extent)?x.extent:c.nodeExtent,j=ns(p,v,Xn(x));y={...c.defaults,...x,measured:{width:x.measured?.width,height:x.measured?.height},internals:{positionAbsolute:j,handleBounds:Zk(x,y),z:Fp(x,g,c.zIndexMode),userNode:x}},s.set(x.id,y)}(y.measured===void 0||y.measured.width===void 0||y.measured.height===void 0)&&!y.hidden&&(m=!1),x.parentId&&gf(y,s,i,o,d)}return m}function Qk(n,s){if(!n.parentId)return;const i=s.get(n.parentId);i?i.set(n.id,n):s.set(n.parentId,new Map([[n.id,n]]))}function gf(n,s,i,o,c){const{elevateNodesOnSelect:d,nodeOrigin:f,nodeExtent:g,zIndexMode:m}=ff(df,o),x=n.parentId,y=s.get(x);if(!y){console.warn(`Parent node ${x} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Qk(n,i),c&&!y.parentId&&y.internals.rootParentIndex===void 0&&m==="auto"&&(y.internals.rootParentIndex=++c.i,y.internals.z=y.internals.z+c.i*Yk),c&&y.internals.rootParentIndex!==void 0&&(c.i=y.internals.rootParentIndex);const p=d&&!hf(m)?Qp:0,{x:v,y:j,z:N}=Fk(n,y,f,g,p,m),{positionAbsolute:k}=n.internals,T=v!==k.x||j!==k.y;(T||N!==n.internals.z)&&s.set(n.id,{...n,internals:{...n.internals,positionAbsolute:T?{x:v,y:j}:k,z:N}})}function Fp(n,s,i){const o=tn(n.zIndex)?n.zIndex:0;return hf(i)?o:o+(n.selected?s:0)}function Fk(n,s,i,o,c,d){const{x:f,y:g}=s.internals.positionAbsolute,m=Xn(n),x=Ti(n,i),y=lr(n.extent)?ns(x,n.extent,m):x;let p=ns({x:f+y.x,y:g+y.y},o,m);n.extent==="parent"&&(p=Op(p,m,s));const v=Fp(n,c,d),j=s.internals.z??0;return{x:p.x,y:p.y,z:j>=v?j+1:v}}function mf(n,s,i,o=[0,0]){const c=[],d=new Map;for(const f of n){const g=s.get(f.parentId);if(!g)continue;const m=d.get(f.parentId)?.expandedRect??ir(g),x=Rp(m,f.rect);d.set(f.parentId,{expandedRect:x,parent:g})}return d.size>0&&d.forEach(({expandedRect:f,parent:g},m)=>{const x=g.internals.positionAbsolute,y=Xn(g),p=g.origin??o,v=f.x<x.x?Math.round(Math.abs(x.x-f.x)):0,j=f.y<x.y?Math.round(Math.abs(x.y-f.y)):0,N=Math.max(y.width,Math.round(f.width)),k=Math.max(y.height,Math.round(f.height)),T=(N-y.width)*p[0],E=(k-y.height)*p[1];(v>0||j>0||T||E)&&(c.push({id:m,type:"position",position:{x:g.position.x-v+T,y:g.position.y-j+E}}),i.get(m)?.forEach(M=>{n.some(w=>w.id===M.id)||c.push({id:M.id,type:"position",position:{x:M.position.x+v,y:M.position.y+j}})})),(y.width<f.width||y.height<f.height||v||j)&&c.push({id:m,type:"dimensions",setAttributes:!0,dimensions:{width:N+(v?p[0]*v-T:0),height:k+(j?p[1]*j-E:0)}})}),c}function Kk(n,s,i,o,c,d,f){const g=o?.querySelector(".xyflow__viewport");let m=!1;if(!g)return{changes:[],updatedInternals:m};const x=[],y=window.getComputedStyle(g),{m22:p}=new window.DOMMatrixReadOnly(y.transform),v=[];for(const j of n.values()){const N=s.get(j.id);if(!N)continue;if(N.hidden){s.set(N.id,{...N,internals:{...N.internals,handleBounds:void 0}}),m=!0;continue}const k=uf(j.nodeElement),T=N.measured.width!==k.width||N.measured.height!==k.height;if(!!(k.width&&k.height&&(T||!N.internals.handleBounds||j.force))){const M=j.nodeElement.getBoundingClientRect(),w=lr(N.extent)?N.extent:d;let{positionAbsolute:z}=N.internals;N.parentId&&N.extent==="parent"?z=Op(z,k,s.get(N.parentId)):w&&(z=ns(z,w,k));const L={...N,measured:k,internals:{...N.internals,positionAbsolute:z,handleBounds:{source:Fm("source",j.nodeElement,M,p,N.id),target:Fm("target",j.nodeElement,M,p,N.id)}}};s.set(N.id,L),N.parentId&&gf(L,s,i,{nodeOrigin:c,zIndexMode:f}),m=!0,T&&(x.push({id:N.id,type:"dimensions",dimensions:k}),N.expandParent&&N.parentId&&v.push({id:N.id,parentId:N.parentId,rect:ir(L,c)}))}}if(v.length>0){const j=mf(v,s,i,c);x.push(...j)}return{changes:x,updatedInternals:m}}async function Ik({delta:n,panZoom:s,transform:i,translateExtent:o,width:c,height:d}){if(!s||!n.x&&!n.y)return Promise.resolve(!1);const f=await s.setViewportConstrained({x:i[0]+n.x,y:i[1]+n.y,zoom:i[2]},[[0,0],[c,d]],o),g=!!f&&(f.x!==i[0]||f.y!==i[1]||f.k!==i[2]);return Promise.resolve(g)}function tx(n,s,i,o,c,d){let f=c;const g=o.get(f)||new Map;o.set(f,g.set(i,s)),f=`${c}-${n}`;const m=o.get(f)||new Map;if(o.set(f,m.set(i,s)),d){f=`${c}-${n}-${d}`;const x=o.get(f)||new Map;o.set(f,x.set(i,s))}}function Kp(n,s,i){n.clear(),s.clear();for(const o of i){const{source:c,target:d,sourceHandle:f=null,targetHandle:g=null}=o,m={edgeId:o.id,source:c,target:d,sourceHandle:f,targetHandle:g},x=`${c}-${f}--${d}-${g}`,y=`${d}-${g}--${c}-${f}`;tx("source",m,y,n,c,f),tx("target",m,x,n,d,g),s.set(o.id,o)}}function Ip(n,s){if(!n.parentId)return!1;const i=s.get(n.parentId);return i?i.selected?!0:Ip(i,s):!1}function nx(n,s,i){let o=n;do{if(o?.matches?.(s))return!0;if(o===i)return!1;o=o?.parentElement}while(o);return!1}function Jk(n,s,i,o){const c=new Map;for(const[d,f]of n)if((f.selected||f.id===o)&&(!f.parentId||!Ip(f,n))&&(f.draggable||s&&typeof f.draggable>"u")){const g=n.get(d);g&&c.set(d,{id:d,position:g.position||{x:0,y:0},distance:{x:i.x-g.internals.positionAbsolute.x,y:i.y-g.internals.positionAbsolute.y},extent:g.extent,parentId:g.parentId,origin:g.origin,expandParent:g.expandParent,internals:{positionAbsolute:g.internals.positionAbsolute||{x:0,y:0}},measured:{width:g.measured.width??0,height:g.measured.height??0}})}return c}function kd({nodeId:n,dragItems:s,nodeLookup:i,dragging:o=!0}){const c=[];for(const[f,g]of s){const m=i.get(f)?.internals.userNode;m&&c.push({...m,position:g.position,dragging:o})}if(!n)return[c[0],c];const d=i.get(n)?.internals.userNode;return[d?{...d,position:s.get(n)?.position||d.position,dragging:o}:c[0],c]}function Wk({dragItems:n,snapGrid:s,x:i,y:o}){const c=n.values().next().value;if(!c)return null;const d={x:i-c.distance.x,y:o-c.distance.y},f=Mi(d,s);return{x:f.x-d.x,y:f.y-d.y}}function Pk({onNodeMouseDown:n,getStoreItems:s,onDragStart:i,onDrag:o,onDragStop:c}){let d={x:null,y:null},f=0,g=new Map,m=!1,x={x:0,y:0},y=null,p=!1,v=null,j=!1,N=!1,k=null;function T({noDragClassName:M,handleSelector:w,domNode:z,isSelectable:L,nodeId:B,nodeClickDistance:$=0}){v=Ht(z);function V({x:F,y:H}){const{nodeLookup:_,nodeExtent:D,snapGrid:C,snapToGrid:O,nodeOrigin:U,onNodeDrag:Z,onSelectionDrag:X,onError:P,updateNodePositions:W}=s();d={x:F,y:H};let se=!1;const le=g.size>1,fe=le&&D?$d(_i(g)):null,be=le&&O?Wk({dragItems:g,snapGrid:C,x:F,y:H}):null;for(const[me,oe]of g){if(!_.has(me))continue;let ue={x:F-oe.distance.x,y:H-oe.distance.y};O&&(ue=be?{x:Math.round(ue.x+be.x),y:Math.round(ue.y+be.y)}:Mi(ue,C));let ke=null;if(le&&D&&!oe.extent&&fe){const{positionAbsolute:Ne}=oe.internals,ie=Ne.x-fe.x+D[0][0],ye=Ne.x+oe.measured.width-fe.x2+D[1][0],Se=Ne.y-fe.y+D[0][1],Ye=Ne.y+oe.measured.height-fe.y2+D[1][1];ke=[[ie,Se],[ye,Ye]]}const{position:we,positionAbsolute:pe}=Dp({nodeId:me,nextPosition:ue,nodeLookup:_,nodeExtent:ke||D,nodeOrigin:U,onError:P});se=se||oe.position.x!==we.x||oe.position.y!==we.y,oe.position=we,oe.internals.positionAbsolute=pe}if(N=N||se,!!se&&(W(g,!0),k&&(o||Z||!B&&X))){const[me,oe]=kd({nodeId:B,dragItems:g,nodeLookup:_});o?.(k,g,me,oe),Z?.(k,me,oe),B||X?.(k,oe)}}async function q(){if(!y)return;const{transform:F,panBy:H,autoPanSpeed:_,autoPanOnNodeDrag:D}=s();if(!D){m=!1,cancelAnimationFrame(f);return}const[C,O]=Lp(x,y,_);(C!==0||O!==0)&&(d.x=(d.x??0)-C/F[2],d.y=(d.y??0)-O/F[2],await H({x:C,y:O})&&V(d)),f=requestAnimationFrame(q)}function te(F){const{nodeLookup:H,multiSelectionActive:_,nodesDraggable:D,transform:C,snapGrid:O,snapToGrid:U,selectNodesOnDrag:Z,onNodeDragStart:X,onSelectionDragStart:P,unselectNodesAndEdges:W}=s();p=!0,(!Z||!L)&&!_&&B&&(H.get(B)?.selected||W()),L&&Z&&B&&n?.(B);const se=hi(F.sourceEvent,{transform:C,snapGrid:O,snapToGrid:U,containerBounds:y});if(d=se,g=Jk(H,D,se,B),g.size>0&&(i||X||!B&&P)){const[le,fe]=kd({nodeId:B,dragItems:g,nodeLookup:H});i?.(F.sourceEvent,g,le,fe),X?.(F.sourceEvent,le,fe),B||P?.(F.sourceEvent,fe)}}const G=yp().clickDistance($).on("start",F=>{const{domNode:H,nodeDragThreshold:_,transform:D,snapGrid:C,snapToGrid:O}=s();y=H?.getBoundingClientRect()||null,j=!1,N=!1,k=F.sourceEvent,_===0&&te(F),d=hi(F.sourceEvent,{transform:D,snapGrid:C,snapToGrid:O,containerBounds:y}),x=nn(F.sourceEvent,y)}).on("drag",F=>{const{autoPanOnNodeDrag:H,transform:_,snapGrid:D,snapToGrid:C,nodeDragThreshold:O,nodeLookup:U}=s(),Z=hi(F.sourceEvent,{transform:_,snapGrid:D,snapToGrid:C,containerBounds:y});if(k=F.sourceEvent,(F.sourceEvent.type==="touchmove"&&F.sourceEvent.touches.length>1||B&&!U.has(B))&&(j=!0),!j){if(!m&&H&&p&&(m=!0,q()),!p){const X=nn(F.sourceEvent,y),P=X.x-x.x,W=X.y-x.y;Math.sqrt(P*P+W*W)>O&&te(F)}(d.x!==Z.xSnapped||d.y!==Z.ySnapped)&&g&&p&&(x=nn(F.sourceEvent,y),V(Z))}}).on("end",F=>{if(!(!p||j)&&(m=!1,p=!1,cancelAnimationFrame(f),g.size>0)){const{nodeLookup:H,updateNodePositions:_,onNodeDragStop:D,onSelectionDragStop:C}=s();if(N&&(_(g,!1),N=!1),c||D||!B&&C){const[O,U]=kd({nodeId:B,dragItems:g,nodeLookup:H,dragging:!1});c?.(F.sourceEvent,g,O,U),D?.(F.sourceEvent,O,U),B||C?.(F.sourceEvent,U)}}}).filter(F=>{const H=F.target;return!F.button&&(!M||!nx(H,`.${M}`,z))&&(!w||nx(H,w,z))});v.call(G)}function E(){v?.on(".drag",null)}return{update:T,destroy:E}}function eC(n,s,i){const o=[],c={x:n.x-i,y:n.y-i,width:i*2,height:i*2};for(const d of s.values())wi(c,ir(d))>0&&o.push(d);return o}const tC=250;function nC(n,s,i,o){let c=[],d=1/0;const f=eC(n,i,s+tC);for(const g of f){const m=[...g.internals.handleBounds?.source??[],...g.internals.handleBounds?.target??[]];for(const x of m){if(o.nodeId===x.nodeId&&o.type===x.type&&o.id===x.id)continue;const{x:y,y:p}=as(g,x,x.position,!0),v=Math.sqrt(Math.pow(y-n.x,2)+Math.pow(p-n.y,2));v>s||(v<d?(c=[{...x,x:y,y:p}],d=v):v===d&&c.push({...x,x:y,y:p}))}}if(!c.length)return null;if(c.length>1){const g=o.type==="source"?"target":"source";return c.find(m=>m.type===g)??c[0]}return c[0]}function Jp(n,s,i,o,c,d=!1){const f=o.get(n);if(!f)return null;const g=c==="strict"?f.internals.handleBounds?.[s]:[...f.internals.handleBounds?.source??[],...f.internals.handleBounds?.target??[]],m=(i?g?.find(x=>x.id===i):g?.[0])??null;return m&&d?{...m,...as(f,m,m.position,!0)}:m}function Wp(n,s){return n||(s?.classList.contains("target")?"target":s?.classList.contains("source")?"source":null)}function aC(n,s){let i=null;return s?i=!0:n&&!s&&(i=!1),i}const Pp=()=>!0;function sC(n,{connectionMode:s,connectionRadius:i,handleId:o,nodeId:c,edgeUpdaterType:d,isTarget:f,domNode:g,nodeLookup:m,lib:x,autoPanOnConnect:y,flowId:p,panBy:v,cancelConnection:j,onConnectStart:N,onConnect:k,onConnectEnd:T,isValidConnection:E=Pp,onReconnectEnd:M,updateConnection:w,getTransform:z,getFromHandle:L,autoPanSpeed:B,dragThreshold:$=1,handleDomNode:V}){const q=Bp(n.target);let te=0,G;const{x:F,y:H}=nn(n),_=Wp(d,V),D=g?.getBoundingClientRect();let C=!1;if(!D||!_)return;const O=Jp(c,_,o,m,s);if(!O)return;let U=nn(n,D),Z=!1,X=null,P=!1,W=null;function se(){if(!y||!D)return;const[we,pe]=Lp(U,D,B);v({x:we,y:pe}),te=requestAnimationFrame(se)}const le={...O,nodeId:c,type:_,position:O.position},fe=m.get(c);let me={inProgress:!0,isValid:null,from:as(fe,le,ge.Left,!0),fromHandle:le,fromPosition:le.position,fromNode:fe,to:U,toHandle:null,toPosition:Gm[le.position],toNode:null,pointer:U};function oe(){C=!0,w(me),N?.(n,{nodeId:c,handleId:o,handleType:_})}$===0&&oe();function ue(we){if(!C){const{x:Ye,y:Ft}=nn(we),At=Ye-F,Kt=Ft-H;if(!(At*At+Kt*Kt>$*$))return;oe()}if(!L()||!le){ke(we);return}const pe=z();U=nn(we,D),G=nC(Di(U,pe,!1,[1,1]),i,m,le),Z||(se(),Z=!0);const Ne=ey(we,{handle:G,connectionMode:s,fromNodeId:c,fromHandleId:o,fromType:f?"target":"source",isValidConnection:E,doc:q,lib:x,flowId:p,nodeLookup:m});W=Ne.handleDomNode,X=Ne.connection,P=aC(!!G,Ne.isValid);const ie=m.get(c),ye=ie?as(ie,le,ge.Left,!0):me.from,Se={...me,from:ye,isValid:P,to:Ne.toHandle&&P?zo({x:Ne.toHandle.x,y:Ne.toHandle.y},pe):U,toHandle:Ne.toHandle,toPosition:P&&Ne.toHandle?Ne.toHandle.position:Gm[le.position],toNode:Ne.toHandle?m.get(Ne.toHandle.nodeId):null,pointer:U};w(Se),me=Se}function ke(we){if(!("touches"in we&&we.touches.length>0)){if(C){(G||W)&&X&&P&&k?.(X);const{inProgress:pe,...Ne}=me,ie={...Ne,toPosition:me.toHandle?me.toPosition:null};T?.(we,ie),d&&M?.(we,ie)}j(),cancelAnimationFrame(te),Z=!1,P=!1,X=null,W=null,q.removeEventListener("mousemove",ue),q.removeEventListener("mouseup",ke),q.removeEventListener("touchmove",ue),q.removeEventListener("touchend",ke)}}q.addEventListener("mousemove",ue),q.addEventListener("mouseup",ke),q.addEventListener("touchmove",ue),q.addEventListener("touchend",ke)}function ey(n,{handle:s,connectionMode:i,fromNodeId:o,fromHandleId:c,fromType:d,doc:f,lib:g,flowId:m,isValidConnection:x=Pp,nodeLookup:y}){const p=d==="target",v=s?f.querySelector(`.${g}-flow__handle[data-id="${m}-${s?.nodeId}-${s?.id}-${s?.type}"]`):null,{x:j,y:N}=nn(n),k=f.elementFromPoint(j,N),T=k?.classList.contains(`${g}-flow__handle`)?k:v,E={handleDomNode:T,isValid:!1,connection:null,toHandle:null};if(T){const M=Wp(void 0,T),w=T.getAttribute("data-nodeid"),z=T.getAttribute("data-handleid"),L=T.classList.contains("connectable"),B=T.classList.contains("connectableend");if(!w||!M)return E;const $={source:p?w:o,sourceHandle:p?z:c,target:p?o:w,targetHandle:p?c:z};E.connection=$;const q=L&&B&&(i===sr.Strict?p&&M==="source"||!p&&M==="target":w!==o||z!==c);E.isValid=q&&x($),E.toHandle=Jp(w,M,z,y,i,!0)}return E}const Zd={onPointerDown:sC,isValid:ey};function rC({domNode:n,panZoom:s,getTransform:i,getViewScale:o}){const c=Ht(n);function d({translateExtent:g,width:m,height:x,zoomStep:y=1,pannable:p=!0,zoomable:v=!0,inversePan:j=!1}){const N=w=>{if(w.sourceEvent.type!=="wheel"||!s)return;const z=i(),L=w.sourceEvent.ctrlKey&&Si()?10:1,B=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*y,$=z[2]*Math.pow(2,B*L);s.scaleTo($)};let k=[0,0];const T=w=>{(w.sourceEvent.type==="mousedown"||w.sourceEvent.type==="touchstart")&&(k=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY])},E=w=>{const z=i();if(w.sourceEvent.type!=="mousemove"&&w.sourceEvent.type!=="touchmove"||!s)return;const L=[w.sourceEvent.clientX??w.sourceEvent.touches[0].clientX,w.sourceEvent.clientY??w.sourceEvent.touches[0].clientY],B=[L[0]-k[0],L[1]-k[1]];k=L;const $=o()*Math.max(z[2],Math.log(z[2]))*(j?-1:1),V={x:z[0]-B[0]*$,y:z[1]-B[1]*$},q=[[0,0],[m,x]];s.setViewportConstrained({x:V.x,y:V.y,zoom:z[2]},q,g)},M=Ep().on("start",T).on("zoom",p?E:null).on("zoom.wheel",v?N:null);c.call(M,{})}function f(){c.on("zoom",null)}return{update:d,destroy:f,pointer:en}}const $o=n=>({x:n.x,y:n.y,zoom:n.k}),Cd=({x:n,y:s,zoom:i})=>Bo.translate(n,s).scale(i),Js=(n,s)=>n.target.closest(`.${s}`),ty=(n,s)=>s===2&&Array.isArray(n)&&n.includes(2),iC=n=>((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2,Ed=(n,s=0,i=iC,o=()=>{})=>{const c=typeof s=="number"&&s>0;return c||o(),c?n.transition().duration(s).ease(i).on("end",o):n},ny=n=>{const s=n.ctrlKey&&Si()?10:1;return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*s};function lC({zoomPanValues:n,noWheelClassName:s,d3Selection:i,d3Zoom:o,panOnScrollMode:c,panOnScrollSpeed:d,zoomOnPinch:f,onPanZoomStart:g,onPanZoom:m,onPanZoomEnd:x}){return y=>{if(Js(y,s))return y.ctrlKey&&y.preventDefault(),!1;y.preventDefault(),y.stopImmediatePropagation();const p=i.property("__zoom").k||1;if(y.ctrlKey&&f){const T=en(y),E=ny(y),M=p*Math.pow(2,E);o.scaleTo(i,M,T,y);return}const v=y.deltaMode===1?20:1;let j=c===Pa.Vertical?0:y.deltaX*v,N=c===Pa.Horizontal?0:y.deltaY*v;!Si()&&y.shiftKey&&c!==Pa.Vertical&&(j=y.deltaY*v,N=0),o.translateBy(i,-(j/p)*d,-(N/p)*d,{internal:!0});const k=$o(i.property("__zoom"));clearTimeout(n.panScrollTimeout),n.isPanScrolling?(m?.(y,k),n.panScrollTimeout=setTimeout(()=>{x?.(y,k),n.isPanScrolling=!1},150)):(n.isPanScrolling=!0,g?.(y,k))}}function oC({noWheelClassName:n,preventScrolling:s,d3ZoomHandler:i}){return function(o,c){const d=o.type==="wheel",f=!s&&d&&!o.ctrlKey,g=Js(o,n);if(o.ctrlKey&&d&&g&&o.preventDefault(),f||g)return null;o.preventDefault(),i.call(this,o,c)}}function cC({zoomPanValues:n,onDraggingChange:s,onPanZoomStart:i}){return o=>{if(o.sourceEvent?.internal)return;const c=$o(o.transform);n.mouseButton=o.sourceEvent?.button||0,n.isZoomingOrPanning=!0,n.prevViewport=c,o.sourceEvent?.type==="mousedown"&&s(!0),i&&i?.(o.sourceEvent,c)}}function uC({zoomPanValues:n,panOnDrag:s,onPaneContextMenu:i,onTransformChange:o,onPanZoom:c}){return d=>{n.usedRightMouseButton=!!(i&&ty(s,n.mouseButton??0)),d.sourceEvent?.sync||o([d.transform.x,d.transform.y,d.transform.k]),c&&!d.sourceEvent?.internal&&c?.(d.sourceEvent,$o(d.transform))}}function dC({zoomPanValues:n,panOnDrag:s,panOnScroll:i,onDraggingChange:o,onPanZoomEnd:c,onPaneContextMenu:d}){return f=>{if(!f.sourceEvent?.internal&&(n.isZoomingOrPanning=!1,d&&ty(s,n.mouseButton??0)&&!n.usedRightMouseButton&&f.sourceEvent&&d(f.sourceEvent),n.usedRightMouseButton=!1,o(!1),c)){const g=$o(f.transform);n.prevViewport=g,clearTimeout(n.timerId),n.timerId=setTimeout(()=>{c?.(f.sourceEvent,g)},i?150:0)}}}function fC({zoomActivationKeyPressed:n,zoomOnScroll:s,zoomOnPinch:i,panOnDrag:o,panOnScroll:c,zoomOnDoubleClick:d,userSelectionActive:f,noWheelClassName:g,noPanClassName:m,lib:x,connectionInProgress:y}){return p=>{const v=n||s,j=i&&p.ctrlKey,N=p.type==="wheel";if(p.button===1&&p.type==="mousedown"&&(Js(p,`${x}-flow__node`)||Js(p,`${x}-flow__edge`)))return!0;if(!o&&!v&&!c&&!d&&!i||f||y&&!N||Js(p,g)&&N||Js(p,m)&&(!N||c&&N&&!n)||!i&&p.ctrlKey&&N)return!1;if(!i&&p.type==="touchstart"&&p.touches?.length>1)return p.preventDefault(),!1;if(!v&&!c&&!j&&N||!o&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(o)&&!o.includes(p.button)&&p.type==="mousedown")return!1;const k=Array.isArray(o)&&o.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||N)&&k}}function hC({domNode:n,minZoom:s,maxZoom:i,translateExtent:o,viewport:c,onPanZoom:d,onPanZoomStart:f,onPanZoomEnd:g,onDraggingChange:m}){const x={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},y=n.getBoundingClientRect(),p=Ep().scaleExtent([s,i]).translateExtent(o),v=Ht(n).call(p);M({x:c.x,y:c.y,zoom:rr(c.zoom,s,i)},[[0,0],[y.width,y.height]],o);const j=v.on("wheel.zoom"),N=v.on("dblclick.zoom");p.wheelDelta(ny);function k(G,F){return v?new Promise(H=>{p?.interpolate(F?.interpolate==="linear"?gd:fo).transform(Ed(v,F?.duration,F?.ease,()=>H(!0)),G)}):Promise.resolve(!1)}function T({noWheelClassName:G,noPanClassName:F,onPaneContextMenu:H,userSelectionActive:_,panOnScroll:D,panOnDrag:C,panOnScrollMode:O,panOnScrollSpeed:U,preventScrolling:Z,zoomOnPinch:X,zoomOnScroll:P,zoomOnDoubleClick:W,zoomActivationKeyPressed:se,lib:le,onTransformChange:fe,connectionInProgress:be,paneClickDistance:me,selectionOnDrag:oe}){_&&!x.isZoomingOrPanning&&E();const ue=D&&!se&&!_;p.clickDistance(oe?1/0:!tn(me)||me<0?0:me);const ke=ue?lC({zoomPanValues:x,noWheelClassName:G,d3Selection:v,d3Zoom:p,panOnScrollMode:O,panOnScrollSpeed:U,zoomOnPinch:X,onPanZoomStart:f,onPanZoom:d,onPanZoomEnd:g}):oC({noWheelClassName:G,preventScrolling:Z,d3ZoomHandler:j});if(v.on("wheel.zoom",ke,{passive:!1}),!_){const pe=cC({zoomPanValues:x,onDraggingChange:m,onPanZoomStart:f});p.on("start",pe);const Ne=uC({zoomPanValues:x,panOnDrag:C,onPaneContextMenu:!!H,onPanZoom:d,onTransformChange:fe});p.on("zoom",Ne);const ie=dC({zoomPanValues:x,panOnDrag:C,panOnScroll:D,onPaneContextMenu:H,onPanZoomEnd:g,onDraggingChange:m});p.on("end",ie)}const we=fC({zoomActivationKeyPressed:se,panOnDrag:C,zoomOnScroll:P,panOnScroll:D,zoomOnDoubleClick:W,zoomOnPinch:X,userSelectionActive:_,noPanClassName:F,noWheelClassName:G,lib:le,connectionInProgress:be});p.filter(we),W?v.on("dblclick.zoom",N):v.on("dblclick.zoom",null)}function E(){p.on("zoom",null)}async function M(G,F,H){const _=Cd(G),D=p?.constrain()(_,F,H);return D&&await k(D),new Promise(C=>C(D))}async function w(G,F){const H=Cd(G);return await k(H,F),new Promise(_=>_(H))}function z(G){if(v){const F=Cd(G),H=v.property("__zoom");(H.k!==G.zoom||H.x!==G.x||H.y!==G.y)&&p?.transform(v,F,null,{sync:!0})}}function L(){const G=v?Cp(v.node()):{x:0,y:0,k:1};return{x:G.x,y:G.y,zoom:G.k}}function B(G,F){return v?new Promise(H=>{p?.interpolate(F?.interpolate==="linear"?gd:fo).scaleTo(Ed(v,F?.duration,F?.ease,()=>H(!0)),G)}):Promise.resolve(!1)}function $(G,F){return v?new Promise(H=>{p?.interpolate(F?.interpolate==="linear"?gd:fo).scaleBy(Ed(v,F?.duration,F?.ease,()=>H(!0)),G)}):Promise.resolve(!1)}function V(G){p?.scaleExtent(G)}function q(G){p?.translateExtent(G)}function te(G){const F=!tn(G)||G<0?0:G;p?.clickDistance(F)}return{update:T,destroy:E,setViewport:w,setViewportConstrained:M,getViewport:L,scaleTo:B,scaleBy:$,setScaleExtent:V,setTranslateExtent:q,syncViewport:z,setClickDistance:te}}var or;(function(n){n.Line="line",n.Handle="handle"})(or||(or={}));function gC({width:n,prevWidth:s,height:i,prevHeight:o,affectsX:c,affectsY:d}){const f=n-s,g=i-o,m=[f>0?1:f<0?-1:0,g>0?1:g<0?-1:0];return f&&c&&(m[0]=m[0]*-1),g&&d&&(m[1]=m[1]*-1),m}function ax(n){const s=n.includes("right")||n.includes("left"),i=n.includes("bottom")||n.includes("top"),o=n.includes("left"),c=n.includes("top");return{isHorizontal:s,isVertical:i,affectsX:o,affectsY:c}}function Na(n,s){return Math.max(0,s-n)}function ja(n,s){return Math.max(0,n-s)}function oo(n,s,i){return Math.max(0,s-n,n-i)}function sx(n,s){return n?!s:s}function mC(n,s,i,o,c,d,f,g){let{affectsX:m,affectsY:x}=s;const{isHorizontal:y,isVertical:p}=s,v=y&&p,{xSnapped:j,ySnapped:N}=i,{minWidth:k,maxWidth:T,minHeight:E,maxHeight:M}=o,{x:w,y:z,width:L,height:B,aspectRatio:$}=n;let V=Math.floor(y?j-n.pointerX:0),q=Math.floor(p?N-n.pointerY:0);const te=L+(m?-V:V),G=B+(x?-q:q),F=-d[0]*L,H=-d[1]*B;let _=oo(te,k,T),D=oo(G,E,M);if(f){let U=0,Z=0;m&&V<0?U=Na(w+V+F,f[0][0]):!m&&V>0&&(U=ja(w+te+F,f[1][0])),x&&q<0?Z=Na(z+q+H,f[0][1]):!x&&q>0&&(Z=ja(z+G+H,f[1][1])),_=Math.max(_,U),D=Math.max(D,Z)}if(g){let U=0,Z=0;m&&V>0?U=ja(w+V,g[0][0]):!m&&V<0&&(U=Na(w+te,g[1][0])),x&&q>0?Z=ja(z+q,g[0][1]):!x&&q<0&&(Z=Na(z+G,g[1][1])),_=Math.max(_,U),D=Math.max(D,Z)}if(c){if(y){const U=oo(te/$,E,M)*$;if(_=Math.max(_,U),f){let Z=0;!m&&!x||m&&!x&&v?Z=ja(z+H+te/$,f[1][1])*$:Z=Na(z+H+(m?V:-V)/$,f[0][1])*$,_=Math.max(_,Z)}if(g){let Z=0;!m&&!x||m&&!x&&v?Z=Na(z+te/$,g[1][1])*$:Z=ja(z+(m?V:-V)/$,g[0][1])*$,_=Math.max(_,Z)}}if(p){const U=oo(G*$,k,T)/$;if(D=Math.max(D,U),f){let Z=0;!m&&!x||x&&!m&&v?Z=ja(w+G*$+F,f[1][0])/$:Z=Na(w+(x?q:-q)*$+F,f[0][0])/$,D=Math.max(D,Z)}if(g){let Z=0;!m&&!x||x&&!m&&v?Z=Na(w+G*$,g[1][0])/$:Z=ja(w+(x?q:-q)*$,g[0][0])/$,D=Math.max(D,Z)}}}q=q+(q<0?D:-D),V=V+(V<0?_:-_),c&&(v?te>G*$?q=(sx(m,x)?-V:V)/$:V=(sx(m,x)?-q:q)*$:y?(q=V/$,x=m):(V=q*$,m=x));const C=m?w+V:w,O=x?z+q:z;return{width:L+(m?-V:V),height:B+(x?-q:q),x:d[0]*V*(m?-1:1)+C,y:d[1]*q*(x?-1:1)+O}}const ay={width:0,height:0,x:0,y:0},xC={...ay,pointerX:0,pointerY:0,aspectRatio:1};function pC(n){return[[0,0],[n.measured.width,n.measured.height]]}function yC(n,s,i){const o=s.position.x+n.position.x,c=s.position.y+n.position.y,d=n.measured.width??0,f=n.measured.height??0,g=i[0]*d,m=i[1]*f;return[[o-g,c-m],[o+d-g,c+f-m]]}function bC({domNode:n,nodeId:s,getStoreItems:i,onChange:o,onEnd:c}){const d=Ht(n);let f={controlDirection:ax("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function g({controlPosition:x,boundaries:y,keepAspectRatio:p,resizeDirection:v,onResizeStart:j,onResize:N,onResizeEnd:k,shouldResize:T}){let E={...ay},M={...xC};f={boundaries:y,resizeDirection:v,keepAspectRatio:p,controlDirection:ax(x)};let w,z=null,L=[],B,$,V,q=!1;const te=yp().on("start",G=>{const{nodeLookup:F,transform:H,snapGrid:_,snapToGrid:D,nodeOrigin:C,paneDomNode:O}=i();if(w=F.get(s),!w)return;z=O?.getBoundingClientRect()??null;const{xSnapped:U,ySnapped:Z}=hi(G.sourceEvent,{transform:H,snapGrid:_,snapToGrid:D,containerBounds:z});E={width:w.measured.width??0,height:w.measured.height??0,x:w.position.x??0,y:w.position.y??0},M={...E,pointerX:U,pointerY:Z,aspectRatio:E.width/E.height},B=void 0,w.parentId&&(w.extent==="parent"||w.expandParent)&&(B=F.get(w.parentId),$=B&&w.extent==="parent"?pC(B):void 0),L=[],V=void 0;for(const[X,P]of F)if(P.parentId===s&&(L.push({id:X,position:{...P.position},extent:P.extent}),P.extent==="parent"||P.expandParent)){const W=yC(P,w,P.origin??C);V?V=[[Math.min(W[0][0],V[0][0]),Math.min(W[0][1],V[0][1])],[Math.max(W[1][0],V[1][0]),Math.max(W[1][1],V[1][1])]]:V=W}j?.(G,{...E})}).on("drag",G=>{const{transform:F,snapGrid:H,snapToGrid:_,nodeOrigin:D}=i(),C=hi(G.sourceEvent,{transform:F,snapGrid:H,snapToGrid:_,containerBounds:z}),O=[];if(!w)return;const{x:U,y:Z,width:X,height:P}=E,W={},se=w.origin??D,{width:le,height:fe,x:be,y:me}=mC(M,f.controlDirection,C,f.boundaries,f.keepAspectRatio,se,$,V),oe=le!==X,ue=fe!==P,ke=be!==U&&oe,we=me!==Z&&ue;if(!ke&&!we&&!oe&&!ue)return;if((ke||we||se[0]===1||se[1]===1)&&(W.x=ke?be:E.x,W.y=we?me:E.y,E.x=W.x,E.y=W.y,L.length>0)){const ye=be-U,Se=me-Z;for(const Ye of L)Ye.position={x:Ye.position.x-ye+se[0]*(le-X),y:Ye.position.y-Se+se[1]*(fe-P)},O.push(Ye)}if((oe||ue)&&(W.width=oe&&(!f.resizeDirection||f.resizeDirection==="horizontal")?le:E.width,W.height=ue&&(!f.resizeDirection||f.resizeDirection==="vertical")?fe:E.height,E.width=W.width,E.height=W.height),B&&w.expandParent){const ye=se[0]*(W.width??0);W.x&&W.x<ye&&(E.x=ye,M.x=M.x-(W.x-ye));const Se=se[1]*(W.height??0);W.y&&W.y<Se&&(E.y=Se,M.y=M.y-(W.y-Se))}const pe=gC({width:E.width,prevWidth:X,height:E.height,prevHeight:P,affectsX:f.controlDirection.affectsX,affectsY:f.controlDirection.affectsY}),Ne={...E,direction:pe};T?.(G,Ne)!==!1&&(q=!0,N?.(G,Ne),o(W,O))}).on("end",G=>{q&&(k?.(G,{...E}),c?.({...E}),q=!1)});d.call(te)}function m(){d.on(".drag",null)}return{update:g,destroy:m}}const vC={},rx=n=>{let s;const i=new Set,o=(y,p)=>{const v=typeof y=="function"?y(s):y;if(!Object.is(v,s)){const j=s;s=p??(typeof v!="object"||v===null)?v:Object.assign({},s,v),i.forEach(N=>N(s,j))}},c=()=>s,m={setState:o,getState:c,getInitialState:()=>x,subscribe:y=>(i.add(y),()=>i.delete(y)),destroy:()=>{(vC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},x=s=n(o,c,m);return m},NC=n=>n?rx(n):rx,{useDebugValue:jC}=tr,{useSyncExternalStoreWithSelector:wC}=e1,SC=n=>n;function sy(n,s=SC,i){const o=wC(n.subscribe,n.getState,n.getServerState||n.getInitialState,s,i);return jC(o),o}const ix=(n,s)=>{const i=NC(n),o=(c,d=s)=>sy(i,c,d);return Object.assign(o,i),o},kC=(n,s)=>n?ix(n,s):ix;function Qe(n,s){if(Object.is(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;if(n instanceof Map&&s instanceof Map){if(n.size!==s.size)return!1;for(const[o,c]of n)if(!Object.is(c,s.get(o)))return!1;return!0}if(n instanceof Set&&s instanceof Set){if(n.size!==s.size)return!1;for(const o of n)if(!s.has(o))return!1;return!0}const i=Object.keys(n);if(i.length!==Object.keys(s).length)return!1;for(const o of i)if(!Object.prototype.hasOwnProperty.call(s,o)||!Object.is(n[o],s[o]))return!1;return!0}const Yo=A.createContext(null),CC=Yo.Provider,ry=pn.error001();function De(n,s){const i=A.useContext(Yo);if(i===null)throw new Error(ry);return sy(i,n,s)}function Fe(){const n=A.useContext(Yo);if(n===null)throw new Error(ry);return A.useMemo(()=>({getState:n.getState,setState:n.setState,subscribe:n.subscribe}),[n])}const lx={display:"none"},EC={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},iy="react-flow__node-desc",ly="react-flow__edge-desc",zC="react-flow__aria-live",AC=n=>n.ariaLiveMessage,TC=n=>n.ariaLabelConfig;function _C({rfId:n}){const s=De(AC);return r.jsx("div",{id:`${zC}-${n}`,"aria-live":"assertive","aria-atomic":"true",style:EC,children:s})}function MC({rfId:n,disableKeyboardA11y:s}){const i=De(TC);return r.jsxs(r.Fragment,{children:[r.jsx("div",{id:`${iy}-${n}`,style:lx,children:s?i["node.a11yDescription.default"]:i["node.a11yDescription.keyboardDisabled"]}),r.jsx("div",{id:`${ly}-${n}`,style:lx,children:i["edge.a11yDescription.default"]}),!s&&r.jsx(_C,{rfId:n})]})}const Go=A.forwardRef(({position:n="top-left",children:s,className:i,style:o,...c},d)=>{const f=`${n}`.split("-");return r.jsx("div",{className:st(["react-flow__panel",i,...f]),style:o,ref:d,...c,children:s})});Go.displayName="Panel";function DC({proOptions:n,position:s="bottom-right"}){return n?.hideAttribution?null:r.jsx(Go,{position:s,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:r.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const OC=n=>{const s=[],i=[];for(const[,o]of n.nodeLookup)o.selected&&s.push(o.internals.userNode);for(const[,o]of n.edgeLookup)o.selected&&i.push(o);return{selectedNodes:s,selectedEdges:i}},co=n=>n.id;function LC(n,s){return Qe(n.selectedNodes.map(co),s.selectedNodes.map(co))&&Qe(n.selectedEdges.map(co),s.selectedEdges.map(co))}function RC({onSelectionChange:n}){const s=Fe(),{selectedNodes:i,selectedEdges:o}=De(OC,LC);return A.useEffect(()=>{const c={nodes:i,edges:o};n?.(c),s.getState().onSelectionChangeHandlers.forEach(d=>d(c))},[i,o,n]),null}const HC=n=>!!n.onSelectionChangeHandlers;function UC({onSelectionChange:n}){const s=De(HC);return n||s?r.jsx(RC,{onSelectionChange:n}):null}const oy=[0,0],BC={x:0,y:0,zoom:1},VC=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],ox=[...VC,"rfId"],qC=n=>({setNodes:n.setNodes,setEdges:n.setEdges,setMinZoom:n.setMinZoom,setMaxZoom:n.setMaxZoom,setTranslateExtent:n.setTranslateExtent,setNodeExtent:n.setNodeExtent,reset:n.reset,setDefaultNodesAndEdges:n.setDefaultNodesAndEdges}),cx={translateExtent:Ni,nodeOrigin:oy,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function $C(n){const{setNodes:s,setEdges:i,setMinZoom:o,setMaxZoom:c,setTranslateExtent:d,setNodeExtent:f,reset:g,setDefaultNodesAndEdges:m}=De(qC,Qe),x=Fe();A.useEffect(()=>(m(n.defaultNodes,n.defaultEdges),()=>{y.current=cx,g()}),[]);const y=A.useRef(cx);return A.useEffect(()=>{for(const p of ox){const v=n[p],j=y.current[p];v!==j&&(typeof n[p]>"u"||(p==="nodes"?s(v):p==="edges"?i(v):p==="minZoom"?o(v):p==="maxZoom"?c(v):p==="translateExtent"?d(v):p==="nodeExtent"?f(v):p==="ariaLabelConfig"?x.setState({ariaLabelConfig:Mk(v)}):p==="fitView"?x.setState({fitViewQueued:v}):p==="fitViewOptions"?x.setState({fitViewOptions:v}):x.setState({[p]:v})))}y.current=n},ox.map(p=>n[p])),null}function ux(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function YC(n){const[s,i]=A.useState(n==="system"?null:n);return A.useEffect(()=>{if(n!=="system"){i(n);return}const o=ux(),c=()=>i(o?.matches?"dark":"light");return c(),o?.addEventListener("change",c),()=>{o?.removeEventListener("change",c)}},[n]),s!==null?s:ux()?.matches?"dark":"light"}const dx=typeof document<"u"?document:null;function ki(n=null,s={target:dx,actInsideInputWithModifier:!0}){const[i,o]=A.useState(!1),c=A.useRef(!1),d=A.useRef(new Set([])),[f,g]=A.useMemo(()=>{if(n!==null){const x=(Array.isArray(n)?n:[n]).filter(p=>typeof p=="string").map(p=>p.replace("+",`
`).replace(`

`,`
+`).split(`
`)),y=x.reduce((p,v)=>p.concat(...v),[]);return[x,y]}return[[],[]]},[n]);return A.useEffect(()=>{const m=s?.target??dx,x=s?.actInsideInputWithModifier??!0;if(n!==null){const y=j=>{if(c.current=j.ctrlKey||j.metaKey||j.shiftKey||j.altKey,(!c.current||c.current&&!x)&&Vp(j))return!1;const k=hx(j.code,g);if(d.current.add(j[k]),fx(f,d.current,!1)){const T=j.composedPath?.()?.[0]||j.target,E=T?.nodeName==="BUTTON"||T?.nodeName==="A";s.preventDefault!==!1&&(c.current||!E)&&j.preventDefault(),o(!0)}},p=j=>{const N=hx(j.code,g);fx(f,d.current,!0)?(o(!1),d.current.clear()):d.current.delete(j[N]),j.key==="Meta"&&d.current.clear(),c.current=!1},v=()=>{d.current.clear(),o(!1)};return m?.addEventListener("keydown",y),m?.addEventListener("keyup",p),window.addEventListener("blur",v),window.addEventListener("contextmenu",v),()=>{m?.removeEventListener("keydown",y),m?.removeEventListener("keyup",p),window.removeEventListener("blur",v),window.removeEventListener("contextmenu",v)}}},[n,o]),i}function fx(n,s,i){return n.filter(o=>i||o.length===s.size).some(o=>o.every(c=>s.has(c)))}function hx(n,s){return s.includes(n)?"code":"key"}const GC=()=>{const n=Fe();return A.useMemo(()=>({zoomIn:s=>{const{panZoom:i}=n.getState();return i?i.scaleBy(1.2,{duration:s?.duration}):Promise.resolve(!1)},zoomOut:s=>{const{panZoom:i}=n.getState();return i?i.scaleBy(1/1.2,{duration:s?.duration}):Promise.resolve(!1)},zoomTo:(s,i)=>{const{panZoom:o}=n.getState();return o?o.scaleTo(s,{duration:i?.duration}):Promise.resolve(!1)},getZoom:()=>n.getState().transform[2],setViewport:async(s,i)=>{const{transform:[o,c,d],panZoom:f}=n.getState();return f?(await f.setViewport({x:s.x??o,y:s.y??c,zoom:s.zoom??d},i),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[s,i,o]=n.getState().transform;return{x:s,y:i,zoom:o}},setCenter:async(s,i,o)=>n.getState().setCenter(s,i,o),fitBounds:async(s,i)=>{const{width:o,height:c,minZoom:d,maxZoom:f,panZoom:g}=n.getState(),m=cf(s,o,c,d,f,i?.padding??.1);return g?(await g.setViewport(m,{duration:i?.duration,ease:i?.ease,interpolate:i?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(s,i={})=>{const{transform:o,snapGrid:c,snapToGrid:d,domNode:f}=n.getState();if(!f)return s;const{x:g,y:m}=f.getBoundingClientRect(),x={x:s.x-g,y:s.y-m},y=i.snapGrid??c,p=i.snapToGrid??d;return Di(x,o,p,y)},flowToScreenPosition:s=>{const{transform:i,domNode:o}=n.getState();if(!o)return s;const{x:c,y:d}=o.getBoundingClientRect(),f=zo(s,i);return{x:f.x+c,y:f.y+d}}}),[])};function cy(n,s){const i=[],o=new Map,c=[];for(const d of n)if(d.type==="add"){c.push(d);continue}else if(d.type==="remove"||d.type==="replace")o.set(d.id,[d]);else{const f=o.get(d.id);f?f.push(d):o.set(d.id,[d])}for(const d of s){const f=o.get(d.id);if(!f){i.push(d);continue}if(f[0].type==="remove")continue;if(f[0].type==="replace"){i.push({...f[0].item});continue}const g={...d};for(const m of f)XC(m,g);i.push(g)}return c.length&&c.forEach(d=>{d.index!==void 0?i.splice(d.index,0,{...d.item}):i.push({...d.item})}),i}function XC(n,s){switch(n.type){case"select":{s.selected=n.selected;break}case"position":{typeof n.position<"u"&&(s.position=n.position),typeof n.dragging<"u"&&(s.dragging=n.dragging);break}case"dimensions":{typeof n.dimensions<"u"&&(s.measured={...n.dimensions},n.setAttributes&&((n.setAttributes===!0||n.setAttributes==="width")&&(s.width=n.dimensions.width),(n.setAttributes===!0||n.setAttributes==="height")&&(s.height=n.dimensions.height))),typeof n.resizing=="boolean"&&(s.resizing=n.resizing);break}}}function uy(n,s){return cy(n,s)}function dy(n,s){return cy(n,s)}function Wa(n,s){return{id:n,type:"select",selected:s}}function Ws(n,s=new Set,i=!1){const o=[];for(const[c,d]of n){const f=s.has(c);!(d.selected===void 0&&!f)&&d.selected!==f&&(i&&(d.selected=f),o.push(Wa(d.id,f)))}return o}function gx({items:n=[],lookup:s}){const i=[],o=new Map(n.map(c=>[c.id,c]));for(const[c,d]of n.entries()){const f=s.get(d.id),g=f?.internals?.userNode??f;g!==void 0&&g!==d&&i.push({id:d.id,item:d,type:"replace"}),g===void 0&&i.push({item:d,type:"add",index:c})}for(const[c]of s)o.get(c)===void 0&&i.push({id:c,type:"remove"});return i}function mx(n){return{id:n.id,type:"remove"}}const xx=n=>jk(n),ZC=n=>Mp(n);function fy(n){return A.forwardRef(n)}const QC=typeof window<"u"?A.useLayoutEffect:A.useEffect;function px(n){const[s,i]=A.useState(BigInt(0)),[o]=A.useState(()=>FC(()=>i(c=>c+BigInt(1))));return QC(()=>{const c=o.get();c.length&&(n(c),o.reset())},[s]),o}function FC(n){let s=[];return{get:()=>s,reset:()=>{s=[]},push:i=>{s.push(i),n()}}}const hy=A.createContext(null);function KC({children:n}){const s=Fe(),i=A.useCallback(g=>{const{nodes:m=[],setNodes:x,hasDefaultNodes:y,onNodesChange:p,nodeLookup:v,fitViewQueued:j,onNodesChangeMiddlewareMap:N}=s.getState();let k=m;for(const E of g)k=typeof E=="function"?E(k):E;let T=gx({items:k,lookup:v});for(const E of N.values())T=E(T);y&&x(k),T.length>0?p?.(T):j&&window.requestAnimationFrame(()=>{const{fitViewQueued:E,nodes:M,setNodes:w}=s.getState();E&&w(M)})},[]),o=px(i),c=A.useCallback(g=>{const{edges:m=[],setEdges:x,hasDefaultEdges:y,onEdgesChange:p,edgeLookup:v}=s.getState();let j=m;for(const N of g)j=typeof N=="function"?N(j):N;y?x(j):p&&p(gx({items:j,lookup:v}))},[]),d=px(c),f=A.useMemo(()=>({nodeQueue:o,edgeQueue:d}),[]);return r.jsx(hy.Provider,{value:f,children:n})}function IC(){const n=A.useContext(hy);if(!n)throw new Error("useBatchContext must be used within a BatchProvider");return n}const JC=n=>!!n.panZoom;function Xo(){const n=GC(),s=Fe(),i=IC(),o=De(JC),c=A.useMemo(()=>{const d=p=>s.getState().nodeLookup.get(p),f=p=>{i.nodeQueue.push(p)},g=p=>{i.edgeQueue.push(p)},m=p=>{const{nodeLookup:v,nodeOrigin:j}=s.getState(),N=xx(p)?p:v.get(p.id),k=N.parentId?Up(N.position,N.measured,N.parentId,v,j):N.position,T={...N,position:k,width:N.measured?.width??N.width,height:N.measured?.height??N.height};return ir(T)},x=(p,v,j={replace:!1})=>{f(N=>N.map(k=>{if(k.id===p){const T=typeof v=="function"?v(k):v;return j.replace&&xx(T)?T:{...k,...T}}return k}))},y=(p,v,j={replace:!1})=>{g(N=>N.map(k=>{if(k.id===p){const T=typeof v=="function"?v(k):v;return j.replace&&ZC(T)?T:{...k,...T}}return k}))};return{getNodes:()=>s.getState().nodes.map(p=>({...p})),getNode:p=>d(p)?.internals.userNode,getInternalNode:d,getEdges:()=>{const{edges:p=[]}=s.getState();return p.map(v=>({...v}))},getEdge:p=>s.getState().edgeLookup.get(p),setNodes:f,setEdges:g,addNodes:p=>{const v=Array.isArray(p)?p:[p];i.nodeQueue.push(j=>[...j,...v])},addEdges:p=>{const v=Array.isArray(p)?p:[p];i.edgeQueue.push(j=>[...j,...v])},toObject:()=>{const{nodes:p=[],edges:v=[],transform:j}=s.getState(),[N,k,T]=j;return{nodes:p.map(E=>({...E})),edges:v.map(E=>({...E})),viewport:{x:N,y:k,zoom:T}}},deleteElements:async({nodes:p=[],edges:v=[]})=>{const{nodes:j,edges:N,onNodesDelete:k,onEdgesDelete:T,triggerNodeChanges:E,triggerEdgeChanges:M,onDelete:w,onBeforeDelete:z}=s.getState(),{nodes:L,edges:B}=await Ek({nodesToRemove:p,edgesToRemove:v,nodes:j,edges:N,onBeforeDelete:z}),$=B.length>0,V=L.length>0;if($){const q=B.map(mx);T?.(B),M(q)}if(V){const q=L.map(mx);k?.(L),E(q)}return(V||$)&&w?.({nodes:L,edges:B}),{deletedNodes:L,deletedEdges:B}},getIntersectingNodes:(p,v=!0,j)=>{const N=Zm(p),k=N?p:m(p),T=j!==void 0;return k?(j||s.getState().nodes).filter(E=>{const M=s.getState().nodeLookup.get(E.id);if(M&&!N&&(E.id===p.id||!M.internals.positionAbsolute))return!1;const w=ir(T?E:M),z=wi(w,k);return v&&z>0||z>=w.width*w.height||z>=k.width*k.height}):[]},isNodeIntersecting:(p,v,j=!0)=>{const k=Zm(p)?p:m(p);if(!k)return!1;const T=wi(k,v);return j&&T>0||T>=v.width*v.height||T>=k.width*k.height},updateNode:x,updateNodeData:(p,v,j={replace:!1})=>{x(p,N=>{const k=typeof v=="function"?v(N):v;return j.replace?{...N,data:k}:{...N,data:{...N.data,...k}}},j)},updateEdge:y,updateEdgeData:(p,v,j={replace:!1})=>{y(p,N=>{const k=typeof v=="function"?v(N):v;return j.replace?{...N,data:k}:{...N,data:{...N.data,...k}}},j)},getNodesBounds:p=>{const{nodeLookup:v,nodeOrigin:j}=s.getState();return wk(p,{nodeLookup:v,nodeOrigin:j})},getHandleConnections:({type:p,id:v,nodeId:j})=>Array.from(s.getState().connectionLookup.get(`${j}-${p}${v?`-${v}`:""}`)?.values()??[]),getNodeConnections:({type:p,handleId:v,nodeId:j})=>Array.from(s.getState().connectionLookup.get(`${j}${p?v?`-${p}-${v}`:`-${p}`:""}`)?.values()??[]),fitView:async p=>{const v=s.getState().fitViewResolver??_k();return s.setState({fitViewQueued:!0,fitViewOptions:p,fitViewResolver:v}),i.nodeQueue.push(j=>[...j]),v.promise}}},[]);return A.useMemo(()=>({...c,...n,viewportInitialized:o}),[o])}const yx=n=>n.selected,WC=typeof window<"u"?window:void 0;function PC({deleteKeyCode:n,multiSelectionKeyCode:s}){const i=Fe(),{deleteElements:o}=Xo(),c=ki(n,{actInsideInputWithModifier:!1}),d=ki(s,{target:WC});A.useEffect(()=>{if(c){const{edges:f,nodes:g}=i.getState();o({nodes:g.filter(yx),edges:f.filter(yx)}),i.setState({nodesSelectionActive:!1})}},[c]),A.useEffect(()=>{i.setState({multiSelectionActive:d})},[d])}function e4(n){const s=Fe();A.useEffect(()=>{const i=()=>{if(!n.current||!(n.current.checkVisibility?.()??!0))return!1;const o=uf(n.current);(o.height===0||o.width===0)&&s.getState().onError?.("004",pn.error004()),s.setState({width:o.width||500,height:o.height||500})};if(n.current){i(),window.addEventListener("resize",i);const o=new ResizeObserver(()=>i());return o.observe(n.current),()=>{window.removeEventListener("resize",i),o&&n.current&&o.unobserve(n.current)}}},[])}const Zo={position:"absolute",width:"100%",height:"100%",top:0,left:0},t4=n=>({userSelectionActive:n.userSelectionActive,lib:n.lib,connectionInProgress:n.connection.inProgress});function n4({onPaneContextMenu:n,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:c=.5,panOnScrollMode:d=Pa.Free,zoomOnDoubleClick:f=!0,panOnDrag:g=!0,defaultViewport:m,translateExtent:x,minZoom:y,maxZoom:p,zoomActivationKeyCode:v,preventScrolling:j=!0,children:N,noWheelClassName:k,noPanClassName:T,onViewportChange:E,isControlledViewport:M,paneClickDistance:w,selectionOnDrag:z}){const L=Fe(),B=A.useRef(null),{userSelectionActive:$,lib:V,connectionInProgress:q}=De(t4,Qe),te=ki(v),G=A.useRef();e4(B);const F=A.useCallback(H=>{E?.({x:H[0],y:H[1],zoom:H[2]}),M||L.setState({transform:H})},[E,M]);return A.useEffect(()=>{if(B.current){G.current=hC({domNode:B.current,minZoom:y,maxZoom:p,translateExtent:x,viewport:m,onDraggingChange:C=>L.setState({paneDragging:C}),onPanZoomStart:(C,O)=>{const{onViewportChangeStart:U,onMoveStart:Z}=L.getState();Z?.(C,O),U?.(O)},onPanZoom:(C,O)=>{const{onViewportChange:U,onMove:Z}=L.getState();Z?.(C,O),U?.(O)},onPanZoomEnd:(C,O)=>{const{onViewportChangeEnd:U,onMoveEnd:Z}=L.getState();Z?.(C,O),U?.(O)}});const{x:H,y:_,zoom:D}=G.current.getViewport();return L.setState({panZoom:G.current,transform:[H,_,D],domNode:B.current.closest(".react-flow")}),()=>{G.current?.destroy()}}},[]),A.useEffect(()=>{G.current?.update({onPaneContextMenu:n,zoomOnScroll:s,zoomOnPinch:i,panOnScroll:o,panOnScrollSpeed:c,panOnScrollMode:d,zoomOnDoubleClick:f,panOnDrag:g,zoomActivationKeyPressed:te,preventScrolling:j,noPanClassName:T,userSelectionActive:$,noWheelClassName:k,lib:V,onTransformChange:F,connectionInProgress:q,selectionOnDrag:z,paneClickDistance:w})},[n,s,i,o,c,d,f,g,te,j,T,$,k,V,F,q,z,w]),r.jsx("div",{className:"react-flow__renderer",ref:B,style:Zo,children:N})}const a4=n=>({userSelectionActive:n.userSelectionActive,userSelectionRect:n.userSelectionRect});function s4(){const{userSelectionActive:n,userSelectionRect:s}=De(a4,Qe);return n&&s?r.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:s.width,height:s.height,transform:`translate(${s.x}px, ${s.y}px)`}}):null}const zd=(n,s)=>i=>{i.target===s.current&&n?.(i)},r4=n=>({userSelectionActive:n.userSelectionActive,elementsSelectable:n.elementsSelectable,connectionInProgress:n.connection.inProgress,dragging:n.paneDragging});function i4({isSelecting:n,selectionKeyPressed:s,selectionMode:i=ji.Full,panOnDrag:o,paneClickDistance:c,selectionOnDrag:d,onSelectionStart:f,onSelectionEnd:g,onPaneClick:m,onPaneContextMenu:x,onPaneScroll:y,onPaneMouseEnter:p,onPaneMouseMove:v,onPaneMouseLeave:j,children:N}){const k=Fe(),{userSelectionActive:T,elementsSelectable:E,dragging:M,connectionInProgress:w}=De(r4,Qe),z=E&&(n||T),L=A.useRef(null),B=A.useRef(),$=A.useRef(new Set),V=A.useRef(new Set),q=A.useRef(!1),te=U=>{if(q.current||w){q.current=!1;return}m?.(U),k.getState().resetSelectedElements(),k.setState({nodesSelectionActive:!1})},G=U=>{if(Array.isArray(o)&&o?.includes(2)){U.preventDefault();return}x?.(U)},F=y?U=>y(U):void 0,H=U=>{q.current&&(U.stopPropagation(),q.current=!1)},_=U=>{const{domNode:Z}=k.getState();if(B.current=Z?.getBoundingClientRect(),!B.current)return;const X=U.target===L.current;if(!X&&!!U.target.closest(".nokey")||!n||!(d&&X||s)||U.button!==0||!U.isPrimary)return;U.target?.setPointerCapture?.(U.pointerId),q.current=!1;const{x:se,y:le}=nn(U.nativeEvent,B.current);k.setState({userSelectionRect:{width:0,height:0,startX:se,startY:le,x:se,y:le}}),X||(U.stopPropagation(),U.preventDefault())},D=U=>{const{userSelectionRect:Z,transform:X,nodeLookup:P,edgeLookup:W,connectionLookup:se,triggerNodeChanges:le,triggerEdgeChanges:fe,defaultEdgeOptions:be,resetSelectedElements:me}=k.getState();if(!B.current||!Z)return;const{x:oe,y:ue}=nn(U.nativeEvent,B.current),{startX:ke,startY:we}=Z;if(!q.current){const Se=s?0:c;if(Math.hypot(oe-ke,ue-we)<=Se)return;me(),f?.(U)}q.current=!0;const pe={startX:ke,startY:we,x:oe<ke?oe:ke,y:ue<we?ue:we,width:Math.abs(oe-ke),height:Math.abs(ue-we)},Ne=$.current,ie=V.current;$.current=new Set(of(P,pe,X,i===ji.Partial,!0).map(Se=>Se.id)),V.current=new Set;const ye=be?.selectable??!0;for(const Se of $.current){const Ye=se.get(Se);if(Ye)for(const{edgeId:Ft}of Ye.values()){const At=W.get(Ft);At&&(At.selectable??ye)&&V.current.add(Ft)}}if(!Qm(Ne,$.current)){const Se=Ws(P,$.current,!0);le(Se)}if(!Qm(ie,V.current)){const Se=Ws(W,V.current);fe(Se)}k.setState({userSelectionRect:pe,userSelectionActive:!0,nodesSelectionActive:!1})},C=U=>{U.button===0&&(U.target?.releasePointerCapture?.(U.pointerId),!T&&U.target===L.current&&k.getState().userSelectionRect&&te?.(U),k.setState({userSelectionActive:!1,userSelectionRect:null}),q.current&&(g?.(U),k.setState({nodesSelectionActive:$.current.size>0})))},O=o===!0||Array.isArray(o)&&o.includes(0);return r.jsxs("div",{className:st(["react-flow__pane",{draggable:O,dragging:M,selection:n}]),onClick:z?void 0:zd(te,L),onContextMenu:zd(G,L),onWheel:zd(F,L),onPointerEnter:z?void 0:p,onPointerMove:z?D:v,onPointerUp:z?C:void 0,onPointerDownCapture:z?_:void 0,onClickCapture:z?H:void 0,onPointerLeave:j,ref:L,style:Zo,children:[N,r.jsx(s4,{})]})}function Qd({id:n,store:s,unselect:i=!1,nodeRef:o}){const{addSelectedNodes:c,unselectNodesAndEdges:d,multiSelectionActive:f,nodeLookup:g,onError:m}=s.getState(),x=g.get(n);if(!x){m?.("012",pn.error012(n));return}s.setState({nodesSelectionActive:!1}),x.selected?(i||x.selected&&f)&&(d({nodes:[x],edges:[]}),requestAnimationFrame(()=>o?.current?.blur())):c([n])}function gy({nodeRef:n,disabled:s=!1,noDragClassName:i,handleSelector:o,nodeId:c,isSelectable:d,nodeClickDistance:f}){const g=Fe(),[m,x]=A.useState(!1),y=A.useRef();return A.useEffect(()=>{y.current=Pk({getStoreItems:()=>g.getState(),onNodeMouseDown:p=>{Qd({id:p,store:g,nodeRef:n})},onDragStart:()=>{x(!0)},onDragStop:()=>{x(!1)}})},[]),A.useEffect(()=>{if(s)y.current?.destroy();else if(n.current)return y.current?.update({noDragClassName:i,handleSelector:o,domNode:n.current,isSelectable:d,nodeId:c,nodeClickDistance:f}),()=>{y.current?.destroy()}},[i,o,s,d,n,c]),m}const l4=n=>s=>s.selected&&(s.draggable||n&&typeof s.draggable>"u");function my(){const n=Fe();return A.useCallback(i=>{const{nodeExtent:o,snapToGrid:c,snapGrid:d,nodesDraggable:f,onError:g,updateNodePositions:m,nodeLookup:x,nodeOrigin:y}=n.getState(),p=new Map,v=l4(f),j=c?d[0]:5,N=c?d[1]:5,k=i.direction.x*j*i.factor,T=i.direction.y*N*i.factor;for(const[,E]of x){if(!v(E))continue;let M={x:E.internals.positionAbsolute.x+k,y:E.internals.positionAbsolute.y+T};c&&(M=Mi(M,d));const{position:w,positionAbsolute:z}=Dp({nodeId:E.id,nextPosition:M,nodeLookup:x,nodeExtent:o,nodeOrigin:y,onError:g});E.position=w,E.internals.positionAbsolute=z,p.set(E.id,E)}m(p)},[])}const xf=A.createContext(null),o4=xf.Provider;xf.Consumer;const xy=()=>A.useContext(xf),c4=n=>({connectOnClick:n.connectOnClick,noPanClassName:n.noPanClassName,rfId:n.rfId}),u4=(n,s,i)=>o=>{const{connectionClickStartHandle:c,connectionMode:d,connection:f}=o,{fromHandle:g,toHandle:m,isValid:x}=f,y=m?.nodeId===n&&m?.id===s&&m?.type===i;return{connectingFrom:g?.nodeId===n&&g?.id===s&&g?.type===i,connectingTo:y,clickConnecting:c?.nodeId===n&&c?.id===s&&c?.type===i,isPossibleEndHandle:d===sr.Strict?g?.type!==i:n!==g?.nodeId||s!==g?.id,connectionInProcess:!!g,clickConnectionInProcess:!!c,valid:y&&x}};function d4({type:n="source",position:s=ge.Top,isValidConnection:i,isConnectable:o=!0,isConnectableStart:c=!0,isConnectableEnd:d=!0,id:f,onConnect:g,children:m,className:x,onMouseDown:y,onTouchStart:p,...v},j){const N=f||null,k=n==="target",T=Fe(),E=xy(),{connectOnClick:M,noPanClassName:w,rfId:z}=De(c4,Qe),{connectingFrom:L,connectingTo:B,clickConnecting:$,isPossibleEndHandle:V,connectionInProcess:q,clickConnectionInProcess:te,valid:G}=De(u4(E,N,n),Qe);E||T.getState().onError?.("010",pn.error010());const F=D=>{const{defaultEdgeOptions:C,onConnect:O,hasDefaultEdges:U}=T.getState(),Z={...C,...D};if(U){const{edges:X,setEdges:P}=T.getState();P(Xp(Z,X))}O?.(Z),g?.(Z)},H=D=>{if(!E)return;const C=qp(D.nativeEvent);if(c&&(C&&D.button===0||!C)){const O=T.getState();Zd.onPointerDown(D.nativeEvent,{handleDomNode:D.currentTarget,autoPanOnConnect:O.autoPanOnConnect,connectionMode:O.connectionMode,connectionRadius:O.connectionRadius,domNode:O.domNode,nodeLookup:O.nodeLookup,lib:O.lib,isTarget:k,handleId:N,nodeId:E,flowId:O.rfId,panBy:O.panBy,cancelConnection:O.cancelConnection,onConnectStart:O.onConnectStart,onConnectEnd:O.onConnectEnd,updateConnection:O.updateConnection,onConnect:F,isValidConnection:i||O.isValidConnection,getTransform:()=>T.getState().transform,getFromHandle:()=>T.getState().connection.fromHandle,autoPanSpeed:O.autoPanSpeed,dragThreshold:O.connectionDragThreshold})}C?y?.(D):p?.(D)},_=D=>{const{onClickConnectStart:C,onClickConnectEnd:O,connectionClickStartHandle:U,connectionMode:Z,isValidConnection:X,lib:P,rfId:W,nodeLookup:se,connection:le}=T.getState();if(!E||!U&&!c)return;if(!U){C?.(D.nativeEvent,{nodeId:E,handleId:N,handleType:n}),T.setState({connectionClickStartHandle:{nodeId:E,type:n,id:N}});return}const fe=Bp(D.target),be=i||X,{connection:me,isValid:oe}=Zd.isValid(D.nativeEvent,{handle:{nodeId:E,id:N,type:n},connectionMode:Z,fromNodeId:U.nodeId,fromHandleId:U.id||null,fromType:U.type,isValidConnection:be,flowId:W,doc:fe,lib:P,nodeLookup:se});oe&&me&&F(me);const ue=structuredClone(le);delete ue.inProgress,ue.toPosition=ue.toHandle?ue.toHandle.position:null,O?.(D,ue),T.setState({connectionClickStartHandle:null})};return r.jsx("div",{"data-handleid":N,"data-nodeid":E,"data-handlepos":s,"data-id":`${z}-${E}-${N}-${n}`,className:st(["react-flow__handle",`react-flow__handle-${s}`,"nodrag",w,x,{source:!k,target:k,connectable:o,connectablestart:c,connectableend:d,clickconnecting:$,connectingfrom:L,connectingto:B,valid:G,connectionindicator:o&&(!q||V)&&(q||te?d:c)}]),onMouseDown:H,onTouchStart:H,onClick:M?_:void 0,ref:j,...v,children:m})}const xn=A.memo(fy(d4));function f4({data:n,isConnectable:s,sourcePosition:i=ge.Bottom}){return r.jsxs(r.Fragment,{children:[n?.label,r.jsx(xn,{type:"source",position:i,isConnectable:s})]})}function h4({data:n,isConnectable:s,targetPosition:i=ge.Top,sourcePosition:o=ge.Bottom}){return r.jsxs(r.Fragment,{children:[r.jsx(xn,{type:"target",position:i,isConnectable:s}),n?.label,r.jsx(xn,{type:"source",position:o,isConnectable:s})]})}function g4(){return null}function m4({data:n,isConnectable:s,targetPosition:i=ge.Top}){return r.jsxs(r.Fragment,{children:[r.jsx(xn,{type:"target",position:i,isConnectable:s}),n?.label]})}const Ao={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},bx={input:f4,default:h4,output:m4,group:g4};function x4(n){return n.internals.handleBounds===void 0?{width:n.width??n.initialWidth??n.style?.width,height:n.height??n.initialHeight??n.style?.height}:{width:n.width??n.style?.width,height:n.height??n.style?.height}}const p4=n=>{const{width:s,height:i,x:o,y:c}=_i(n.nodeLookup,{filter:d=>!!d.selected});return{width:tn(s)?s:null,height:tn(i)?i:null,userSelectionActive:n.userSelectionActive,transformString:`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]}) translate(${o}px,${c}px)`}};function y4({onSelectionContextMenu:n,noPanClassName:s,disableKeyboardA11y:i}){const o=Fe(),{width:c,height:d,transformString:f,userSelectionActive:g}=De(p4,Qe),m=my(),x=A.useRef(null);if(A.useEffect(()=>{i||x.current?.focus({preventScroll:!0})},[i]),gy({nodeRef:x}),g||!c||!d)return null;const y=n?v=>{const j=o.getState().nodes.filter(N=>N.selected);n(v,j)}:void 0,p=v=>{Object.prototype.hasOwnProperty.call(Ao,v.key)&&(v.preventDefault(),m({direction:Ao[v.key],factor:v.shiftKey?4:1}))};return r.jsx("div",{className:st(["react-flow__nodesselection","react-flow__container",s]),style:{transform:f},children:r.jsx("div",{ref:x,className:"react-flow__nodesselection-rect",onContextMenu:y,tabIndex:i?void 0:-1,onKeyDown:i?void 0:p,style:{width:c,height:d}})})}const vx=typeof window<"u"?window:void 0,b4=n=>({nodesSelectionActive:n.nodesSelectionActive,userSelectionActive:n.userSelectionActive});function py({children:n,onPaneClick:s,onPaneMouseEnter:i,onPaneMouseMove:o,onPaneMouseLeave:c,onPaneContextMenu:d,onPaneScroll:f,paneClickDistance:g,deleteKeyCode:m,selectionKeyCode:x,selectionOnDrag:y,selectionMode:p,onSelectionStart:v,onSelectionEnd:j,multiSelectionKeyCode:N,panActivationKeyCode:k,zoomActivationKeyCode:T,elementsSelectable:E,zoomOnScroll:M,zoomOnPinch:w,panOnScroll:z,panOnScrollSpeed:L,panOnScrollMode:B,zoomOnDoubleClick:$,panOnDrag:V,defaultViewport:q,translateExtent:te,minZoom:G,maxZoom:F,preventScrolling:H,onSelectionContextMenu:_,noWheelClassName:D,noPanClassName:C,disableKeyboardA11y:O,onViewportChange:U,isControlledViewport:Z}){const{nodesSelectionActive:X,userSelectionActive:P}=De(b4,Qe),W=ki(x,{target:vx}),se=ki(k,{target:vx}),le=se||V,fe=se||z,be=y&&le!==!0,me=W||P||be;return PC({deleteKeyCode:m,multiSelectionKeyCode:N}),r.jsx(n4,{onPaneContextMenu:d,elementsSelectable:E,zoomOnScroll:M,zoomOnPinch:w,panOnScroll:fe,panOnScrollSpeed:L,panOnScrollMode:B,zoomOnDoubleClick:$,panOnDrag:!W&&le,defaultViewport:q,translateExtent:te,minZoom:G,maxZoom:F,zoomActivationKeyCode:T,preventScrolling:H,noWheelClassName:D,noPanClassName:C,onViewportChange:U,isControlledViewport:Z,paneClickDistance:g,selectionOnDrag:be,children:r.jsxs(i4,{onSelectionStart:v,onSelectionEnd:j,onPaneClick:s,onPaneMouseEnter:i,onPaneMouseMove:o,onPaneMouseLeave:c,onPaneContextMenu:d,onPaneScroll:f,panOnDrag:le,isSelecting:!!me,selectionMode:p,selectionKeyPressed:W,paneClickDistance:g,selectionOnDrag:be,children:[n,X&&r.jsx(y4,{onSelectionContextMenu:_,noPanClassName:C,disableKeyboardA11y:O})]})})}py.displayName="FlowRenderer";const v4=A.memo(py),N4=n=>s=>n?of(s.nodeLookup,{x:0,y:0,width:s.width,height:s.height},s.transform,!0).map(i=>i.id):Array.from(s.nodeLookup.keys());function j4(n){return De(A.useCallback(N4(n),[n]),Qe)}const w4=n=>n.updateNodeInternals;function S4(){const n=De(w4),[s]=A.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(i=>{const o=new Map;i.forEach(c=>{const d=c.target.getAttribute("data-id");o.set(d,{id:d,nodeElement:c.target,force:!0})}),n(o)}));return A.useEffect(()=>()=>{s?.disconnect()},[s]),s}function k4({node:n,nodeType:s,hasDimensions:i,resizeObserver:o}){const c=Fe(),d=A.useRef(null),f=A.useRef(null),g=A.useRef(n.sourcePosition),m=A.useRef(n.targetPosition),x=A.useRef(s),y=i&&!!n.internals.handleBounds;return A.useEffect(()=>{d.current&&!n.hidden&&(!y||f.current!==d.current)&&(f.current&&o?.unobserve(f.current),o?.observe(d.current),f.current=d.current)},[y,n.hidden]),A.useEffect(()=>()=>{f.current&&(o?.unobserve(f.current),f.current=null)},[]),A.useEffect(()=>{if(d.current){const p=x.current!==s,v=g.current!==n.sourcePosition,j=m.current!==n.targetPosition;(p||v||j)&&(x.current=s,g.current=n.sourcePosition,m.current=n.targetPosition,c.getState().updateNodeInternals(new Map([[n.id,{id:n.id,nodeElement:d.current,force:!0}]])))}},[n.id,s,n.sourcePosition,n.targetPosition]),d}function C4({id:n,onClick:s,onMouseEnter:i,onMouseMove:o,onMouseLeave:c,onContextMenu:d,onDoubleClick:f,nodesDraggable:g,elementsSelectable:m,nodesConnectable:x,nodesFocusable:y,resizeObserver:p,noDragClassName:v,noPanClassName:j,disableKeyboardA11y:N,rfId:k,nodeTypes:T,nodeClickDistance:E,onError:M}){const{node:w,internals:z,isParent:L}=De(oe=>{const ue=oe.nodeLookup.get(n),ke=oe.parentLookup.has(n);return{node:ue,internals:ue.internals,isParent:ke}},Qe);let B=w.type||"default",$=T?.[B]||bx[B];$===void 0&&(M?.("003",pn.error003(B)),B="default",$=T?.default||bx.default);const V=!!(w.draggable||g&&typeof w.draggable>"u"),q=!!(w.selectable||m&&typeof w.selectable>"u"),te=!!(w.connectable||x&&typeof w.connectable>"u"),G=!!(w.focusable||y&&typeof w.focusable>"u"),F=Fe(),H=Hp(w),_=k4({node:w,nodeType:B,hasDimensions:H,resizeObserver:p}),D=gy({nodeRef:_,disabled:w.hidden||!V,noDragClassName:v,handleSelector:w.dragHandle,nodeId:n,isSelectable:q,nodeClickDistance:E}),C=my();if(w.hidden)return null;const O=Xn(w),U=x4(w),Z=q||V||s||i||o||c,X=i?oe=>i(oe,{...z.userNode}):void 0,P=o?oe=>o(oe,{...z.userNode}):void 0,W=c?oe=>c(oe,{...z.userNode}):void 0,se=d?oe=>d(oe,{...z.userNode}):void 0,le=f?oe=>f(oe,{...z.userNode}):void 0,fe=oe=>{const{selectNodesOnDrag:ue,nodeDragThreshold:ke}=F.getState();q&&(!ue||!V||ke>0)&&Qd({id:n,store:F,nodeRef:_}),s&&s(oe,{...z.userNode})},be=oe=>{if(!(Vp(oe.nativeEvent)||N)){if(zp.includes(oe.key)&&q){const ue=oe.key==="Escape";Qd({id:n,store:F,unselect:ue,nodeRef:_})}else if(V&&w.selected&&Object.prototype.hasOwnProperty.call(Ao,oe.key)){oe.preventDefault();const{ariaLabelConfig:ue}=F.getState();F.setState({ariaLiveMessage:ue["node.a11yDescription.ariaLiveMessage"]({direction:oe.key.replace("Arrow","").toLowerCase(),x:~~z.positionAbsolute.x,y:~~z.positionAbsolute.y})}),C({direction:Ao[oe.key],factor:oe.shiftKey?4:1})}}},me=()=>{if(N||!_.current?.matches(":focus-visible"))return;const{transform:oe,width:ue,height:ke,autoPanOnNodeFocus:we,setCenter:pe}=F.getState();if(!we)return;of(new Map([[n,w]]),{x:0,y:0,width:ue,height:ke},oe,!0).length>0||pe(w.position.x+O.width/2,w.position.y+O.height/2,{zoom:oe[2]})};return r.jsx("div",{className:st(["react-flow__node",`react-flow__node-${B}`,{[j]:V},w.className,{selected:w.selected,selectable:q,parent:L,draggable:V,dragging:D}]),ref:_,style:{zIndex:z.z,transform:`translate(${z.positionAbsolute.x}px,${z.positionAbsolute.y}px)`,pointerEvents:Z?"all":"none",visibility:H?"visible":"hidden",...w.style,...U},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:X,onMouseMove:P,onMouseLeave:W,onContextMenu:se,onClick:fe,onDoubleClick:le,onKeyDown:G?be:void 0,tabIndex:G?0:void 0,onFocus:G?me:void 0,role:w.ariaRole??(G?"group":void 0),"aria-roledescription":"node","aria-describedby":N?void 0:`${iy}-${k}`,"aria-label":w.ariaLabel,...w.domAttributes,children:r.jsx(o4,{value:n,children:r.jsx($,{id:n,data:w.data,type:B,positionAbsoluteX:z.positionAbsolute.x,positionAbsoluteY:z.positionAbsolute.y,selected:w.selected??!1,selectable:q,draggable:V,deletable:w.deletable??!0,isConnectable:te,sourcePosition:w.sourcePosition,targetPosition:w.targetPosition,dragging:D,dragHandle:w.dragHandle,zIndex:z.z,parentId:w.parentId,...O})})})}var E4=A.memo(C4);const z4=n=>({nodesDraggable:n.nodesDraggable,nodesConnectable:n.nodesConnectable,nodesFocusable:n.nodesFocusable,elementsSelectable:n.elementsSelectable,onError:n.onError});function yy(n){const{nodesDraggable:s,nodesConnectable:i,nodesFocusable:o,elementsSelectable:c,onError:d}=De(z4,Qe),f=j4(n.onlyRenderVisibleElements),g=S4();return r.jsx("div",{className:"react-flow__nodes",style:Zo,children:f.map(m=>r.jsx(E4,{id:m,nodeTypes:n.nodeTypes,nodeExtent:n.nodeExtent,onClick:n.onNodeClick,onMouseEnter:n.onNodeMouseEnter,onMouseMove:n.onNodeMouseMove,onMouseLeave:n.onNodeMouseLeave,onContextMenu:n.onNodeContextMenu,onDoubleClick:n.onNodeDoubleClick,noDragClassName:n.noDragClassName,noPanClassName:n.noPanClassName,rfId:n.rfId,disableKeyboardA11y:n.disableKeyboardA11y,resizeObserver:g,nodesDraggable:s,nodesConnectable:i,nodesFocusable:o,elementsSelectable:c,nodeClickDistance:n.nodeClickDistance,onError:d},m))})}yy.displayName="NodeRenderer";const A4=A.memo(yy);function T4(n){return De(A.useCallback(i=>{if(!n)return i.edges.map(c=>c.id);const o=[];if(i.width&&i.height)for(const c of i.edges){const d=i.nodeLookup.get(c.source),f=i.nodeLookup.get(c.target);d&&f&&Lk({sourceNode:d,targetNode:f,width:i.width,height:i.height,transform:i.transform})&&o.push(c.id)}return o},[n]),Qe)}const _4=({color:n="none",strokeWidth:s=1})=>{const i={strokeWidth:s,...n&&{stroke:n}};return r.jsx("polyline",{className:"arrow",style:i,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},M4=({color:n="none",strokeWidth:s=1})=>{const i={strokeWidth:s,...n&&{stroke:n,fill:n}};return r.jsx("polyline",{className:"arrowclosed",style:i,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Nx={[Co.Arrow]:_4,[Co.ArrowClosed]:M4};function D4(n){const s=Fe();return A.useMemo(()=>Object.prototype.hasOwnProperty.call(Nx,n)?Nx[n]:(s.getState().onError?.("009",pn.error009(n)),null),[n])}const O4=({id:n,type:s,color:i,width:o=12.5,height:c=12.5,markerUnits:d="strokeWidth",strokeWidth:f,orient:g="auto-start-reverse"})=>{const m=D4(s);return m?r.jsx("marker",{className:"react-flow__arrowhead",id:n,markerWidth:`${o}`,markerHeight:`${c}`,viewBox:"-10 -10 20 20",markerUnits:d,orient:g,refX:"0",refY:"0",children:r.jsx(m,{color:i,strokeWidth:f})}):null},by=({defaultColor:n,rfId:s})=>{const i=De(d=>d.edges),o=De(d=>d.defaultEdgeOptions),c=A.useMemo(()=>$k(i,{id:s,defaultColor:n,defaultMarkerStart:o?.markerStart,defaultMarkerEnd:o?.markerEnd}),[i,o,s,n]);return c.length?r.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:r.jsx("defs",{children:c.map(d=>r.jsx(O4,{id:d.id,type:d.type,color:d.color,width:d.width,height:d.height,markerUnits:d.markerUnits,strokeWidth:d.strokeWidth,orient:d.orient},d.id))})}):null};by.displayName="MarkerDefinitions";var L4=A.memo(by);function vy({x:n,y:s,label:i,labelStyle:o,labelShowBg:c=!0,labelBgStyle:d,labelBgPadding:f=[2,4],labelBgBorderRadius:g=2,children:m,className:x,...y}){const[p,v]=A.useState({x:1,y:0,width:0,height:0}),j=st(["react-flow__edge-textwrapper",x]),N=A.useRef(null);return A.useEffect(()=>{if(N.current){const k=N.current.getBBox();v({x:k.x,y:k.y,width:k.width,height:k.height})}},[i]),i?r.jsxs("g",{transform:`translate(${n-p.width/2} ${s-p.height/2})`,className:j,visibility:p.width?"visible":"hidden",...y,children:[c&&r.jsx("rect",{width:p.width+2*f[0],x:-f[0],y:-f[1],height:p.height+2*f[1],className:"react-flow__edge-textbg",style:d,rx:g,ry:g}),r.jsx("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:N,style:o,children:i}),m]}):null}vy.displayName="EdgeText";const R4=A.memo(vy);function Qo({path:n,labelX:s,labelY:i,label:o,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:g,labelBgBorderRadius:m,interactionWidth:x=20,...y}){return r.jsxs(r.Fragment,{children:[r.jsx("path",{...y,d:n,fill:"none",className:st(["react-flow__edge-path",y.className])}),x?r.jsx("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:x,className:"react-flow__edge-interaction"}):null,o&&tn(s)&&tn(i)?r.jsx(R4,{x:s,y:i,label:o,labelStyle:c,labelShowBg:d,labelBgStyle:f,labelBgPadding:g,labelBgBorderRadius:m}):null]})}function jx({pos:n,x1:s,y1:i,x2:o,y2:c}){return n===ge.Left||n===ge.Right?[.5*(s+o),i]:[s,.5*(i+c)]}function Ny({sourceX:n,sourceY:s,sourcePosition:i=ge.Bottom,targetX:o,targetY:c,targetPosition:d=ge.Top}){const[f,g]=jx({pos:i,x1:n,y1:s,x2:o,y2:c}),[m,x]=jx({pos:d,x1:o,y1:c,x2:n,y2:s}),[y,p,v,j]=$p({sourceX:n,sourceY:s,targetX:o,targetY:c,sourceControlX:f,sourceControlY:g,targetControlX:m,targetControlY:x});return[`M${n},${s} C${f},${g} ${m},${x} ${o},${c}`,y,p,v,j]}function jy(n){return A.memo(({id:s,sourceX:i,sourceY:o,targetX:c,targetY:d,sourcePosition:f,targetPosition:g,label:m,labelStyle:x,labelShowBg:y,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:j,style:N,markerEnd:k,markerStart:T,interactionWidth:E})=>{const[M,w,z]=Ny({sourceX:i,sourceY:o,sourcePosition:f,targetX:c,targetY:d,targetPosition:g}),L=n.isInternal?void 0:s;return r.jsx(Qo,{id:L,path:M,labelX:w,labelY:z,label:m,labelStyle:x,labelShowBg:y,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:j,style:N,markerEnd:k,markerStart:T,interactionWidth:E})})}const H4=jy({isInternal:!1}),wy=jy({isInternal:!0});H4.displayName="SimpleBezierEdge";wy.displayName="SimpleBezierEdgeInternal";function Sy(n){return A.memo(({id:s,sourceX:i,sourceY:o,targetX:c,targetY:d,label:f,labelStyle:g,labelShowBg:m,labelBgStyle:x,labelBgPadding:y,labelBgBorderRadius:p,style:v,sourcePosition:j=ge.Bottom,targetPosition:N=ge.Top,markerEnd:k,markerStart:T,pathOptions:E,interactionWidth:M})=>{const[w,z,L]=Yd({sourceX:i,sourceY:o,sourcePosition:j,targetX:c,targetY:d,targetPosition:N,borderRadius:E?.borderRadius,offset:E?.offset,stepPosition:E?.stepPosition}),B=n.isInternal?void 0:s;return r.jsx(Qo,{id:B,path:w,labelX:z,labelY:L,label:f,labelStyle:g,labelShowBg:m,labelBgStyle:x,labelBgPadding:y,labelBgBorderRadius:p,style:v,markerEnd:k,markerStart:T,interactionWidth:M})})}const ky=Sy({isInternal:!1}),Cy=Sy({isInternal:!0});ky.displayName="SmoothStepEdge";Cy.displayName="SmoothStepEdgeInternal";function Ey(n){return A.memo(({id:s,...i})=>{const o=n.isInternal?void 0:s;return r.jsx(ky,{...i,id:o,pathOptions:A.useMemo(()=>({borderRadius:0,offset:i.pathOptions?.offset}),[i.pathOptions?.offset])})})}const U4=Ey({isInternal:!1}),zy=Ey({isInternal:!0});U4.displayName="StepEdge";zy.displayName="StepEdgeInternal";function Ay(n){return A.memo(({id:s,sourceX:i,sourceY:o,targetX:c,targetY:d,label:f,labelStyle:g,labelShowBg:m,labelBgStyle:x,labelBgPadding:y,labelBgBorderRadius:p,style:v,markerEnd:j,markerStart:N,interactionWidth:k})=>{const[T,E,M]=Zp({sourceX:i,sourceY:o,targetX:c,targetY:d}),w=n.isInternal?void 0:s;return r.jsx(Qo,{id:w,path:T,labelX:E,labelY:M,label:f,labelStyle:g,labelShowBg:m,labelBgStyle:x,labelBgPadding:y,labelBgBorderRadius:p,style:v,markerEnd:j,markerStart:N,interactionWidth:k})})}const B4=Ay({isInternal:!1}),Ty=Ay({isInternal:!0});B4.displayName="StraightEdge";Ty.displayName="StraightEdgeInternal";function _y(n){return A.memo(({id:s,sourceX:i,sourceY:o,targetX:c,targetY:d,sourcePosition:f=ge.Bottom,targetPosition:g=ge.Top,label:m,labelStyle:x,labelShowBg:y,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:j,style:N,markerEnd:k,markerStart:T,pathOptions:E,interactionWidth:M})=>{const[w,z,L]=Yp({sourceX:i,sourceY:o,sourcePosition:f,targetX:c,targetY:d,targetPosition:g,curvature:E?.curvature}),B=n.isInternal?void 0:s;return r.jsx(Qo,{id:B,path:w,labelX:z,labelY:L,label:m,labelStyle:x,labelShowBg:y,labelBgStyle:p,labelBgPadding:v,labelBgBorderRadius:j,style:N,markerEnd:k,markerStart:T,interactionWidth:M})})}const V4=_y({isInternal:!1}),My=_y({isInternal:!0});V4.displayName="BezierEdge";My.displayName="BezierEdgeInternal";const wx={default:My,straight:Ty,step:zy,smoothstep:Cy,simplebezier:wy},Sx={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},q4=(n,s,i)=>i===ge.Left?n-s:i===ge.Right?n+s:n,$4=(n,s,i)=>i===ge.Top?n-s:i===ge.Bottom?n+s:n,kx="react-flow__edgeupdater";function Cx({position:n,centerX:s,centerY:i,radius:o=10,onMouseDown:c,onMouseEnter:d,onMouseOut:f,type:g}){return r.jsx("circle",{onMouseDown:c,onMouseEnter:d,onMouseOut:f,className:st([kx,`${kx}-${g}`]),cx:q4(s,o,n),cy:$4(i,o,n),r:o,stroke:"transparent",fill:"transparent"})}function Y4({isReconnectable:n,reconnectRadius:s,edge:i,sourceX:o,sourceY:c,targetX:d,targetY:f,sourcePosition:g,targetPosition:m,onReconnect:x,onReconnectStart:y,onReconnectEnd:p,setReconnecting:v,setUpdateHover:j}){const N=Fe(),k=(z,L)=>{if(z.button!==0)return;const{autoPanOnConnect:B,domNode:$,isValidConnection:V,connectionMode:q,connectionRadius:te,lib:G,onConnectStart:F,onConnectEnd:H,cancelConnection:_,nodeLookup:D,rfId:C,panBy:O,updateConnection:U}=N.getState(),Z=L.type==="target",X=(se,le)=>{v(!1),p?.(se,i,L.type,le)},P=se=>x?.(i,se),W=(se,le)=>{v(!0),y?.(z,i,L.type),F?.(se,le)};Zd.onPointerDown(z.nativeEvent,{autoPanOnConnect:B,connectionMode:q,connectionRadius:te,domNode:$,handleId:L.id,nodeId:L.nodeId,nodeLookup:D,isTarget:Z,edgeUpdaterType:L.type,lib:G,flowId:C,cancelConnection:_,panBy:O,isValidConnection:V,onConnect:P,onConnectStart:W,onConnectEnd:H,onReconnectEnd:X,updateConnection:U,getTransform:()=>N.getState().transform,getFromHandle:()=>N.getState().connection.fromHandle,dragThreshold:N.getState().connectionDragThreshold,handleDomNode:z.currentTarget})},T=z=>k(z,{nodeId:i.target,id:i.targetHandle??null,type:"target"}),E=z=>k(z,{nodeId:i.source,id:i.sourceHandle??null,type:"source"}),M=()=>j(!0),w=()=>j(!1);return r.jsxs(r.Fragment,{children:[(n===!0||n==="source")&&r.jsx(Cx,{position:g,centerX:o,centerY:c,radius:s,onMouseDown:T,onMouseEnter:M,onMouseOut:w,type:"source"}),(n===!0||n==="target")&&r.jsx(Cx,{position:m,centerX:d,centerY:f,radius:s,onMouseDown:E,onMouseEnter:M,onMouseOut:w,type:"target"})]})}function G4({id:n,edgesFocusable:s,edgesReconnectable:i,elementsSelectable:o,onClick:c,onDoubleClick:d,onContextMenu:f,onMouseEnter:g,onMouseMove:m,onMouseLeave:x,reconnectRadius:y,onReconnect:p,onReconnectStart:v,onReconnectEnd:j,rfId:N,edgeTypes:k,noPanClassName:T,onError:E,disableKeyboardA11y:M}){let w=De(pe=>pe.edgeLookup.get(n));const z=De(pe=>pe.defaultEdgeOptions);w=z?{...z,...w}:w;let L=w.type||"default",B=k?.[L]||wx[L];B===void 0&&(E?.("011",pn.error011(L)),L="default",B=k?.default||wx.default);const $=!!(w.focusable||s&&typeof w.focusable>"u"),V=typeof p<"u"&&(w.reconnectable||i&&typeof w.reconnectable>"u"),q=!!(w.selectable||o&&typeof w.selectable>"u"),te=A.useRef(null),[G,F]=A.useState(!1),[H,_]=A.useState(!1),D=Fe(),{zIndex:C,sourceX:O,sourceY:U,targetX:Z,targetY:X,sourcePosition:P,targetPosition:W}=De(A.useCallback(pe=>{const Ne=pe.nodeLookup.get(w.source),ie=pe.nodeLookup.get(w.target);if(!Ne||!ie)return{zIndex:w.zIndex,...Sx};const ye=qk({id:n,sourceNode:Ne,targetNode:ie,sourceHandle:w.sourceHandle||null,targetHandle:w.targetHandle||null,connectionMode:pe.connectionMode,onError:E});return{zIndex:Ok({selected:w.selected,zIndex:w.zIndex,sourceNode:Ne,targetNode:ie,elevateOnSelect:pe.elevateEdgesOnSelect,zIndexMode:pe.zIndexMode}),...ye||Sx}},[w.source,w.target,w.sourceHandle,w.targetHandle,w.selected,w.zIndex]),Qe),se=A.useMemo(()=>w.markerStart?`url('#${Gd(w.markerStart,N)}')`:void 0,[w.markerStart,N]),le=A.useMemo(()=>w.markerEnd?`url('#${Gd(w.markerEnd,N)}')`:void 0,[w.markerEnd,N]);if(w.hidden||O===null||U===null||Z===null||X===null)return null;const fe=pe=>{const{addSelectedEdges:Ne,unselectNodesAndEdges:ie,multiSelectionActive:ye}=D.getState();q&&(D.setState({nodesSelectionActive:!1}),w.selected&&ye?(ie({nodes:[],edges:[w]}),te.current?.blur()):Ne([n])),c&&c(pe,w)},be=d?pe=>{d(pe,{...w})}:void 0,me=f?pe=>{f(pe,{...w})}:void 0,oe=g?pe=>{g(pe,{...w})}:void 0,ue=m?pe=>{m(pe,{...w})}:void 0,ke=x?pe=>{x(pe,{...w})}:void 0,we=pe=>{if(!M&&zp.includes(pe.key)&&q){const{unselectNodesAndEdges:Ne,addSelectedEdges:ie}=D.getState();pe.key==="Escape"?(te.current?.blur(),Ne({edges:[w]})):ie([n])}};return r.jsx("svg",{style:{zIndex:C},children:r.jsxs("g",{className:st(["react-flow__edge",`react-flow__edge-${L}`,w.className,T,{selected:w.selected,animated:w.animated,inactive:!q&&!c,updating:G,selectable:q}]),onClick:fe,onDoubleClick:be,onContextMenu:me,onMouseEnter:oe,onMouseMove:ue,onMouseLeave:ke,onKeyDown:$?we:void 0,tabIndex:$?0:void 0,role:w.ariaRole??($?"group":"img"),"aria-roledescription":"edge","data-id":n,"data-testid":`rf__edge-${n}`,"aria-label":w.ariaLabel===null?void 0:w.ariaLabel||`Edge from ${w.source} to ${w.target}`,"aria-describedby":$?`${ly}-${N}`:void 0,ref:te,...w.domAttributes,children:[!H&&r.jsx(B,{id:n,source:w.source,target:w.target,type:w.type,selected:w.selected,animated:w.animated,selectable:q,deletable:w.deletable??!0,label:w.label,labelStyle:w.labelStyle,labelShowBg:w.labelShowBg,labelBgStyle:w.labelBgStyle,labelBgPadding:w.labelBgPadding,labelBgBorderRadius:w.labelBgBorderRadius,sourceX:O,sourceY:U,targetX:Z,targetY:X,sourcePosition:P,targetPosition:W,data:w.data,style:w.style,sourceHandleId:w.sourceHandle,targetHandleId:w.targetHandle,markerStart:se,markerEnd:le,pathOptions:"pathOptions"in w?w.pathOptions:void 0,interactionWidth:w.interactionWidth}),V&&r.jsx(Y4,{edge:w,isReconnectable:V,reconnectRadius:y,onReconnect:p,onReconnectStart:v,onReconnectEnd:j,sourceX:O,sourceY:U,targetX:Z,targetY:X,sourcePosition:P,targetPosition:W,setUpdateHover:F,setReconnecting:_})]})})}var X4=A.memo(G4);const Z4=n=>({edgesFocusable:n.edgesFocusable,edgesReconnectable:n.edgesReconnectable,elementsSelectable:n.elementsSelectable,connectionMode:n.connectionMode,onError:n.onError});function Dy({defaultMarkerColor:n,onlyRenderVisibleElements:s,rfId:i,edgeTypes:o,noPanClassName:c,onReconnect:d,onEdgeContextMenu:f,onEdgeMouseEnter:g,onEdgeMouseMove:m,onEdgeMouseLeave:x,onEdgeClick:y,reconnectRadius:p,onEdgeDoubleClick:v,onReconnectStart:j,onReconnectEnd:N,disableKeyboardA11y:k}){const{edgesFocusable:T,edgesReconnectable:E,elementsSelectable:M,onError:w}=De(Z4,Qe),z=T4(s);return r.jsxs("div",{className:"react-flow__edges",children:[r.jsx(L4,{defaultColor:n,rfId:i}),z.map(L=>r.jsx(X4,{id:L,edgesFocusable:T,edgesReconnectable:E,elementsSelectable:M,noPanClassName:c,onReconnect:d,onContextMenu:f,onMouseEnter:g,onMouseMove:m,onMouseLeave:x,onClick:y,reconnectRadius:p,onDoubleClick:v,onReconnectStart:j,onReconnectEnd:N,rfId:i,onError:w,edgeTypes:o,disableKeyboardA11y:k},L))]})}Dy.displayName="EdgeRenderer";const Q4=A.memo(Dy),F4=n=>`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`;function K4({children:n}){const s=De(F4);return r.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:s},children:n})}function I4(n){const s=Xo(),i=A.useRef(!1);A.useEffect(()=>{!i.current&&s.viewportInitialized&&n&&(setTimeout(()=>n(s),1),i.current=!0)},[n,s.viewportInitialized])}const J4=n=>n.panZoom?.syncViewport;function W4(n){const s=De(J4),i=Fe();return A.useEffect(()=>{n&&(s?.(n),i.setState({transform:[n.x,n.y,n.zoom]}))},[n,s]),null}function P4(n){return n.connection.inProgress?{...n.connection,to:Di(n.connection.to,n.transform)}:{...n.connection}}function e5(n){return P4}function t5(n){const s=e5();return De(s,Qe)}const n5=n=>({nodesConnectable:n.nodesConnectable,isValid:n.connection.isValid,inProgress:n.connection.inProgress,width:n.width,height:n.height});function a5({containerStyle:n,style:s,type:i,component:o}){const{nodesConnectable:c,width:d,height:f,isValid:g,inProgress:m}=De(n5,Qe);return!(d&&c&&m)?null:r.jsx("svg",{style:n,width:d,height:f,className:"react-flow__connectionline react-flow__container",children:r.jsx("g",{className:st(["react-flow__connection",_p(g)]),children:r.jsx(Oy,{style:s,type:i,CustomComponent:o,isValid:g})})})}const Oy=({style:n,type:s=wa.Bezier,CustomComponent:i,isValid:o})=>{const{inProgress:c,from:d,fromNode:f,fromHandle:g,fromPosition:m,to:x,toNode:y,toHandle:p,toPosition:v,pointer:j}=t5();if(!c)return;if(i)return r.jsx(i,{connectionLineType:s,connectionLineStyle:n,fromNode:f,fromHandle:g,fromX:d.x,fromY:d.y,toX:x.x,toY:x.y,fromPosition:m,toPosition:v,connectionStatus:_p(o),toNode:y,toHandle:p,pointer:j});let N="";const k={sourceX:d.x,sourceY:d.y,sourcePosition:m,targetX:x.x,targetY:x.y,targetPosition:v};switch(s){case wa.Bezier:[N]=Yp(k);break;case wa.SimpleBezier:[N]=Ny(k);break;case wa.Step:[N]=Yd({...k,borderRadius:0});break;case wa.SmoothStep:[N]=Yd(k);break;default:[N]=Zp(k)}return r.jsx("path",{d:N,fill:"none",className:"react-flow__connection-path",style:n})};Oy.displayName="ConnectionLine";const s5={};function Ex(n=s5){A.useRef(n),Fe(),A.useEffect(()=>{},[n])}function r5(){Fe(),A.useRef(!1),A.useEffect(()=>{},[])}function Ly({nodeTypes:n,edgeTypes:s,onInit:i,onNodeClick:o,onEdgeClick:c,onNodeDoubleClick:d,onEdgeDoubleClick:f,onNodeMouseEnter:g,onNodeMouseMove:m,onNodeMouseLeave:x,onNodeContextMenu:y,onSelectionContextMenu:p,onSelectionStart:v,onSelectionEnd:j,connectionLineType:N,connectionLineStyle:k,connectionLineComponent:T,connectionLineContainerStyle:E,selectionKeyCode:M,selectionOnDrag:w,selectionMode:z,multiSelectionKeyCode:L,panActivationKeyCode:B,zoomActivationKeyCode:$,deleteKeyCode:V,onlyRenderVisibleElements:q,elementsSelectable:te,defaultViewport:G,translateExtent:F,minZoom:H,maxZoom:_,preventScrolling:D,defaultMarkerColor:C,zoomOnScroll:O,zoomOnPinch:U,panOnScroll:Z,panOnScrollSpeed:X,panOnScrollMode:P,zoomOnDoubleClick:W,panOnDrag:se,onPaneClick:le,onPaneMouseEnter:fe,onPaneMouseMove:be,onPaneMouseLeave:me,onPaneScroll:oe,onPaneContextMenu:ue,paneClickDistance:ke,nodeClickDistance:we,onEdgeContextMenu:pe,onEdgeMouseEnter:Ne,onEdgeMouseMove:ie,onEdgeMouseLeave:ye,reconnectRadius:Se,onReconnect:Ye,onReconnectStart:Ft,onReconnectEnd:At,noDragClassName:Kt,noWheelClassName:bn,noPanClassName:Ea,disableKeyboardA11y:za,nodeExtent:ct,rfId:rs,viewport:vn,onViewportChange:Zn}){return Ex(n),Ex(s),r5(),I4(i),W4(vn),r.jsx(v4,{onPaneClick:le,onPaneMouseEnter:fe,onPaneMouseMove:be,onPaneMouseLeave:me,onPaneContextMenu:ue,onPaneScroll:oe,paneClickDistance:ke,deleteKeyCode:V,selectionKeyCode:M,selectionOnDrag:w,selectionMode:z,onSelectionStart:v,onSelectionEnd:j,multiSelectionKeyCode:L,panActivationKeyCode:B,zoomActivationKeyCode:$,elementsSelectable:te,zoomOnScroll:O,zoomOnPinch:U,zoomOnDoubleClick:W,panOnScroll:Z,panOnScrollSpeed:X,panOnScrollMode:P,panOnDrag:se,defaultViewport:G,translateExtent:F,minZoom:H,maxZoom:_,onSelectionContextMenu:p,preventScrolling:D,noDragClassName:Kt,noWheelClassName:bn,noPanClassName:Ea,disableKeyboardA11y:za,onViewportChange:Zn,isControlledViewport:!!vn,children:r.jsxs(K4,{children:[r.jsx(Q4,{edgeTypes:s,onEdgeClick:c,onEdgeDoubleClick:f,onReconnect:Ye,onReconnectStart:Ft,onReconnectEnd:At,onlyRenderVisibleElements:q,onEdgeContextMenu:pe,onEdgeMouseEnter:Ne,onEdgeMouseMove:ie,onEdgeMouseLeave:ye,reconnectRadius:Se,defaultMarkerColor:C,noPanClassName:Ea,disableKeyboardA11y:za,rfId:rs}),r.jsx(a5,{style:k,type:N,component:T,containerStyle:E}),r.jsx("div",{className:"react-flow__edgelabel-renderer"}),r.jsx(A4,{nodeTypes:n,onNodeClick:o,onNodeDoubleClick:d,onNodeMouseEnter:g,onNodeMouseMove:m,onNodeMouseLeave:x,onNodeContextMenu:y,nodeClickDistance:we,onlyRenderVisibleElements:q,noPanClassName:Ea,noDragClassName:Kt,disableKeyboardA11y:za,nodeExtent:ct,rfId:rs}),r.jsx("div",{className:"react-flow__viewport-portal"})]})})}Ly.displayName="GraphView";const i5=A.memo(Ly),zx=({nodes:n,edges:s,defaultNodes:i,defaultEdges:o,width:c,height:d,fitView:f,fitViewOptions:g,minZoom:m=.5,maxZoom:x=2,nodeOrigin:y,nodeExtent:p,zIndexMode:v="basic"}={})=>{const j=new Map,N=new Map,k=new Map,T=new Map,E=o??s??[],M=i??n??[],w=y??[0,0],z=p??Ni;Kp(k,T,E);const L=Xd(M,j,N,{nodeOrigin:w,nodeExtent:z,zIndexMode:v});let B=[0,0,1];if(f&&c&&d){const $=_i(j,{filter:G=>!!((G.width||G.initialWidth)&&(G.height||G.initialHeight))}),{x:V,y:q,zoom:te}=cf($,c,d,m,x,g?.padding??.1);B=[V,q,te]}return{rfId:"1",width:c??0,height:d??0,transform:B,nodes:M,nodesInitialized:L,nodeLookup:j,parentLookup:N,edges:E,edgeLookup:T,connectionLookup:k,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:i!==void 0,hasDefaultEdges:o!==void 0,panZoom:null,minZoom:m,maxZoom:x,translateExtent:Ni,nodeExtent:z,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:sr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:w,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:f??!1,fitViewOptions:g,fitViewResolver:null,connection:{...Tp},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:zk,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Ap,zIndexMode:v,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},l5=({nodes:n,edges:s,defaultNodes:i,defaultEdges:o,width:c,height:d,fitView:f,fitViewOptions:g,minZoom:m,maxZoom:x,nodeOrigin:y,nodeExtent:p,zIndexMode:v})=>kC((j,N)=>{async function k(){const{nodeLookup:T,panZoom:E,fitViewOptions:M,fitViewResolver:w,width:z,height:L,minZoom:B,maxZoom:$}=N();E&&(await Ck({nodes:T,width:z,height:L,panZoom:E,minZoom:B,maxZoom:$},M),w?.resolve(!0),j({fitViewResolver:null}))}return{...zx({nodes:n,edges:s,width:c,height:d,fitView:f,fitViewOptions:g,minZoom:m,maxZoom:x,nodeOrigin:y,nodeExtent:p,defaultNodes:i,defaultEdges:o,zIndexMode:v}),setNodes:T=>{const{nodeLookup:E,parentLookup:M,nodeOrigin:w,elevateNodesOnSelect:z,fitViewQueued:L,zIndexMode:B}=N(),$=Xd(T,E,M,{nodeOrigin:w,nodeExtent:p,elevateNodesOnSelect:z,checkEquality:!0,zIndexMode:B});L&&$?(k(),j({nodes:T,nodesInitialized:$,fitViewQueued:!1,fitViewOptions:void 0})):j({nodes:T,nodesInitialized:$})},setEdges:T=>{const{connectionLookup:E,edgeLookup:M}=N();Kp(E,M,T),j({edges:T})},setDefaultNodesAndEdges:(T,E)=>{if(T){const{setNodes:M}=N();M(T),j({hasDefaultNodes:!0})}if(E){const{setEdges:M}=N();M(E),j({hasDefaultEdges:!0})}},updateNodeInternals:T=>{const{triggerNodeChanges:E,nodeLookup:M,parentLookup:w,domNode:z,nodeOrigin:L,nodeExtent:B,debug:$,fitViewQueued:V,zIndexMode:q}=N(),{changes:te,updatedInternals:G}=Kk(T,M,w,z,L,B,q);G&&(Xk(M,w,{nodeOrigin:L,nodeExtent:B,zIndexMode:q}),V?(k(),j({fitViewQueued:!1,fitViewOptions:void 0})):j({}),te?.length>0&&($&&console.log("React Flow: trigger node changes",te),E?.(te)))},updateNodePositions:(T,E=!1)=>{const M=[];let w=[];const{nodeLookup:z,triggerNodeChanges:L,connection:B,updateConnection:$,onNodesChangeMiddlewareMap:V}=N();for(const[q,te]of T){const G=z.get(q),F=!!(G?.expandParent&&G?.parentId&&te?.position),H={id:q,type:"position",position:F?{x:Math.max(0,te.position.x),y:Math.max(0,te.position.y)}:te.position,dragging:E};if(G&&B.inProgress&&B.fromNode.id===G.id){const _=as(G,B.fromHandle,ge.Left,!0);$({...B,from:_})}F&&G.parentId&&M.push({id:q,parentId:G.parentId,rect:{...te.internals.positionAbsolute,width:te.measured.width??0,height:te.measured.height??0}}),w.push(H)}if(M.length>0){const{parentLookup:q,nodeOrigin:te}=N(),G=mf(M,z,q,te);w.push(...G)}for(const q of V.values())w=q(w);L(w)},triggerNodeChanges:T=>{const{onNodesChange:E,setNodes:M,nodes:w,hasDefaultNodes:z,debug:L}=N();if(T?.length){if(z){const B=uy(T,w);M(B)}L&&console.log("React Flow: trigger node changes",T),E?.(T)}},triggerEdgeChanges:T=>{const{onEdgesChange:E,setEdges:M,edges:w,hasDefaultEdges:z,debug:L}=N();if(T?.length){if(z){const B=dy(T,w);M(B)}L&&console.log("React Flow: trigger edge changes",T),E?.(T)}},addSelectedNodes:T=>{const{multiSelectionActive:E,edgeLookup:M,nodeLookup:w,triggerNodeChanges:z,triggerEdgeChanges:L}=N();if(E){const B=T.map($=>Wa($,!0));z(B);return}z(Ws(w,new Set([...T]),!0)),L(Ws(M))},addSelectedEdges:T=>{const{multiSelectionActive:E,edgeLookup:M,nodeLookup:w,triggerNodeChanges:z,triggerEdgeChanges:L}=N();if(E){const B=T.map($=>Wa($,!0));L(B);return}L(Ws(M,new Set([...T]))),z(Ws(w,new Set,!0))},unselectNodesAndEdges:({nodes:T,edges:E}={})=>{const{edges:M,nodes:w,nodeLookup:z,triggerNodeChanges:L,triggerEdgeChanges:B}=N(),$=T||w,V=E||M,q=$.map(G=>{const F=z.get(G.id);return F&&(F.selected=!1),Wa(G.id,!1)}),te=V.map(G=>Wa(G.id,!1));L(q),B(te)},setMinZoom:T=>{const{panZoom:E,maxZoom:M}=N();E?.setScaleExtent([T,M]),j({minZoom:T})},setMaxZoom:T=>{const{panZoom:E,minZoom:M}=N();E?.setScaleExtent([M,T]),j({maxZoom:T})},setTranslateExtent:T=>{N().panZoom?.setTranslateExtent(T),j({translateExtent:T})},resetSelectedElements:()=>{const{edges:T,nodes:E,triggerNodeChanges:M,triggerEdgeChanges:w,elementsSelectable:z}=N();if(!z)return;const L=E.reduce(($,V)=>V.selected?[...$,Wa(V.id,!1)]:$,[]),B=T.reduce(($,V)=>V.selected?[...$,Wa(V.id,!1)]:$,[]);M(L),w(B)},setNodeExtent:T=>{const{nodes:E,nodeLookup:M,parentLookup:w,nodeOrigin:z,elevateNodesOnSelect:L,nodeExtent:B,zIndexMode:$}=N();T[0][0]===B[0][0]&&T[0][1]===B[0][1]&&T[1][0]===B[1][0]&&T[1][1]===B[1][1]||(Xd(E,M,w,{nodeOrigin:z,nodeExtent:T,elevateNodesOnSelect:L,checkEquality:!1,zIndexMode:$}),j({nodeExtent:T}))},panBy:T=>{const{transform:E,width:M,height:w,panZoom:z,translateExtent:L}=N();return Ik({delta:T,panZoom:z,transform:E,translateExtent:L,width:M,height:w})},setCenter:async(T,E,M)=>{const{width:w,height:z,maxZoom:L,panZoom:B}=N();if(!B)return Promise.resolve(!1);const $=typeof M?.zoom<"u"?M.zoom:L;return await B.setViewport({x:w/2-T*$,y:z/2-E*$,zoom:$},{duration:M?.duration,ease:M?.ease,interpolate:M?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{j({connection:{...Tp}})},updateConnection:T=>{j({connection:T})},reset:()=>j({...zx()})}},Object.is);function o5({initialNodes:n,initialEdges:s,defaultNodes:i,defaultEdges:o,initialWidth:c,initialHeight:d,initialMinZoom:f,initialMaxZoom:g,initialFitViewOptions:m,fitView:x,nodeOrigin:y,nodeExtent:p,zIndexMode:v,children:j}){const[N]=A.useState(()=>l5({nodes:n,edges:s,defaultNodes:i,defaultEdges:o,width:c,height:d,fitView:x,minZoom:f,maxZoom:g,fitViewOptions:m,nodeOrigin:y,nodeExtent:p,zIndexMode:v}));return r.jsx(CC,{value:N,children:r.jsx(KC,{children:j})})}function c5({children:n,nodes:s,edges:i,defaultNodes:o,defaultEdges:c,width:d,height:f,fitView:g,fitViewOptions:m,minZoom:x,maxZoom:y,nodeOrigin:p,nodeExtent:v,zIndexMode:j}){return A.useContext(Yo)?r.jsx(r.Fragment,{children:n}):r.jsx(o5,{initialNodes:s,initialEdges:i,defaultNodes:o,defaultEdges:c,initialWidth:d,initialHeight:f,fitView:g,initialFitViewOptions:m,initialMinZoom:x,initialMaxZoom:y,nodeOrigin:p,nodeExtent:v,zIndexMode:j,children:n})}const u5={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function d5({nodes:n,edges:s,defaultNodes:i,defaultEdges:o,className:c,nodeTypes:d,edgeTypes:f,onNodeClick:g,onEdgeClick:m,onInit:x,onMove:y,onMoveStart:p,onMoveEnd:v,onConnect:j,onConnectStart:N,onConnectEnd:k,onClickConnectStart:T,onClickConnectEnd:E,onNodeMouseEnter:M,onNodeMouseMove:w,onNodeMouseLeave:z,onNodeContextMenu:L,onNodeDoubleClick:B,onNodeDragStart:$,onNodeDrag:V,onNodeDragStop:q,onNodesDelete:te,onEdgesDelete:G,onDelete:F,onSelectionChange:H,onSelectionDragStart:_,onSelectionDrag:D,onSelectionDragStop:C,onSelectionContextMenu:O,onSelectionStart:U,onSelectionEnd:Z,onBeforeDelete:X,connectionMode:P,connectionLineType:W=wa.Bezier,connectionLineStyle:se,connectionLineComponent:le,connectionLineContainerStyle:fe,deleteKeyCode:be="Backspace",selectionKeyCode:me="Shift",selectionOnDrag:oe=!1,selectionMode:ue=ji.Full,panActivationKeyCode:ke="Space",multiSelectionKeyCode:we=Si()?"Meta":"Control",zoomActivationKeyCode:pe=Si()?"Meta":"Control",snapToGrid:Ne,snapGrid:ie,onlyRenderVisibleElements:ye=!1,selectNodesOnDrag:Se,nodesDraggable:Ye,autoPanOnNodeFocus:Ft,nodesConnectable:At,nodesFocusable:Kt,nodeOrigin:bn=oy,edgesFocusable:Ea,edgesReconnectable:za,elementsSelectable:ct=!0,defaultViewport:rs=BC,minZoom:vn=.5,maxZoom:Zn=2,translateExtent:Aa=Ni,preventScrolling:Ko=!0,nodeExtent:is,defaultMarkerColor:Io="#b1b1b7",zoomOnScroll:Jo=!0,zoomOnPinch:Ta=!0,panOnScroll:mt=!1,panOnScrollSpeed:ln=.5,panOnScrollMode:xt=Pa.Free,zoomOnDoubleClick:Wo=!0,panOnDrag:Po=!0,onPaneClick:ec,onPaneMouseEnter:ls,onPaneMouseMove:os,onPaneMouseLeave:cs,onPaneScroll:Nn,onPaneContextMenu:us,paneClickDistance:_a=1,nodeClickDistance:tc=0,children:Oi,onReconnect:ur,onReconnectStart:Ma,onReconnectEnd:nc,onEdgeContextMenu:Li,onEdgeDoubleClick:Ri,onEdgeMouseEnter:Hi,onEdgeMouseMove:dr,onEdgeMouseLeave:fr,reconnectRadius:Ui=10,onNodesChange:Bi,onEdgesChange:on,noDragClassName:rt="nodrag",noWheelClassName:gt="nowheel",noPanClassName:jn="nopan",fitView:ds,fitViewOptions:Vi,connectOnClick:ac,attributionPosition:qi,proOptions:Da,defaultEdgeOptions:hr,elevateNodesOnSelect:Qn=!0,elevateEdgesOnSelect:Fn=!1,disableKeyboardA11y:Kn=!1,autoPanOnConnect:In,autoPanOnNodeDrag:Pe,autoPanSpeed:$i,connectionRadius:Yi,isValidConnection:wn,onError:Jn,style:sc,id:gr,nodeDragThreshold:Gi,connectionDragThreshold:rc,viewport:fs,onViewportChange:hs,width:It,height:Nt,colorMode:Xi="light",debug:ic,onScroll:gs,ariaLabelConfig:Zi,zIndexMode:Oa="basic",...lc},jt){const La=gr||"1",Qi=YC(Xi),mr=A.useCallback(Sn=>{Sn.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),gs?.(Sn)},[gs]);return r.jsx("div",{"data-testid":"rf__wrapper",...lc,onScroll:mr,style:{...sc,...u5},ref:jt,className:st(["react-flow",c,Qi]),id:gr,role:"application",children:r.jsxs(c5,{nodes:n,edges:s,width:It,height:Nt,fitView:ds,fitViewOptions:Vi,minZoom:vn,maxZoom:Zn,nodeOrigin:bn,nodeExtent:is,zIndexMode:Oa,children:[r.jsx(i5,{onInit:x,onNodeClick:g,onEdgeClick:m,onNodeMouseEnter:M,onNodeMouseMove:w,onNodeMouseLeave:z,onNodeContextMenu:L,onNodeDoubleClick:B,nodeTypes:d,edgeTypes:f,connectionLineType:W,connectionLineStyle:se,connectionLineComponent:le,connectionLineContainerStyle:fe,selectionKeyCode:me,selectionOnDrag:oe,selectionMode:ue,deleteKeyCode:be,multiSelectionKeyCode:we,panActivationKeyCode:ke,zoomActivationKeyCode:pe,onlyRenderVisibleElements:ye,defaultViewport:rs,translateExtent:Aa,minZoom:vn,maxZoom:Zn,preventScrolling:Ko,zoomOnScroll:Jo,zoomOnPinch:Ta,zoomOnDoubleClick:Wo,panOnScroll:mt,panOnScrollSpeed:ln,panOnScrollMode:xt,panOnDrag:Po,onPaneClick:ec,onPaneMouseEnter:ls,onPaneMouseMove:os,onPaneMouseLeave:cs,onPaneScroll:Nn,onPaneContextMenu:us,paneClickDistance:_a,nodeClickDistance:tc,onSelectionContextMenu:O,onSelectionStart:U,onSelectionEnd:Z,onReconnect:ur,onReconnectStart:Ma,onReconnectEnd:nc,onEdgeContextMenu:Li,onEdgeDoubleClick:Ri,onEdgeMouseEnter:Hi,onEdgeMouseMove:dr,onEdgeMouseLeave:fr,reconnectRadius:Ui,defaultMarkerColor:Io,noDragClassName:rt,noWheelClassName:gt,noPanClassName:jn,rfId:La,disableKeyboardA11y:Kn,nodeExtent:is,viewport:fs,onViewportChange:hs}),r.jsx($C,{nodes:n,edges:s,defaultNodes:i,defaultEdges:o,onConnect:j,onConnectStart:N,onConnectEnd:k,onClickConnectStart:T,onClickConnectEnd:E,nodesDraggable:Ye,autoPanOnNodeFocus:Ft,nodesConnectable:At,nodesFocusable:Kt,edgesFocusable:Ea,edgesReconnectable:za,elementsSelectable:ct,elevateNodesOnSelect:Qn,elevateEdgesOnSelect:Fn,minZoom:vn,maxZoom:Zn,nodeExtent:is,onNodesChange:Bi,onEdgesChange:on,snapToGrid:Ne,snapGrid:ie,connectionMode:P,translateExtent:Aa,connectOnClick:ac,defaultEdgeOptions:hr,fitView:ds,fitViewOptions:Vi,onNodesDelete:te,onEdgesDelete:G,onDelete:F,onNodeDragStart:$,onNodeDrag:V,onNodeDragStop:q,onSelectionDrag:D,onSelectionDragStart:_,onSelectionDragStop:C,onMove:y,onMoveStart:p,onMoveEnd:v,noPanClassName:jn,nodeOrigin:bn,rfId:La,autoPanOnConnect:In,autoPanOnNodeDrag:Pe,autoPanSpeed:$i,onError:Jn,connectionRadius:Yi,isValidConnection:wn,selectNodesOnDrag:Se,nodeDragThreshold:Gi,connectionDragThreshold:rc,onBeforeDelete:X,debug:ic,ariaLabelConfig:Zi,zIndexMode:Oa}),r.jsx(UC,{onSelectionChange:H}),Oi,r.jsx(DC,{proOptions:Da,position:qi}),r.jsx(MC,{rfId:La,disableKeyboardA11y:Kn})]})})}var f5=fy(d5);function h5(n){const[s,i]=A.useState(n),o=A.useCallback(c=>i(d=>uy(c,d)),[]);return[s,i,o]}function g5(n){const[s,i]=A.useState(n),o=A.useCallback(c=>i(d=>dy(c,d)),[]);return[s,i,o]}function m5({dimensions:n,lineWidth:s,variant:i,className:o}){return r.jsx("path",{strokeWidth:s,d:`M${n[0]/2} 0 V${n[1]} M0 ${n[1]/2} H${n[0]}`,className:st(["react-flow__background-pattern",i,o])})}function x5({radius:n,className:s}){return r.jsx("circle",{cx:n,cy:n,r:n,className:st(["react-flow__background-pattern","dots",s])})}var Sa;(function(n){n.Lines="lines",n.Dots="dots",n.Cross="cross"})(Sa||(Sa={}));const p5={[Sa.Dots]:1,[Sa.Lines]:1,[Sa.Cross]:6},y5=n=>({transform:n.transform,patternId:`pattern-${n.rfId}`});function Ry({id:n,variant:s=Sa.Dots,gap:i=20,size:o,lineWidth:c=1,offset:d=0,color:f,bgColor:g,style:m,className:x,patternClassName:y}){const p=A.useRef(null),{transform:v,patternId:j}=De(y5,Qe),N=o||p5[s],k=s===Sa.Dots,T=s===Sa.Cross,E=Array.isArray(i)?i:[i,i],M=[E[0]*v[2]||1,E[1]*v[2]||1],w=N*v[2],z=Array.isArray(d)?d:[d,d],L=T?[w,w]:M,B=[z[0]*v[2]||1+L[0]/2,z[1]*v[2]||1+L[1]/2],$=`${j}${n||""}`;return r.jsxs("svg",{className:st(["react-flow__background",x]),style:{...m,...Zo,"--xy-background-color-props":g,"--xy-background-pattern-color-props":f},ref:p,"data-testid":"rf__background",children:[r.jsx("pattern",{id:$,x:v[0]%M[0],y:v[1]%M[1],width:M[0],height:M[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${B[0]},-${B[1]})`,children:k?r.jsx(x5,{radius:w/2,className:y}):r.jsx(m5,{dimensions:L,lineWidth:c,variant:s,className:y})}),r.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${$})`})]})}Ry.displayName="Background";const b5=A.memo(Ry);function v5(){return r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:r.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function N5(){return r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:r.jsx("path",{d:"M0 0h32v4.2H0z"})})}function j5(){return r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:r.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function w5(){return r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:r.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function S5(){return r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:r.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function uo({children:n,className:s,...i}){return r.jsx("button",{type:"button",className:st(["react-flow__controls-button",s]),...i,children:n})}const k5=n=>({isInteractive:n.nodesDraggable||n.nodesConnectable||n.elementsSelectable,minZoomReached:n.transform[2]<=n.minZoom,maxZoomReached:n.transform[2]>=n.maxZoom,ariaLabelConfig:n.ariaLabelConfig});function Hy({style:n,showZoom:s=!0,showFitView:i=!0,showInteractive:o=!0,fitViewOptions:c,onZoomIn:d,onZoomOut:f,onFitView:g,onInteractiveChange:m,className:x,children:y,position:p="bottom-left",orientation:v="vertical","aria-label":j}){const N=Fe(),{isInteractive:k,minZoomReached:T,maxZoomReached:E,ariaLabelConfig:M}=De(k5,Qe),{zoomIn:w,zoomOut:z,fitView:L}=Xo(),B=()=>{w(),d?.()},$=()=>{z(),f?.()},V=()=>{L(c),g?.()},q=()=>{N.setState({nodesDraggable:!k,nodesConnectable:!k,elementsSelectable:!k}),m?.(!k)},te=v==="horizontal"?"horizontal":"vertical";return r.jsxs(Go,{className:st(["react-flow__controls",te,x]),position:p,style:n,"data-testid":"rf__controls","aria-label":j??M["controls.ariaLabel"],children:[s&&r.jsxs(r.Fragment,{children:[r.jsx(uo,{onClick:B,className:"react-flow__controls-zoomin",title:M["controls.zoomIn.ariaLabel"],"aria-label":M["controls.zoomIn.ariaLabel"],disabled:E,children:r.jsx(v5,{})}),r.jsx(uo,{onClick:$,className:"react-flow__controls-zoomout",title:M["controls.zoomOut.ariaLabel"],"aria-label":M["controls.zoomOut.ariaLabel"],disabled:T,children:r.jsx(N5,{})})]}),i&&r.jsx(uo,{className:"react-flow__controls-fitview",onClick:V,title:M["controls.fitView.ariaLabel"],"aria-label":M["controls.fitView.ariaLabel"],children:r.jsx(j5,{})}),o&&r.jsx(uo,{className:"react-flow__controls-interactive",onClick:q,title:M["controls.interactive.ariaLabel"],"aria-label":M["controls.interactive.ariaLabel"],children:k?r.jsx(S5,{}):r.jsx(w5,{})}),y]})}Hy.displayName="Controls";const C5=A.memo(Hy);function E5({id:n,x:s,y:i,width:o,height:c,style:d,color:f,strokeColor:g,strokeWidth:m,className:x,borderRadius:y,shapeRendering:p,selected:v,onClick:j}){const{background:N,backgroundColor:k}=d||{},T=f||N||k;return r.jsx("rect",{className:st(["react-flow__minimap-node",{selected:v},x]),x:s,y:i,rx:y,ry:y,width:o,height:c,style:{fill:T,stroke:g,strokeWidth:m},shapeRendering:p,onClick:j?E=>j(E,n):void 0})}const z5=A.memo(E5),A5=n=>n.nodes.map(s=>s.id),Ad=n=>n instanceof Function?n:()=>n;function T5({nodeStrokeColor:n,nodeColor:s,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:c,nodeComponent:d=z5,onClick:f}){const g=De(A5,Qe),m=Ad(s),x=Ad(n),y=Ad(i),p=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return r.jsx(r.Fragment,{children:g.map(v=>r.jsx(M5,{id:v,nodeColorFunc:m,nodeStrokeColorFunc:x,nodeClassNameFunc:y,nodeBorderRadius:o,nodeStrokeWidth:c,NodeComponent:d,onClick:f,shapeRendering:p},v))})}function _5({id:n,nodeColorFunc:s,nodeStrokeColorFunc:i,nodeClassNameFunc:o,nodeBorderRadius:c,nodeStrokeWidth:d,shapeRendering:f,NodeComponent:g,onClick:m}){const{node:x,x:y,y:p,width:v,height:j}=De(N=>{const{internals:k}=N.nodeLookup.get(n),T=k.userNode,{x:E,y:M}=k.positionAbsolute,{width:w,height:z}=Xn(T);return{node:T,x:E,y:M,width:w,height:z}},Qe);return!x||x.hidden||!Hp(x)?null:r.jsx(g,{x:y,y:p,width:v,height:j,style:x.style,selected:!!x.selected,className:o(x),color:s(x),borderRadius:c,strokeColor:i(x),strokeWidth:d,shapeRendering:f,onClick:m,id:x.id})}const M5=A.memo(_5);var D5=A.memo(T5);const O5=200,L5=150,R5=n=>!n.hidden,H5=n=>{const s={x:-n.transform[0]/n.transform[2],y:-n.transform[1]/n.transform[2],width:n.width/n.transform[2],height:n.height/n.transform[2]};return{viewBB:s,boundingRect:n.nodeLookup.size>0?Rp(_i(n.nodeLookup,{filter:R5}),s):s,rfId:n.rfId,panZoom:n.panZoom,translateExtent:n.translateExtent,flowWidth:n.width,flowHeight:n.height,ariaLabelConfig:n.ariaLabelConfig}},U5="react-flow__minimap-desc";function Uy({style:n,className:s,nodeStrokeColor:i,nodeColor:o,nodeClassName:c="",nodeBorderRadius:d=5,nodeStrokeWidth:f,nodeComponent:g,bgColor:m,maskColor:x,maskStrokeColor:y,maskStrokeWidth:p,position:v="bottom-right",onClick:j,onNodeClick:N,pannable:k=!1,zoomable:T=!1,ariaLabel:E,inversePan:M,zoomStep:w=1,offsetScale:z=5}){const L=Fe(),B=A.useRef(null),{boundingRect:$,viewBB:V,rfId:q,panZoom:te,translateExtent:G,flowWidth:F,flowHeight:H,ariaLabelConfig:_}=De(H5,Qe),D=n?.width??O5,C=n?.height??L5,O=$.width/D,U=$.height/C,Z=Math.max(O,U),X=Z*D,P=Z*C,W=z*Z,se=$.x-(X-$.width)/2-W,le=$.y-(P-$.height)/2-W,fe=X+W*2,be=P+W*2,me=`${U5}-${q}`,oe=A.useRef(0),ue=A.useRef();oe.current=Z,A.useEffect(()=>{if(B.current&&te)return ue.current=rC({domNode:B.current,panZoom:te,getTransform:()=>L.getState().transform,getViewScale:()=>oe.current}),()=>{ue.current?.destroy()}},[te]),A.useEffect(()=>{ue.current?.update({translateExtent:G,width:F,height:H,inversePan:M,pannable:k,zoomStep:w,zoomable:T})},[k,T,M,w,G,F,H]);const ke=j?Ne=>{const[ie,ye]=ue.current?.pointer(Ne)||[0,0];j(Ne,{x:ie,y:ye})}:void 0,we=N?A.useCallback((Ne,ie)=>{const ye=L.getState().nodeLookup.get(ie).internals.userNode;N(Ne,ye)},[]):void 0,pe=E??_["minimap.ariaLabel"];return r.jsx(Go,{position:v,style:{...n,"--xy-minimap-background-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-background-color-props":typeof x=="string"?x:void 0,"--xy-minimap-mask-stroke-color-props":typeof y=="string"?y:void 0,"--xy-minimap-mask-stroke-width-props":typeof p=="number"?p*Z:void 0,"--xy-minimap-node-background-color-props":typeof o=="string"?o:void 0,"--xy-minimap-node-stroke-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-width-props":typeof f=="number"?f:void 0},className:st(["react-flow__minimap",s]),"data-testid":"rf__minimap",children:r.jsxs("svg",{width:D,height:C,viewBox:`${se} ${le} ${fe} ${be}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":me,ref:B,onClick:ke,children:[pe&&r.jsx("title",{id:me,children:pe}),r.jsx(D5,{onClick:we,nodeColor:o,nodeStrokeColor:i,nodeBorderRadius:d,nodeClassName:c,nodeStrokeWidth:f,nodeComponent:g}),r.jsx("path",{className:"react-flow__minimap-mask",d:`M${se-W},${le-W}h${fe+W*2}v${be+W*2}h${-fe-W*2}z
        M${V.x},${V.y}h${V.width}v${V.height}h${-V.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Uy.displayName="MiniMap";const B5=A.memo(Uy),V5=n=>s=>n?`${Math.max(1/s.transform[2],1)}`:void 0,q5={[or.Line]:"right",[or.Handle]:"bottom-right"};function $5({nodeId:n,position:s,variant:i=or.Handle,className:o,style:c=void 0,children:d,color:f,minWidth:g=10,minHeight:m=10,maxWidth:x=Number.MAX_VALUE,maxHeight:y=Number.MAX_VALUE,keepAspectRatio:p=!1,resizeDirection:v,autoScale:j=!0,shouldResize:N,onResizeStart:k,onResize:T,onResizeEnd:E}){const M=xy(),w=typeof n=="string"?n:M,z=Fe(),L=A.useRef(null),B=i===or.Handle,$=De(A.useCallback(V5(B&&j),[B,j]),Qe),V=A.useRef(null),q=s??q5[i];A.useEffect(()=>{if(!(!L.current||!w))return V.current||(V.current=bC({domNode:L.current,nodeId:w,getStoreItems:()=>{const{nodeLookup:G,transform:F,snapGrid:H,snapToGrid:_,nodeOrigin:D,domNode:C}=z.getState();return{nodeLookup:G,transform:F,snapGrid:H,snapToGrid:_,nodeOrigin:D,paneDomNode:C}},onChange:(G,F)=>{const{triggerNodeChanges:H,nodeLookup:_,parentLookup:D,nodeOrigin:C}=z.getState(),O=[],U={x:G.x,y:G.y},Z=_.get(w);if(Z&&Z.expandParent&&Z.parentId){const X=Z.origin??C,P=G.width??Z.measured.width??0,W=G.height??Z.measured.height??0,se={id:Z.id,parentId:Z.parentId,rect:{width:P,height:W,...Up({x:G.x??Z.position.x,y:G.y??Z.position.y},{width:P,height:W},Z.parentId,_,X)}},le=mf([se],_,D,C);O.push(...le),U.x=G.x?Math.max(X[0]*P,G.x):void 0,U.y=G.y?Math.max(X[1]*W,G.y):void 0}if(U.x!==void 0&&U.y!==void 0){const X={id:w,type:"position",position:{...U}};O.push(X)}if(G.width!==void 0&&G.height!==void 0){const P={id:w,type:"dimensions",resizing:!0,setAttributes:v?v==="horizontal"?"width":"height":!0,dimensions:{width:G.width,height:G.height}};O.push(P)}for(const X of F){const P={...X,type:"position"};O.push(P)}H(O)},onEnd:({width:G,height:F})=>{const H={id:w,type:"dimensions",resizing:!1,dimensions:{width:G,height:F}};z.getState().triggerNodeChanges([H])}})),V.current.update({controlPosition:q,boundaries:{minWidth:g,minHeight:m,maxWidth:x,maxHeight:y},keepAspectRatio:p,resizeDirection:v,onResizeStart:k,onResize:T,onResizeEnd:E,shouldResize:N}),()=>{V.current?.destroy()}},[q,g,m,x,y,p,k,T,E,N]);const te=q.split("-");return r.jsx("div",{className:st(["react-flow__resize-control","nodrag",...te,i,o]),ref:L,style:{...c,scale:$,...f&&{[B?"backgroundColor":"borderColor"]:f}},children:d})}A.memo($5);function Y5({data:n}){const i={NEW_CONVERSATION:"New conversation",KEYWORDS:"Text contains specific keywords",HAS_TAGS:"Contact has specific tags",PIPELINE_UPDATE:"Contact has been affected to a pipeline",SHORT_RESPONSE:"Advanced Short response"}[n.triggerType]||"Select option";return r.jsxs("div",{className:"min-w-[280px] bg-white dark:bg-[#0F0F0F] rounded-lg shadow-md border border-gray-200 dark:border-[#262626] font-sans transition-colors duration-200",children:[r.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-[#262626]",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"bg-indigo-600 rounded p-1",children:r.jsx(Ps,{size:14,className:"text-white",fill:"white"})}),r.jsx("span",{className:"text-gray-700 dark:text-neutral-200 font-semibold text-sm",children:"Trigger"})]}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-neutral-400 leading-snug",children:"Define the input parameters to trigger the workflow, to ensure that accurate information is captured in the conversation flow."})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("div",{className:"text-xs font-semibold text-gray-700 dark:text-neutral-300 mb-2",children:"Starting Step"}),r.jsx("div",{className:"relative",children:r.jsxs("div",{className:"w-full bg-gray-50 dark:bg-[#1A1A1A] text-gray-700 dark:text-neutral-200 text-sm px-3 py-2.5 rounded border border-gray-200 dark:border-[#404040] flex items-center justify-between",children:[r.jsx("span",{className:"truncate",children:i}),r.jsx(Ei,{size:16,className:"text-gray-400"})]})}),n.triggerType==="KEYWORDS"&&n.keyword&&r.jsxs("div",{className:"mt-2 text-xs text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-900/30 px-2 py-1 rounded border border-indigo-100 dark:border-indigo-800",children:['Contains: "',n.keyword,'"']})]}),r.jsx(xn,{type:"source",position:ge.Right,className:"!bg-emerald-400 !w-4 !h-4 !border-4 !border-white dark:!border-[#0F0F0F] !-right-2"})]})}const G5={text:cr,media:gi,buttons:qx,list:Fd,template:Ci,addGroup:gn,removeGroup:Jd,addTag:Mo,removeTag:Vx,addPipeline:Bx,removePipeline:sn,delay:mi},Ax=(n,s,i=!1)=>{const o=n.selectionStart,c=n.selectionEnd,d=n.value,f=d.substring(0,o),g=d.substring(c),m=d.substring(o,c);let x,y;i?(x=f+s+m+s+g,y=o+s.length+m.length+s.length):(x=f+s+g,y=o+s.length),Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value").set.call(n,x),n.dispatchEvent(new Event("input",{bubbles:!0})),n.focus(),n.setSelectionRange(y,y)},X5=({label:n,icon:s,actions:i})=>{const[o,c]=A.useState(!1),[d,f]=A.useState(!1),[g,m]=A.useState(n),x=A.useRef(null),y=A.useRef(null);A.useEffect(()=>{const j=N=>{x.current&&!x.current.contains(N.target)&&c(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]),A.useEffect(()=>{d&&y.current&&(y.current.focus(),y.current.select())},[d]);const p=()=>{g.trim()?i.onRename(g):m(n),f(!1)},v=j=>{j.key==="Enter"&&p(),j.key==="Escape"&&(m(n),f(!1))};return r.jsxs("div",{className:"flex items-center justify-between mb-3 h-8",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold text-gray-800 dark:text-gray-100 flex-1 min-w-0",children:[s&&r.jsx(s,{size:18,className:"text-gray-500 dark:text-gray-400 flex-shrink-0"}),d?r.jsx("input",{ref:y,type:"text",className:"nodrag w-full bg-white dark:bg-[#1A1A1A] border border-indigo-500 rounded px-1 py-0.5 text-sm outline-none text-gray-800 dark:text-gray-100",value:g,onChange:j=>m(j.target.value),onBlur:p,onKeyDown:v,onClick:j=>j.stopPropagation()}):r.jsx("span",{className:"truncate cursor-text",onDoubleClick:()=>f(!0),title:"Double click to rename",children:n})]}),r.jsxs("div",{className:"relative flex-shrink-0 ml-2",ref:x,children:[r.jsx("button",{onClick:j=>{j.stopPropagation(),c(!o)},className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:r.jsx(Hx,{size:16,className:"text-gray-400 dark:text-gray-500"})}),o&&r.jsxs("div",{className:"absolute right-0 top-full mt-1 w-40 bg-white dark:bg-[#1A1A1A] rounded-lg shadow-xl border border-gray-100 dark:border-[#333] z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-100",children:[r.jsxs("button",{onClick:j=>{j.stopPropagation(),m(n),f(!0),c(!1)},className:"w-full text-left px-3 py-2 text-xs text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-[#252525] flex items-center gap-2 transition-colors",children:[r.jsx(zi,{size:14})," Rename"]}),r.jsxs("button",{onClick:j=>{j.stopPropagation(),i.onDuplicate(),c(!1)},className:"w-full text-left px-3 py-2 text-xs text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-[#252525] flex items-center gap-2 transition-colors",children:[r.jsx(Id,{size:14})," Duplicate"]}),r.jsx("div",{className:"h-px bg-gray-100 dark:bg-[#333] my-1"}),r.jsxs("button",{onClick:j=>{j.stopPropagation(),i.onDelete(),c(!1)},className:"w-full text-left px-3 py-2 text-xs text-red-500 hover:bg-red-50 dark:hover:bg-red-900/10 flex items-center gap-2 transition-colors",children:[r.jsx(sn,{size:14})," Delete"]})]})]})]})},Fo=({message:n="Please fill all the required fields"})=>r.jsxs("div",{className:"bg-red-600 text-white px-3 py-2 rounded-lg flex items-center gap-2 text-xs font-medium mb-3 shadow-sm",children:[r.jsx(Ca,{size:14,className:"flex-shrink-0"}),r.jsx("span",{children:n})]}),By=({inputRef:n})=>{const s=(o,c=!0)=>n.current&&Ax(n.current,o,c),i=()=>n.current&&Ax(n.current,"{{variable}}",!1);return r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>s("*"),className:"p-1.5 text-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 dark:text-indigo-400 rounded hover:bg-indigo-100 dark:hover:bg-indigo-900/40",children:r.jsx(k1,{size:14})}),r.jsx("button",{onClick:()=>s("_"),className:"p-1.5 text-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 dark:text-indigo-400 rounded hover:bg-indigo-100 dark:hover:bg-indigo-900/40",children:r.jsx(C1,{size:14})}),r.jsx("button",{onClick:()=>s("~"),className:"p-1.5 text-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 dark:text-indigo-400 rounded hover:bg-indigo-100 dark:hover:bg-indigo-900/40",children:r.jsx(E1,{size:14})})]}),r.jsx("div",{className:"flex-1"}),r.jsx("button",{onClick:i,className:"text-xs font-semibold text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-900/20 px-3 py-1.5 rounded-full hover:bg-indigo-100 dark:hover:bg-indigo-900/40",children:"Add Variable"})]})},lt=({children:n,required:s})=>r.jsxs("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1",children:[s&&r.jsx("span",{className:"text-red-500 mr-1",children:"*"}),n]}),Qt=n=>r.jsx("input",{...n,className:`nodrag w-full border border-gray-200 dark:border-[#333] bg-white dark:bg-[#0A0A0A] dark:text-gray-100 rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-indigo-500 outline-none ${n.className}`}),pf=n=>r.jsx("textarea",{...n,className:`nodrag w-full border border-gray-200 dark:border-[#333] bg-white dark:bg-[#0A0A0A] dark:text-gray-100 rounded-lg p-3 text-sm focus:ring-2 focus:ring-indigo-500 resize-none ${n.className}`}),Z5=({data:n,onChange:s})=>{const i=n.content?.length>0,o=A.useRef(null);return r.jsxs("div",{children:[!i&&r.jsx(Fo,{}),r.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2 font-medium",children:[r.jsx("span",{className:"text-red-500",children:"*"})," Respond with a simple text message."]}),r.jsx("div",{className:"relative",children:r.jsx(pf,{ref:o,placeholder:"Enter text",minRows:3,value:n.content||"",onChange:c=>s("content",c.target.value)})}),r.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 mb-3",children:["Characters: ",(n.content||"").length,"/1098"]}),r.jsx(By,{inputRef:o})]})},Q5=({data:n,onChange:s})=>{const[i,o]=A.useState(n.buttonType||"reply"),c=n.body?.length>0&&(i==="reply"?n.buttons?.length>0:n.cta?.url),d=A.useRef(null);A.useEffect(()=>{n.buttons||s("buttons",[])},[]);const f=()=>{(n.buttons||[]).length<3&&s("buttons",[...n.buttons||[],{id:Date.now(),label:""}])},g=(x,y)=>{const p=[...n.buttons||[]];p[x].label=y,s("buttons",p)},m=x=>{const y=[...n.buttons||[]];y.splice(x,1),s("buttons",y)};return r.jsxs("div",{className:"space-y-4",children:[!c&&r.jsx(Fo,{}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Send interactive buttons or a call to action button."}),r.jsxs("div",{children:[r.jsx(lt,{children:"Header (Optional)"}),r.jsxs("select",{className:"nodrag w-full border border-gray-200 dark:border-[#333] bg-white dark:bg-[#0A0A0A] dark:text-gray-100 rounded-lg p-2 text-sm mb-2",value:n.headerType||"None",onChange:x=>s("headerType",x.target.value),children:[r.jsx("option",{value:"None",children:"None"}),r.jsx("option",{value:"Text",children:"Text"}),r.jsx("option",{value:"Image",children:"Image"})]}),n.headerType==="Text"&&r.jsx(Qt,{placeholder:"Enter header text",value:n.headerText||"",onChange:x=>s("headerText",x.target.value)})]}),r.jsxs("div",{children:[r.jsx(lt,{required:!0,children:"Body"}),r.jsx(pf,{ref:d,placeholder:"Enter the main message",value:n.body||"",onChange:x=>s("body",x.target.value)}),r.jsx(By,{inputRef:d})]}),r.jsxs("div",{children:[r.jsx(lt,{children:"Footer Text (Optional)"}),r.jsx(Qt,{placeholder:"Enter footer text",value:n.footer||"",onChange:x=>s("footer",x.target.value)})]}),r.jsxs("div",{children:[r.jsx(lt,{children:"Button type:"}),r.jsxs("div",{className:"flex gap-4 mt-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300",children:[r.jsx("input",{type:"radio",checked:i==="reply",onChange:()=>{o("reply"),s("buttonType","reply")},className:"text-indigo-600"}),"Reply Buttons"]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300",children:[r.jsx("input",{type:"radio",checked:i==="cta",onChange:()=>{o("cta"),s("buttonType","cta")},className:"text-indigo-600"}),"CTA URL Button"]})]})]}),i==="reply"?r.jsxs("div",{className:"bg-gray-50 dark:bg-[#151515] p-3 rounded-lg border border-gray-100 dark:border-[#333]",children:[r.jsx(lt,{required:!0,children:"Reply Buttons (at least 1)"}),(n.buttons||[]).map((x,y)=>r.jsxs("div",{className:"mb-3",children:[r.jsx(lt,{children:`Button ${y+1} Label`}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Qt,{value:x.label,onChange:p=>g(y,p.target.value),placeholder:"Label",maxLength:20}),r.jsx("button",{onClick:()=>m(y),className:"text-red-500 hover:bg-red-50 p-2 rounded",children:r.jsx(sn,{size:16})})]}),r.jsxs("div",{className:"text-xs text-gray-400 text-right",children:[x.label.length,"/20"]})]},y)),(n.buttons?.length||0)<3&&r.jsx("button",{onClick:f,className:"w-full py-2 border border-dashed border-gray-300 dark:border-[#444] rounded text-gray-500 text-sm hover:bg-gray-100 dark:hover:bg-[#222]",children:"+ Add Button"})]}):r.jsxs("div",{className:"bg-gray-50 dark:bg-[#151515] p-3 rounded-lg border border-gray-100 dark:border-[#333]",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx(lt,{required:!0,children:"Display Text"}),r.jsx(Qt,{value:n.cta?.displayText||"",onChange:x=>s("cta",{...n.cta,displayText:x.target.value})})]}),r.jsxs("div",{children:[r.jsx(lt,{required:!0,children:"URL"}),r.jsx(Qt,{value:n.cta?.url||"",onChange:x=>s("cta",{...n.cta,url:x.target.value}),placeholder:"https://"})]})]})]})},F5=({data:n,onChange:s})=>{const i=n.body?.length>0&&n.buttonLabel&&n.sections?.length>0,o=()=>{s("sections",[...n.sections||[],{id:Date.now(),title:"",rows:[{id:Date.now()+1,title:""}]}])},c=(g,m,x)=>{const y=[...n.sections||[]];y[g][m]=x,s("sections",y)},d=g=>{const m=[...n.sections||[]];m[g].rows.push({id:Date.now(),title:"",description:""}),s("sections",m)},f=(g,m,x,y)=>{const p=[...n.sections||[]];p[g].rows[m][x]=y,s("sections",p)};return r.jsxs("div",{className:"space-y-4",children:[!i&&r.jsx(Fo,{}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Send interactive list message."}),r.jsxs("div",{children:[r.jsx(lt,{children:"Header (Optional)"}),r.jsx(Qt,{value:n.headerText||"",onChange:g=>s("headerText",g.target.value)})]}),r.jsxs("div",{children:[r.jsx(lt,{required:!0,children:"Body"}),r.jsx(pf,{value:n.body||"",onChange:g=>s("body",g.target.value)})]}),r.jsxs("div",{children:[r.jsx(lt,{children:"Footer (Optional)"}),r.jsx(Qt,{value:n.footer||"",onChange:g=>s("footer",g.target.value)})]}),r.jsxs("div",{children:[r.jsx(lt,{required:!0,children:"Button Label"}),r.jsx(Qt,{value:n.buttonLabel||"",onChange:g=>s("buttonLabel",g.target.value),placeholder:"View List"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx(lt,{required:!0,children:"Sections"}),r.jsx("button",{onClick:o,className:"text-xs bg-indigo-50 text-indigo-600 px-2 py-1 rounded",children:"Add Section"})]}),(n.sections||[]).map((g,m)=>r.jsxs("div",{className:"border border-gray-200 dark:border-[#333] rounded-lg p-3 mb-3 bg-gray-50 dark:bg-[#151515]",children:[r.jsxs("div",{className:"mb-2",children:[r.jsx(lt,{required:!0,children:"Section Title"}),r.jsx(Qt,{value:g.title,onChange:x=>c(m,"title",x.target.value)})]}),r.jsxs("div",{className:"ml-2 pl-2 border-l-2 border-indigo-100 dark:border-[#333]",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx(lt,{children:"Rows"}),r.jsx("button",{onClick:()=>d(m),className:"text-xs text-indigo-500",children:"+ Row"})]}),g.rows.map((x,y)=>r.jsxs("div",{className:"mb-3 grid grid-cols-2 gap-2",children:[r.jsx("div",{className:"col-span-2",children:r.jsx(Qt,{placeholder:"Row Title",value:x.title,onChange:p=>f(m,y,"title",p.target.value)})}),r.jsx(Qt,{placeholder:"ID",value:x.id,onChange:p=>f(m,y,"id",p.target.value)}),r.jsx(Qt,{placeholder:"Desc",value:x.description,onChange:p=>f(m,y,"description",p.target.value)})]},x.id))]})]},g.id))]})]})},K5=({data:n,onChange:s})=>{const i=[{name:"welcome_msg",id:"1",lang:"en",variables:0},{name:"offer_alert",id:"2",lang:"en",variables:1}];return r.jsxs("div",{children:[r.jsxs("div",{className:"mb-4",children:[r.jsx(lt,{required:!0,children:"Select Template"}),r.jsxs("select",{className:"nodrag w-full border border-gray-200 dark:border-[#333] bg-white dark:bg-[#0A0A0A] dark:text-gray-100 rounded-lg p-2.5 text-sm",value:n.template?.id||"",onChange:o=>{const c=i.find(d=>d.id===o.target.value);s("template",c)},children:[r.jsx("option",{value:"",children:"Select a template..."}),i.map(o=>r.jsx("option",{value:o.id,children:o.name},o.id))]})]}),n.template&&r.jsxs("div",{className:"bg-gray-50 dark:bg-[#151515] rounded-xl p-4 border border-gray-200 dark:border-[#333]",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold text-gray-800 dark:text-gray-100",children:[r.jsx(Ci,{size:18,className:"text-teal-600"}),r.jsx("span",{children:n.template.name})]}),r.jsxs("div",{className:"flex gap-2 text-gray-400",children:[r.jsx(zi,{size:16,className:"cursor-pointer hover:text-gray-600"}),r.jsx(sn,{size:16,className:"cursor-pointer hover:text-red-500",onClick:()=>s("template",null)})]})]}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[r.jsxs("div",{children:["ID: ",n.template.id]}),r.jsxs("div",{children:["Lang: ",n.template.lang]}),r.jsxs("div",{children:["Variables: ",n.template.variables]})]}),r.jsx("div",{className:"mt-3 flex justify-end",children:r.jsx("span",{className:"bg-gray-200 dark:bg-[#333] text-gray-600 dark:text-gray-300 px-2 py-0.5 rounded text-xs",children:"Inactive"})})]})]})},I5=({data:n,onChange:s,type:i})=>{const o=[{id:"1",name:"VIP Customers"},{id:"2",name:"Leads"}],c=i==="addGroup";return r.jsxs("div",{className:"bg-gray-50 dark:bg-[#151515] rounded-xl p-4 border border-gray-200 dark:border-[#333]",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2 font-semibold text-gray-800 dark:text-gray-100",children:[c?r.jsx(gn,{size:18,className:"text-teal-600"}):r.jsx(Jd,{size:18,className:"text-teal-600"}),r.jsx("span",{children:c?"Add to Group":"Remove from Group"})]}),r.jsxs("div",{className:"flex gap-2 text-gray-400",children:[r.jsx(zi,{size:16}),r.jsx(sn,{size:16})]})]}),r.jsxs("div",{className:"mb-2",children:[r.jsx(lt,{children:c?"Add to:":"Remove from:"}),r.jsxs("select",{className:"nodrag w-full bg-transparent border-b border-gray-300 dark:border-[#444] py-1 text-sm focus:border-indigo-500 outline-none dark:text-gray-200",value:n.groupId||"",onChange:d=>s("groupId",d.target.value),children:[r.jsx("option",{value:"",children:"No group selected"}),o.map(d=>r.jsx("option",{value:d.id,children:d.name},d.id))]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Action"}),r.jsx("span",{className:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 px-3 py-1 rounded-full text-xs font-medium",children:"Active"})]})]})},J5=({data:n,onChange:s})=>{const i=n.mediaType&&n.file;return r.jsxs("div",{children:[!i&&r.jsx(Fo,{}),r.jsx(lt,{required:!0,children:"Media Type"}),r.jsxs("select",{className:"nodrag w-full border border-gray-200 dark:border-[#333] rounded-lg p-2 mb-2 dark:bg-[#0A0A0A] dark:text-white",value:n.mediaType,onChange:o=>s("mediaType",o.target.value),children:[r.jsx("option",{children:"Image"}),r.jsx("option",{children:"Video"})]}),r.jsx(lt,{children:"Upload"}),r.jsx("div",{className:"border border-dashed p-4 rounded text-center dark:border-[#333] text-gray-500",children:r.jsx("input",{type:"file",onChange:o=>s("file",o.target.files[0])})})]})};function W5({id:n,data:s}){const{setNodes:i,deleteElements:o,getNodes:c}=Xo(),d=A.useCallback((x,y)=>{i(p=>p.map(v=>v.id===n?{...v,data:{...v.data,[x]:y}}:v))},[n,i]),f={onDelete:()=>o({nodes:[{id:n}]}),onDuplicate:()=>{const x=c().find(y=>y.id===n);x&&i(y=>y.concat({...x,id:`${x.data.subType}-${Date.now()}`,position:{x:x.position.x+50,y:x.position.y+50},selected:!1}))},onRename:x=>d("label",x)},g=G5[s.subType]||cr,m=()=>{switch(s.subType){case"text":return r.jsx(Z5,{data:s,onChange:d});case"buttons":return r.jsx(Q5,{data:s,onChange:d});case"list":return r.jsx(F5,{data:s,onChange:d});case"template":return r.jsx(K5,{data:s,onChange:d});case"addGroup":case"removeGroup":return r.jsx(I5,{data:s,onChange:d,type:s.subType});case"media":return r.jsx(J5,{data:s,onChange:d});default:return r.jsxs("div",{className:"text-gray-500 text-center py-4",children:["Coming Soon: ",s.subType]})}};return r.jsxs("div",{className:"min-w-[320px] max-w-[360px] bg-white dark:bg-[#0F0F0F] rounded-xl shadow-lg border border-gray-200 dark:border-[#262626] font-sans transition-colors duration-200",children:[r.jsx(xn,{type:"target",position:ge.Left,className:"!bg-gray-400 dark:!bg-neutral-600 !w-3 !h-3 !-left-1.5"}),r.jsxs("div",{className:"p-5",children:[["addGroup","removeGroup"].includes(s.subType)?null:r.jsx(X5,{label:s.label,icon:g,actions:f}),m()]}),r.jsx(xn,{type:"source",position:ge.Right,className:"!bg-gray-400 dark:!bg-neutral-600 !w-3 !h-3 !-right-1.5"})]})}function P5({data:n}){return r.jsxs("div",{className:"min-w-[240px] bg-white dark:bg-[#0F0F0F] rounded-lg shadow-sm border border-gray-200 dark:border-[#262626] transition-colors duration-200",children:[r.jsx(xn,{type:"target",position:ge.Top,className:"!bg-gray-400 dark:!bg-neutral-600 !w-3 !h-3"}),r.jsxs("div",{className:"p-3 border-b border-gray-50 dark:border-[#262626] flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-teal-50 dark:bg-teal-900/10 flex items-center justify-center border border-teal-100 dark:border-teal-900/30",children:r.jsx(yo,{size:16,className:"text-teal-600 dark:text-teal-400"})}),r.jsx("span",{className:"text-sm font-semibold text-gray-800 dark:text-neutral-100",children:"Condition"})]}),r.jsxs("div",{className:"p-3",children:[r.jsx("div",{className:"text-xs text-gray-500 dark:text-neutral-500 mb-2",children:"Check if..."}),r.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-neutral-200 bg-gray-50 dark:bg-[#1A1A1A] p-2 rounded border border-gray-100 dark:border-[#262626]",children:n.condition||'User replies "Yes"'}),r.jsxs("div",{className:"flex justify-between mt-4",children:[r.jsx("div",{className:"text-xs font-semibold text-green-600 dark:text-green-400 uppercase",children:"True"}),r.jsx("div",{className:"text-xs font-semibold text-red-600 dark:text-red-400 uppercase",children:"False"})]})]}),r.jsx(xn,{type:"source",position:ge.Bottom,id:"true",className:"!bg-green-500 !w-3 !h-3 !left-[25%]"}),r.jsx(xn,{type:"source",position:ge.Bottom,id:"false",className:"!bg-red-500 !w-3 !h-3 !left-[75%]"})]})}const e3={trigger:Y5,condition:P5,action:W5},t3=[{id:"messages",title:"Messages",items:[{id:"text",label:"Simple text",icon:cr,subType:"text"},{id:"media",label:"Media files",icon:gi,subType:"media"},{id:"buttons",label:"Interactive buttons",icon:qx,subType:"buttons"},{id:"list",label:"Interactive list",icon:Fd,subType:"list"},{id:"template",label:"Template",icon:Ci,subType:"template"}]},{id:"groups",title:"Group Actions",items:[{id:"addGroup",label:"Add to group",icon:gn,subType:"addGroup"},{id:"removeGroup",label:"Remove from Group",icon:Jd,subType:"removeGroup"}]},{id:"tags",title:"Tag",items:[{id:"addTag",label:"Add Tags",icon:Mo,subType:"addTag"},{id:"removeTag",label:"Remove Tags",icon:Vx,subType:"removeTag"}]},{id:"funnel",title:"Funnel",items:[{id:"addPipeline",label:"Add/Edit to Pipeline",icon:Bx,subType:"addPipeline"},{id:"removePipeline",label:"Remove from Pipeline",icon:sn,subType:"removePipeline"}]},{id:"others",title:"Others",items:[{id:"delay",label:"Delay",icon:mi,subType:"delay"}]}],n3=[{value:"NEW_CONVERSATION",label:"New conversation"},{value:"KEYWORDS",label:"Text contains specific keywords"},{value:"HAS_TAGS",label:"Contact has specific tags"},{value:"PIPELINE_UPDATE",label:"Contact has been affected to a pipeline"},{value:"SHORT_RESPONSE",label:"Advanced Short response"}];function a3(){const{id:n}=Yx(),s=ss(),i=n==="new",o=A.useRef(null),[c,d,f]=h5([]),[g,m,x]=g5([]),[y,p]=A.useState("Untitled Flow"),[v,j]=A.useState("NEW_CONVERSATION"),[N,k]=A.useState({}),[T,E]=A.useState(!1),[M,w]=A.useState(!1),[z,L]=A.useState({messages:!0,groups:!0,tags:!0,funnel:!1,others:!0}),[B,$]=A.useState(null);A.useEffect(()=>{i?d([{id:"trigger-1",type:"trigger",data:{triggerType:"NEW_CONVERSATION"},position:{x:100,y:300},deletable:!1}]):V()},[n]),A.useEffect(()=>{d(H=>H.map(_=>_.type==="trigger"?{..._,data:{..._.data,triggerType:v,...N}}:_))},[v,N,d]);const V=async()=>{try{const H=await ce.get(`/flows/${n}`);p(H.name),j(H.triggerType||"NEW_CONVERSATION"),k(H.triggerData||{}),E(H.isActive),H.content&&H.content.nodes&&(d(H.content.nodes),m(H.content.edges||[]))}catch(H){console.error("Failed to load flow",H)}},q=A.useCallback(H=>{m(_=>Xp({...H,animated:!0,style:{stroke:"#94a3b8",strokeWidth:2}},_))},[m]),te=async()=>{w(!0);const H={name:y,content:{nodes:c,edges:g},triggerType:v,triggerData:N,isActive:T};try{let _;i?_=await ce.post("/flows",H):_=await ce.put(`/flows/${n}`,H),i&&s(`/automations/${_.id}`,{replace:!0})}catch(_){console.error("Failed to save",_),alert(`Failed to save: ${_.message}`)}finally{w(!1)}},G=H=>{const _={id:`${H.subType}-${Date.now()}`,type:"action",data:{label:H.label,subType:H.subType,description:"Click to configure"},position:{x:500,y:300}};d(D=>D.concat(_))},F=H=>{L(_=>({..._,[H]:!_[H]}))};return r.jsxs("div",{className:"h-screen flex bg-gray-50 dark:bg-[#050505] font-sans text-gray-900 dark:text-neutral-100 transition-colors duration-300",children:[r.jsxs("div",{className:"w-72 bg-white dark:bg-[#0F0F0F] border-r border-gray-200 dark:border-[#262626] flex flex-col shadow-sm z-10 transition-colors duration-300",children:[r.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-[#262626] flex items-center justify-between",children:[r.jsx("button",{onClick:()=>s("/automations"),className:"text-gray-500 hover:text-gray-800 dark:hover:text-neutral-200 transition-colors",children:r.jsx(z1,{size:18})}),r.jsx("span",{className:"font-semibold text-gray-700 dark:text-neutral-200",children:"Components"}),r.jsx("div",{className:"w-5"})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:t3.map(H=>r.jsxs("div",{className:"border-b border-gray-100 dark:border-[#262626]",children:[r.jsxs("button",{onClick:()=>F(H.id),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-[#1A1A1A] transition-colors",children:[r.jsx("span",{className:"font-semibold text-sm text-gray-800 dark:text-neutral-200",children:H.title}),z[H.id]?r.jsx(Ei,{size:16,className:"text-gray-400"}):r.jsx(Lx,{size:16,className:"text-gray-400"})]}),z[H.id]&&r.jsx("div",{className:"pb-2",children:H.items.map(_=>r.jsxs("div",{onClick:()=>G(_),className:"px-4 py-2 hover:bg-gray-50 dark:hover:bg-[#1A1A1A] cursor-pointer flex items-center gap-3 group transition-colors",children:[r.jsx(_.icon,{size:18,className:"text-gray-400 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors"}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-neutral-400 group-hover:text-gray-900 dark:group-hover:text-neutral-200 transition-colors",children:_.label}),r.jsx("div",{className:"flex-1"}),r.jsx("span",{className:"opacity-0 group-hover:opacity-100 text-gray-400",children:r.jsxs("div",{className:"grid grid-cols-2 gap-0.5",children:[r.jsx("div",{className:"w-1 h-1 rounded-full bg-current"}),r.jsx("div",{className:"w-1 h-1 rounded-full bg-current"}),r.jsx("div",{className:"w-1 h-1 rounded-full bg-current"}),r.jsx("div",{className:"w-1 h-1 rounded-full bg-current"})]})})]},_.id))})]},H.id))})]}),r.jsxs("div",{className:"flex-1 flex flex-col relative",children:[r.jsxs("div",{className:"h-16 bg-white dark:bg-[#0F0F0F] border-b border-gray-200 dark:border-[#262626] flex items-center justify-between px-6 shadow-sm z-10 transition-colors duration-300",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsx("input",{value:y,onChange:H=>p(H.target.value),className:"text-lg font-bold text-gray-800 dark:text-neutral-100 bg-transparent border-none focus:ring-0 placeholder-gray-400 dark:placeholder-neutral-600",placeholder:"Untitled Flow"})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:()=>E(!T),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium border transition-colors ${T?"bg-green-50 border-green-200 text-green-700 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100 dark:bg-[#1A1A1A] dark:border-[#404040] dark:text-neutral-400 dark:hover:bg-[#262626]"}`,children:[T?r.jsx(Ux,{size:16}):r.jsx(Ps,{size:16}),T?"Active":"Draft"]}),r.jsxs("button",{onClick:te,disabled:M,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2 rounded-lg font-medium text-sm flex items-center gap-2 transition-all shadow-sm hover:shadow active:scale-95",children:[r.jsx(Rx,{size:18}),M?"Saving...":"Save Flow"]})]})]}),r.jsx("div",{className:"absolute top-20 right-6 z-20 w-80",children:B?.type==="trigger"?r.jsxs("div",{className:"bg-white dark:bg-[#0F0F0F] rounded-xl shadow-xl border border-gray-100 dark:border-[#262626] overflow-hidden animate-in fade-in slide-in-from-right-4 duration-200",children:[r.jsx("div",{className:"bg-gray-50 dark:bg-[#151515] px-4 py-3 border-b border-gray-100 dark:border-[#262626] flex items-center justify-between",children:r.jsx("span",{className:"font-semibold text-gray-700 dark:text-neutral-200 text-sm",children:"Configure Trigger"})}),r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-neutral-400 mb-1",children:"Trigger Event"}),r.jsx("select",{value:v,onChange:H=>j(H.target.value),className:"w-full text-sm border-gray-200 dark:border-[#404040] dark:bg-[#1A1A1A] dark:text-neutral-200 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",children:n3.map(H=>r.jsx("option",{value:H.value,children:H.label},H.value))})]}),v==="KEYWORDS"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-neutral-400 mb-1",children:"Keywords"}),r.jsx("input",{type:"text",placeholder:"e.g. hello, pricing",className:"w-full text-sm border-gray-200 dark:border-[#404040] dark:bg-[#1A1A1A] dark:text-neutral-200 rounded-lg focus:ring-indigo-500 focus:border-indigo-500",value:N.keyword||"",onChange:H=>k({...N,keyword:H.target.value})}),r.jsx("p",{className:"text-xs text-gray-400 dark:text-neutral-500 mt-1",children:"Comma separated"})]})]})]}):null}),r.jsxs("div",{className:"flex-1 bg-slate-50 dark:bg-[#050505] relative transition-colors duration-300",ref:o,children:[r.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-[0.4] dark:opacity-[0.1]",style:{backgroundImage:"radial-gradient(#cbd5e1 1px, transparent 1px)",backgroundSize:"20px 20px"}}),r.jsxs(f5,{nodes:c,edges:g,onNodesChange:f,onEdgesChange:x,onConnect:q,onNodeClick:(H,_)=>$(_),onPaneClick:()=>$(null),nodeTypes:e3,fitView:!0,attributionPosition:"bottom-right",className:"dark:invert-0",children:[r.jsx(b5,{color:"#cbd5e1",gap:20,size:1,className:"dark:opacity-10"}),r.jsx(C5,{className:"!bg-white dark:!bg-[#0F0F0F] !border-gray-200 dark:!border-[#262626] !shadow-sm [&>button]:!text-gray-600 dark:[&>button]:!text-neutral-400 hover:[&>button]:!bg-gray-50 dark:hover:[&>button]:!bg-[#1A1A1A]"}),r.jsx(B5,{className:"!bg-white dark:!bg-[#0F0F0F] !border-gray-200 dark:!border-[#262626] !shadow-sm",nodeColor:"#e2e8f0",maskColor:"rgba(248, 250, 252, 0.7)"})]})]})]})]})}const s3=()=>{const[n,s]=A.useState([]),[i,o]=A.useState(!0),[c,d]=A.useState("OPEN"),[f,g]=A.useState([]);A.useEffect(()=>{m(),x()},[c]);const m=async()=>{try{o(!0);const y=await ce.getConversations({status:c});s(y)}catch(y){console.error("Failed to fetch conversations:",y)}finally{o(!1)}},x=async()=>{try{const y=await ce.getTeamMembers();g(y)}catch(y){console.error("Failed to fetch team members:",y)}};return r.jsxs("div",{className:"inbox-page p-6 h-full flex flex-col bg-gray-50 dark:bg-black transition-colors duration-300",children:[r.jsxs("header",{className:"mb-6 flex justify-between items-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Team Inbox"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>d("OPEN"),className:`px-3 py-1 rounded text-sm transition-colors ${c==="OPEN"?"bg-blue-600 dark:bg-green-600 text-white":"bg-gray-200 dark:bg-zinc-800 text-gray-700 dark:text-zinc-300"}`,children:"Open"}),r.jsx("button",{onClick:()=>d("CLOSED"),className:`px-3 py-1 rounded text-sm transition-colors ${c==="CLOSED"?"bg-blue-600 dark:bg-green-600 text-white":"bg-gray-200 dark:bg-zinc-800 text-gray-700 dark:text-zinc-300"}`,children:"Closed"})]})]}),r.jsx("div",{className:"bg-white dark:bg-[#09090b] rounded-lg shadow overflow-hidden flex-1 border border-gray-100 dark:border-zinc-800",children:r.jsx("div",{className:"grid grid-cols-1 divide-y divide-gray-100 dark:divide-zinc-800",children:i?r.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-zinc-400",children:"Loading conversations..."}):n.length===0?r.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-zinc-400",children:"No conversations found."}):n.map(y=>r.jsx(ho,{to:`/inbox/${y.id}`,className:"block hover:bg-gray-50 dark:hover:bg-zinc-900/50 transition-colors p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-green-900/20 flex items-center justify-center text-blue-600 dark:text-green-500 font-semibold",children:y.contact?.name?.[0]||"?"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900 dark:text-zinc-100",children:y.contact?.name||"Unknown Contact"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-zinc-400 truncate max-w-md",children:y.lastMessage||"No messages yet"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-gray-400 dark:text-zinc-500",children:y.updatedAt?new Date(y.updatedAt).toLocaleString():""}),y.assignedTo?r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 mt-1",children:y.assignedTo.name}):r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 dark:bg-zinc-800 text-gray-800 dark:text-zinc-300 mt-1",children:"Unassigned"})]})]})},y.id))})})]})},r3=({contactId:n})=>{const[s,i]=A.useState([]),[o,c]=A.useState(""),[d,f]=A.useState(!0);A.useEffect(()=>{n&&g()},[n]);const g=async()=>{try{f(!0);const x=await ce.getNotes(n);i(x)}catch(x){console.error("Failed to fetch notes:",x)}finally{f(!1)}},m=async x=>{if(x.preventDefault(),!!o.trim())try{await ce.addNote({contactId:parseInt(n),content:o}),c(""),g()}catch(y){console.error("Failed to add note:",y)}};return r.jsxs("div",{className:"internal-notes bg-gray-50 dark:bg-zinc-900/30 p-4 rounded-lg border border-gray-200 dark:border-zinc-800",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-zinc-300 mb-3",children:"Internal Notes"}),r.jsx("div",{className:"notes-list space-y-3 mb-4 max-h-60 overflow-y-auto",children:d?r.jsx("p",{className:"text-xs text-gray-500 dark:text-zinc-400",children:"Loading notes..."}):s.length===0?r.jsx("p",{className:"text-xs text-gray-500 dark:text-zinc-400 italic",children:"No notes yet."}):s.map(x=>r.jsxs("div",{className:"note-item bg-white dark:bg-zinc-900 p-2 rounded border border-gray-100 dark:border-zinc-800 shadow-sm",children:[r.jsx("p",{className:"text-xs text-gray-800 dark:text-zinc-200 whitespace-pre-wrap",children:x.content}),r.jsxs("div",{className:"flex justify-between items-center mt-1",children:[r.jsx("span",{className:"text-[10px] text-gray-500 dark:text-zinc-400",children:x.author?x.author.name:"Unknown User"}),r.jsx("span",{className:"text-[10px] text-gray-400 dark:text-zinc-500",children:new Date(x.createdAt).toLocaleString()})]})]},x.id))}),r.jsxs("form",{onSubmit:m,className:"note-form",children:[r.jsx("textarea",{value:o,onChange:x=>c(x.target.value),placeholder:"Add an internal note...",className:"w-full text-xs p-2 border border-gray-300 dark:border-zinc-700 dark:bg-zinc-800 dark:text-white rounded mb-2 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:focus:ring-green-500 dark:placeholder-zinc-500",rows:"2"}),r.jsx("button",{type:"submit",disabled:!o.trim(),className:"w-full bg-gray-600 dark:bg-zinc-700 hover:bg-gray-700 dark:hover:bg-zinc-600 text-white text-xs py-1 px-2 rounded disabled:opacity-50 transition-colors",children:"Add Note"})]})]})},i3=()=>{const{id:n}=Yx(),s=ss(),[i,o]=A.useState(null),[c,d]=A.useState([]),[f,g]=A.useState(""),[m,x]=A.useState(!0),[y,p]=A.useState([]),v=A.useRef(null);A.useEffect(()=>{n&&(N(),k())},[n]),A.useEffect(()=>{j()},[c]);const j=()=>{v.current?.scrollIntoView({behavior:"smooth"})},N=async()=>{try{x(!0);const w=await ce.getConversation(n);o(w),d(w.messages||[])}catch(w){console.error("Failed to fetch conversation:",w)}finally{x(!1)}},k=async()=>{try{const w=await ce.getTeamMembers();p(w)}catch(w){console.error("Failed to fetch team members:",w)}},T=async w=>{if(w.preventDefault(),!!f.trim())try{const z=await ce.sendMessage(n,{content:f});d([...c,z]),g("")}catch(z){console.error("Failed to send message:",z)}},E=async w=>{const z=w.target.value;try{const L=await ce.assignConversation(n,z);o(B=>({...B,assignedTo:L.assignedTo,assignedToId:L.assignedToId}))}catch(L){console.error("Failed to assign agent:",L)}},M=async w=>{try{const z=await ce.updateConversationStatus(n,w);o(L=>({...L,status:z.status}))}catch(z){console.error("Failed to update status:",z)}};return m?r.jsx("div",{className:"p-6 text-center",children:"Loading conversation..."}):i?r.jsxs("div",{className:"conversation-page h-[calc(100vh-64px)] flex flex-col md:flex-row bg-white dark:bg-gray-900",children:[r.jsxs("div",{className:"flex-1 flex flex-col border-r border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center bg-white dark:bg-gray-800",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>s("/inbox"),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 mr-2 md:hidden",children:" Back"}),r.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center text-purple-600 dark:text-purple-400 font-semibold text-lg",children:i.contact?.name?.[0]||"C"}),r.jsxs("div",{children:[r.jsx("h2",{className:"font-bold text-gray-800 dark:text-white",children:i.contact?.name}),r.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:i.contact?.phone})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:i.status==="OPEN"?r.jsx("button",{onClick:()=>M("CLOSED"),className:"text-xs bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 px-3 py-1 rounded",children:"Mark Closed"}):r.jsx("button",{onClick:()=>M("OPEN"),className:"text-xs bg-green-50 dark:bg-green-900/10 hover:bg-green-100 dark:hover:bg-green-900/20 text-green-700 dark:text-green-400 px-3 py-1 rounded",children:"Reopen"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-900 space-y-4",children:[c.map(w=>{const z=w.direction==="OUTBOUND";return r.jsx("div",{className:`flex ${z?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${z?"bg-blue-600 text-white rounded-br-none":"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-800 dark:text-gray-100 rounded-bl-none"} shadow-sm`,children:[r.jsx("p",{className:"text-sm whitespace-pre-wrap",children:w.content}),r.jsxs("div",{className:`text-[10px] mt-1 ${z?"text-blue-100":"text-gray-400 dark:text-gray-500"}`,children:[new Date(w.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),z&&w.sender&&`  ${w.sender.name}`]})]})},w.id)}),r.jsx("div",{ref:v})]}),r.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:r.jsxs("form",{onSubmit:T,className:"flex gap-2",children:[r.jsx("input",{type:"text",value:f,onChange:w=>g(w.target.value),placeholder:"Type a message...",className:"flex-1 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:placeholder-gray-400"}),r.jsx("button",{type:"submit",disabled:!f.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed font-medium transition-colors",children:"Send"})]})})]}),r.jsxs("div",{className:"w-full md:w-80 bg-white dark:bg-gray-800 p-4 overflow-y-auto border-l border-gray-200 dark:border-gray-700",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"Assignment"}),r.jsxs("select",{value:i.assignedToId||"",onChange:E,className:"w-full p-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Unassigned"}),y.map(w=>r.jsx("option",{value:w.id,children:w.name},w.id))]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"Contact Info"}),r.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded border border-gray-100 dark:border-gray-600",children:[r.jsxs("p",{className:"text-sm text-gray-800 dark:text-gray-200 mb-1",children:[r.jsx("span",{className:"font-semibold",children:"Name:"})," ",i.contact?.name]}),r.jsxs("p",{className:"text-sm text-gray-800 dark:text-gray-200 mb-1",children:[r.jsx("span",{className:"font-semibold",children:"Phone:"})," ",i.contact?.phone]}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:i.contact?.tags?.map((w,z)=>r.jsx("span",{className:"text-xs bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 px-2 py-0.5 rounded-full",children:w},z))})]})]}),r.jsx(r3,{contactId:i.contactId})]})]}):r.jsx("div",{className:"p-6 text-center",children:"Conversation not found"})},l3=()=>{const[n,s]=A.useState([]),[i,o]=A.useState(!0),[c,d]=A.useState("Verified"),[f,g]=A.useState(!1),[m,x]=A.useState({name:"",email:"",role:"AGENT",avatar:""});A.useEffect(()=>{y()},[]);const y=async()=>{try{o(!0);const N=await ce.getTeamMembers();s(N)}catch(N){console.error("Failed to fetch team members:",N)}finally{o(!1)}},p=N=>{const{name:k,value:T}=N.target;x(E=>({...E,[k]:T}))},v=async N=>{N.preventDefault();try{await ce.addTeamMember(m),y(),g(!1),x({name:"",email:"",role:"AGENT",avatar:""})}catch(k){console.error("Failed to add team member:",k),alert("Failed to add team member")}},j=async N=>{if(window.confirm("Are you sure you want to remove this team member?"))try{await ce.deleteTeamMember(N),y()}catch(k){console.error("Failed to delete member:",k)}};return r.jsxs("div",{className:"team-page p-6 bg-gray-50 dark:bg-black min-h-full transition-colors duration-300",children:[r.jsxs("div",{className:"flex gap-8 border-b border-gray-200 dark:border-zinc-800 mb-8",children:[r.jsxs("button",{className:`pb-3 text-sm font-medium transition-colors relative ${c==="Verified"?"text-blue-600 dark:text-green-500":"text-gray-500 dark:text-zinc-500 hover:text-gray-700 dark:hover:text-zinc-300"}`,onClick:()=>d("Verified"),children:["Verified",c==="Verified"&&r.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 dark:bg-green-500 rounded-t-full"})]}),r.jsxs("button",{className:`pb-3 text-sm font-medium transition-colors relative ${c==="Unverified"?"text-blue-600 dark:text-green-500":"text-gray-500 dark:text-zinc-500 hover:text-gray-700 dark:hover:text-zinc-300"}`,onClick:()=>d("Unverified"),children:["Unverified",c==="Unverified"&&r.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 dark:bg-green-500 rounded-t-full"})]})]}),r.jsxs("div",{className:"flex justify-between items-start mb-8",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1",children:"Team"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-zinc-400",children:"Add, edit, and delete accounts in your team"})]}),r.jsxs("button",{onClick:()=>g(!0),className:"bg-blue-600 hover:bg-blue-700 dark:bg-green-600 dark:hover:bg-green-700 text-white px-4 py-2 rounded-full text-sm font-medium flex items-center gap-2 transition-colors shadow-sm",children:["Invite User ",r.jsx(ka,{size:16})]})]}),r.jsxs("div",{className:"bg-white dark:bg-[#09090b] p-4 rounded-xl shadow-sm mb-6 flex justify-between items-center border border-gray-100 dark:border-zinc-800",children:[r.jsxs("div",{className:"relative w-64",children:[r.jsx(Kd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-zinc-500",size:18}),r.jsx("input",{type:"text",placeholder:"Search Team",className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-zinc-900/50 border-none rounded-lg text-sm focus:ring-2 focus:ring-blue-100 dark:focus:ring-green-900 focus:bg-white dark:focus:bg-zinc-900 transition-all outline-none text-gray-700 dark:text-zinc-200 placeholder-gray-400 dark:placeholder-zinc-600"})]}),r.jsxs("button",{className:"flex items-center gap-2 text-gray-500 dark:text-zinc-400 hover:text-gray-700 dark:hover:text-zinc-200 border border-gray-200 dark:border-zinc-800 hover:border-gray-300 dark:hover:border-zinc-700 rounded-lg px-3 py-2 text-sm transition-all bg-white dark:bg-[#09090b]",children:[r.jsx(A1,{size:16}),"Columns"]})]}),r.jsx("div",{className:"bg-white dark:bg-[#09090b] rounded-xl shadow-sm overflow-hidden border border-gray-100 dark:border-zinc-800",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-blue-50/50 dark:bg-zinc-900 border-b border-gray-100 dark:border-zinc-800",children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-zinc-200",children:"Name"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-zinc-200",children:"Email"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-zinc-200",children:"Role"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-zinc-200",children:"Active/Inactive"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-zinc-200",children:"Assignable"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-900 dark:text-zinc-200",children:"Last updated"}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-900 dark:text-zinc-200",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-50 dark:divide-zinc-800",children:i?r.jsx("tr",{children:r.jsx("td",{colSpan:"7",className:"px-6 py-8 text-center text-gray-500 dark:text-zinc-500 text-sm",children:"Loading..."})}):n.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"7",className:"px-6 py-8 text-center text-gray-500 dark:text-zinc-500 text-sm",children:"No team members found."})}):n.map(N=>r.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-zinc-900/50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"flex items-center",children:r.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-zinc-200",children:N.name})})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-zinc-400",children:N.email}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-900 dark:text-zinc-300 capitalize",children:N.role.toLowerCase()})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsx("div",{className:"w-8 h-4 bg-green-200 dark:bg-green-900/40 rounded-full relative cursor-pointer",children:r.jsx("div",{className:"absolute right-0.5 top-0.5 w-3 h-3 bg-white rounded-full shadow-sm"})})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsx("input",{type:"checkbox",className:"rounded text-blue-600 dark:text-green-600 focus:ring-blue-500 dark:focus:ring-green-500 border-gray-300 dark:border-zinc-700 dark:bg-zinc-900",defaultChecked:!0})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-zinc-500",children:[new Date(N.updatedAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})," ",new Date(N.updatedAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:r.jsx("button",{onClick:()=>j(N.id),className:"text-gray-400 dark:text-zinc-600 hover:text-red-600 dark:hover:text-red-500 transition-colors",children:"Remove"})})]},N.id))})]})}),f&&r.jsx("div",{className:"fixed inset-0 bg-black/20 dark:bg-black/70 backdrop-blur-sm overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:r.jsxs("div",{className:"relative p-6 border dark:border-zinc-800 w-96 shadow-2xl rounded-xl bg-white dark:bg-[#09090b] animate-fade-in up",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"Invite Team Member"}),r.jsx("p",{className:"text-sm text-gray-500 dark:text-zinc-400 mb-4",children:"Send an invitation to join your team."}),r.jsxs("form",{onSubmit:v,children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-gray-700 dark:text-zinc-300 text-xs font-semibold mb-1.5 uppercase tracking-wide",children:"Name"}),r.jsx("input",{type:"text",name:"name",value:m.name,onChange:p,className:"w-full px-3 py-2 border border-gray-200 dark:border-zinc-800 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:focus:ring-green-500/20 focus:border-blue-500 dark:focus:border-green-500 transition-all placeholder-gray-300 dark:placeholder-zinc-600 dark:bg-zinc-900 dark:text-white",placeholder:"Jane Doe",required:!0})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-gray-700 dark:text-zinc-300 text-xs font-semibold mb-1.5 uppercase tracking-wide",children:"Email"}),r.jsx("input",{type:"email",name:"email",value:m.email,onChange:p,className:"w-full px-3 py-2 border border-gray-200 dark:border-zinc-800 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:focus:ring-green-500/20 focus:border-blue-500 dark:focus:border-green-500 transition-all placeholder-gray-300 dark:placeholder-zinc-600 dark:bg-zinc-900 dark:text-white",placeholder:"jane@example.com",required:!0})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-gray-700 dark:text-zinc-300 text-xs font-semibold mb-1.5 uppercase tracking-wide",children:"Role"}),r.jsxs("select",{name:"role",value:m.role,onChange:p,className:"w-full px-3 py-2 border border-gray-200 dark:border-zinc-800 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 dark:focus:ring-green-500/20 focus:border-blue-500 dark:focus:border-green-500 transition-all bg-white dark:bg-zinc-900 dark:text-white",children:[r.jsx("option",{value:"AGENT",children:"Agent"}),r.jsx("option",{value:"MANAGER",children:"Manager"}),r.jsx("option",{value:"ADMIN",children:"Admin"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 bg-gray-100 dark:bg-zinc-900 text-gray-700 dark:text-zinc-300 text-sm font-medium rounded-lg hover:bg-gray-200 dark:hover:bg-zinc-800 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 dark:bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 dark:hover:bg-green-700 shadow-sm shadow-blue-200 dark:shadow-none transition-colors",children:"Send Invitation"})]})]})]})})]})};function o3(){return r.jsx(n2,{children:r.jsx(a2,{children:r.jsx(e2,{children:r.jsx(M1,{children:r.jsxs(D1,{children:[r.jsx(yt,{path:"/login",element:r.jsx(u2,{})}),r.jsxs(yt,{path:"/",element:r.jsx(s2,{children:r.jsx(r2,{})}),children:[r.jsx(yt,{index:!0,element:r.jsx(i2,{})}),r.jsx(yt,{path:"contacts",element:r.jsx(o2,{})}),r.jsx(yt,{path:"lists",element:r.jsx(c2,{})}),r.jsx(yt,{path:"campaigns",element:r.jsx(f2,{})}),r.jsx(yt,{path:"campaigns/new",element:r.jsx(d2,{})}),r.jsx(yt,{path:"templates",element:r.jsx(m2,{})}),r.jsx(yt,{path:"media",element:r.jsx(h2,{})}),r.jsx(yt,{path:"settings",element:r.jsx(x2,{})}),r.jsx(yt,{path:"automations",element:r.jsx(p2,{})}),r.jsx(yt,{path:"automations/:id",element:r.jsx(a3,{})}),r.jsx(yt,{path:"inbox",element:r.jsx(s3,{})}),r.jsx(yt,{path:"inbox/:id",element:r.jsx(i3,{})}),r.jsx(yt,{path:"team",element:r.jsx(l3,{})})]})]})})})})})}V1.createRoot(document.getElementById("root")).render(r.jsx(A.StrictMode,{children:r.jsx(o3,{})}));
